apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: accessrequests.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: AccessRequest
        listKind: AccessRequestList
        plural: accessrequests
        singular: accessrequest
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: AccessRequest is the Schema for the accessrequest API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: AccessRequestSpec defines the desired state of AccessRequest
                        properties:
                            controlPlaneEndpoint:
                                description: |-
                                    ControlPlaneEndpoint represents the endpoint used to communicate with the
                                    management cluster controlplane endpoint. It will be used when generating the
                                    kubeconfig.
                                minProperties: 1
                                properties:
                                    host:
                                        description: host is the hostname on which the API server is serving.
                                        maxLength: 512
                                        minLength: 1
                                        type: string
                                    port:
                                        description: port is the port on which the API server is serving.
                                        format: int32
                                        maximum: 65535
                                        minimum: 1
                                        type: integer
                                type: object
                            name:
                                description: |-
                                    Name is the name of the service account created
                                    for this AccessRequest
                                type: string
                            namespace:
                                description: |-
                                    Namespace is the namespace of the service account created
                                    for this AccessRequest
                                type: string
                            type:
                                description: Type represent the type of the request
                                enum:
                                    - SveltosAgent
                                    - Different
                                type: string
                        required:
                            - controlPlaneEndpoint
                            - name
                            - namespace
                            - type
                        type: object
                    status:
                        description: AccessRequestStatus defines the status of AccessRequest
                        properties:
                            failureMessage:
                                description: FailureMessage provides more information if an error occurs.
                                type: string
                            secretRef:
                                description: SecretRef points to the Secret containing Kubeconfig
                                properties:
                                    apiVersion:
                                        description: API version of the referent.
                                        type: string
                                    fieldPath:
                                        description: |-
                                            If referring to a piece of an object instead of an entire object, this string
                                            should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                            For example, if the object reference is to a container within a pod, this would take on a value like:
                                            "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                            the event) or if no container name is specified "spec.containers[2]" (container with
                                            index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                            referencing a part of an object.
                                        type: string
                                    kind:
                                        description: |-
                                            Kind of the referent.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                        type: string
                                    name:
                                        description: |-
                                            Name of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        type: string
                                    namespace:
                                        description: |-
                                            Namespace of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                        type: string
                                    resourceVersion:
                                        description: |-
                                            Specific resourceVersion to which this reference is made, if any.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                        type: string
                                    uid:
                                        description: |-
                                            UID of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                        type: string
                                type: object
                                x-kubernetes-map-type: atomic
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: classifierreports.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: ClassifierReport
        listKind: ClassifierReportList
        plural: classifierreports
        singular: classifierreport
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClassifierReport is the Schema for the classifierreports API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            classifierName:
                                description: |-
                                    ClassifierName is the name of the Classifier instance this report
                                    is for.
                                type: string
                            clusterName:
                                description: |-
                                    ClusterName is the name of the Cluster this ClusterReport
                                    is for.
                                type: string
                            clusterNamespace:
                                description: |-
                                    ClusterNamespace is the namespace of the Cluster this
                                    ClusterReport is for.
                                type: string
                            clusterType:
                                description: ClusterType is the type of Cluster
                                type: string
                            match:
                                description: |-
                                    Match indicates whether Cluster is currently a match for
                                    the Classifier instance this report is for
                                type: boolean
                        required:
                            - classifierName
                            - clusterName
                            - clusterNamespace
                            - clusterType
                            - match
                        type: object
                    status:
                        description: ClassifierReportStatus defines the observed state of ClassifierReport
                        properties:
                            phase:
                                description: Phase represents the current phase of report.
                                enum:
                                    - WaitingForDelivery
                                    - Delivering
                                    - Processed
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: classifiers.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: Classifier
        listKind: ClassifierList
        plural: classifiers
        singular: classifier
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: Classifier is the Schema for the classifiers API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: ClassifierSpec defines the desired state of Classifier
                        properties:
                            classifierLabels:
                                description: |-
                                    ClassifierLabels is set of labels, key,value pair, that will be added to each
                                    cluster matching Classifier instance
                                items:
                                    properties:
                                        key:
                                            description: Key is the label key
                                            type: string
                                        value:
                                            description: Value is the label value
                                            type: string
                                    required:
                                        - key
                                        - value
                                    type: object
                                type: array
                            deployedResourceConstraint:
                                description: DeployedResourceConstraint allows to classify based on current deployed resources
                                properties:
                                    aggregatedClassification:
                                        description: |-
                                            AggregatedClassification is optional and can be used to specify a Lua function
                                            that will be used to further detect whether the subset of the resources
                                            selected using the ResourceSelector field are a match for this Classifier.
                                            The function will receive the array of resources selected by ResourceSelectors.
                                            If this field is not specified, a cluster is a match for Classifier instance,
                                            if all ResourceSelectors returns at least one match.
                                            This field allows to perform more complex evaluation  on the resources, looking
                                            at all resources together.
                                            This can be useful for more sophisticated tasks, such as identifying resources
                                            that are related to each other or that have similar properties.
                                            The Lua function must return a struct with:
                                            - "matching" field: boolean indicating whether cluster is a match;
                                            - "message" field: (optional) message.
                                        type: string
                                    resourceSelectors:
                                        description: |-
                                            ResourceSelectors identifies what resources to select
                                            If no AggregatedClassification is specified, a cluster is
                                            a match for Classifier instance, if all ResourceSelectors returns at
                                            least one match.
                                        items:
                                            description: ResourceSelector defines what resources are a match
                                            properties:
                                                evaluate:
                                                    description: |-
                                                        Evaluate contains a function "evaluate" in lua language.
                                                        The function will be passed one of the object selected based on
                                                        above criteria.
                                                        Must return struct with field "matching" representing whether
                                                        object is a match and an optional "message" field.
                                                    type: string
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                group:
                                                    description: Group of the resource deployed in the Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name of the resource deployed in the  Cluster.
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource deployed in the  Cluster.
                                                        Empty for resources scoped at cluster level.
                                                        For namespaced resources, an empty string "" indicates all namespaces.
                                                    type: string
                                                selector:
                                                    description: |-
                                                        Selector is a standard Kubernetes label selector. Resources are selected
                                                        if their labels match the selector. This field uses the standard
                                                        Kubernetes label matching syntax (e.g., {"environment": "production"}).
                                                        If both LabelFilters and Selector are specified, the requirements from
                                                        both are logically ANDed.
                                                    properties:
                                                        matchExpressions:
                                                            description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                            items:
                                                                description: |-
                                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                                    relates the key and values.
                                                                properties:
                                                                    key:
                                                                        description: key is the label key that the selector applies to.
                                                                        type: string
                                                                    operator:
                                                                        description: |-
                                                                            operator represents a key's relationship to a set of values.
                                                                            Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                        type: string
                                                                    values:
                                                                        description: |-
                                                                            values is an array of string values. If the operator is In or NotIn,
                                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                            the values array must be empty. This array is replaced during a strategic
                                                                            merge patch.
                                                                        items:
                                                                            type: string
                                                                        type: array
                                                                        x-kubernetes-list-type: atomic
                                                                required:
                                                                    - key
                                                                    - operator
                                                                type: object
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        matchLabels:
                                                            additionalProperties:
                                                                type: string
                                                            description: |-
                                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                            type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                version:
                                                    description: Version of the resource deployed in the Cluster.
                                                    type: string
                                            required:
                                                - group
                                                - kind
                                                - version
                                            type: object
                                        type: array
                                required:
                                    - resourceSelectors
                                type: object
                            kubernetesVersionConstraints:
                                description: KubernetesVersionConstraints allows to classify based on current kubernetes version
                                items:
                                    properties:
                                        comparison:
                                            description: Comparison indicate how to compare cluster kubernetes version with the specified version
                                            enum:
                                                - Equal
                                                - NotEqual
                                                - GreaterThan
                                                - LessThan
                                                - GreaterThanOrEqualTo
                                                - LessThanOrEqualTo
                                            type: string
                                        version:
                                            description: Version is the kubernetes version
                                            type: string
                                    required:
                                        - comparison
                                        - version
                                    type: object
                                type: array
                        required:
                            - classifierLabels
                        type: object
                    status:
                        description: ClassifierStatus defines the observed state of Classifier
                        properties:
                            clusterInfo:
                                description: |-
                                    ClusterInfo reference all the cluster-api Cluster where Classifier
                                    has been/is being deployed
                                items:
                                    properties:
                                        cluster:
                                            description: Cluster references the Cluster
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        failureMessage:
                                            description: FailureMessage provides more information about the error.
                                            type: string
                                        hash:
                                            description: |-
                                                Hash represents the hash of the Classifier currently deployed
                                                in the Cluster
                                            format: byte
                                            type: string
                                        status:
                                            description: Status represents the state of the feature in the workload cluster
                                            enum:
                                                - Provisioning
                                                - Provisioned
                                                - Failed
                                                - FailedNonRetriable
                                                - Removing
                                                - Removed
                                            type: string
                                    required:
                                        - cluster
                                        - hash
                                    type: object
                                type: array
                            machingClusterStatuses:
                                description: |-
                                    MatchingClusterRefs reference all the cluster-api Cluster currently matching
                                    Classifier
                                items:
                                    properties:
                                        clusterRef:
                                            description: ClusterRef references the matching Cluster
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        managedLabels:
                                            description: |-
                                                ManagedLabels indicates the labels being managed on
                                                the cluster by this Classifier instance
                                            items:
                                                type: string
                                            type: array
                                        unManagedLabels:
                                            description: |-
                                                UnManagedLabel indicates the labels this Classifier instance
                                                would like to manage but cannot because different instance is
                                                already managing it
                                            items:
                                                properties:
                                                    failureMessage:
                                                        description: |-
                                                            FailureMessage is a human consumable message explaining the
                                                            misconfiguration
                                                        type: string
                                                    key:
                                                        description: |-
                                                            Key represents a label Classifier would like to manage
                                                            but cannot because currently managed by different instance
                                                        type: string
                                                required:
                                                    - key
                                                type: object
                                            type: array
                                    required:
                                        - clusterRef
                                    type: object
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: clusterhealthchecks.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: ClusterHealthCheck
        listKind: ClusterHealthCheckList
        plural: clusterhealthchecks
        singular: clusterhealthcheck
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClusterHealthCheck is the Schema for the clusterhealthchecks API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: ClusterHealthCheckSpec defines the desired state of ClusterHealthCheck
                        properties:
                            clusterSelector:
                                description: Selector identifies clusters to associate to.
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            livenessChecks:
                                description: |-
                                    LivenessChecks is a list of source of liveness checks to evaluate.
                                    Anytime one of those changes, notifications will be sent
                                items:
                                    properties:
                                        livenessSourceRef:
                                            description: |-
                                                LivenessSourceRef is a reference to a liveness-specific resource that holds
                                                the details for the liveness check.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        name:
                                            description: |-
                                                Name of the liveness check.
                                                Must be a DNS_LABEL and unique within the ClusterHealthCheck.
                                            type: string
                                        type:
                                            description: Type specifies the type of liveness
                                            enum:
                                                - Addons
                                                - HealthCheck
                                            type: string
                                    required:
                                        - name
                                        - type
                                    type: object
                                type: array
                            notifications:
                                description: Notification is a list of notification mechanisms.
                                items:
                                    properties:
                                        name:
                                            description: |-
                                                Name of the notification check.
                                                Must be a DNS_LABEL and unique within the ClusterHealthCheck.
                                            type: string
                                        notificationRef:
                                            description: |-
                                                NotificationRef is a reference to a notification-specific resource that holds
                                                the details for the notification.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type:
                                            description: NotificationType specifies the type of notification
                                            enum:
                                                - KubernetesEvent
                                                - Slack
                                                - Webex
                                                - Discord
                                                - Teams
                                                - Telegram
                                                - SMTP
                                            type: string
                                    required:
                                        - name
                                        - type
                                    type: object
                                type: array
                        required:
                            - livenessChecks
                            - notifications
                        type: object
                    status:
                        properties:
                            clusterCondition:
                                description: |-
                                    ClusterConditions contains conditions and notification status for all clusters
                                    matching ClusterHealthCheck instance
                                items:
                                    properties:
                                        clusterInfo:
                                            properties:
                                                cluster:
                                                    description: Cluster references the Cluster
                                                    properties:
                                                        apiVersion:
                                                            description: API version of the referent.
                                                            type: string
                                                        fieldPath:
                                                            description: |-
                                                                If referring to a piece of an object instead of an entire object, this string
                                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                                referencing a part of an object.
                                                            type: string
                                                        kind:
                                                            description: |-
                                                                Kind of the referent.
                                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                            type: string
                                                        name:
                                                            description: |-
                                                                Name of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                            type: string
                                                        namespace:
                                                            description: |-
                                                                Namespace of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                            type: string
                                                        resourceVersion:
                                                            description: |-
                                                                Specific resourceVersion to which this reference is made, if any.
                                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                            type: string
                                                        uid:
                                                            description: |-
                                                                UID of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                failureMessage:
                                                    description: FailureMessage provides more information about the error.
                                                    type: string
                                                hash:
                                                    description: |-
                                                        Hash represents the hash of the Classifier currently deployed
                                                        in the Cluster
                                                    format: byte
                                                    type: string
                                                status:
                                                    description: Status represents the state of the feature in the workload cluster
                                                    enum:
                                                        - Provisioning
                                                        - Provisioned
                                                        - Failed
                                                        - FailedNonRetriable
                                                        - Removing
                                                        - Removed
                                                    type: string
                                            required:
                                                - cluster
                                                - hash
                                            type: object
                                        conditions:
                                            description: Cluster conditions.
                                            items:
                                                description: Condition defines an observation of a Cluster API resource operational state.
                                                properties:
                                                    lastTransitionTime:
                                                        description: |-
                                                            Last time the condition transitioned from one status to another.
                                                            This should be when the underlying condition changed. If that is not known, then using the time when
                                                            the API field changed is acceptable.
                                                        format: date-time
                                                        type: string
                                                    message:
                                                        description: |-
                                                            A human readable message indicating details about the transition.
                                                            This field may be empty.
                                                        type: string
                                                    name:
                                                        description: Condition name
                                                        type: string
                                                    reason:
                                                        description: |-
                                                            The reason for the condition's last transition in CamelCase.
                                                            The specific API may choose whether or not this field is considered a guaranteed API.
                                                            This field may not be empty.
                                                        type: string
                                                    severity:
                                                        description: |-
                                                            Severity provides an explicit classification of Reason code, so the users or machines can immediately
                                                            understand the current situation and act accordingly.
                                                            The Severity field MUST be set only when Status=False.
                                                        type: string
                                                    status:
                                                        description: Status of the condition, one of True, False, Unknown.
                                                        type: string
                                                    type:
                                                        description: Type of condition in CamelCase or in foo.example.com/CamelCase.
                                                        type: string
                                                required:
                                                    - lastTransitionTime
                                                    - name
                                                    - status
                                                    - type
                                                type: object
                                            type: array
                                        notificationSummaries:
                                            description: NotificationSummaries contains status information on notifications
                                            items:
                                                properties:
                                                    failureMessage:
                                                        description: |-
                                                            FailureMessage is a human consumable message explaining the
                                                            misconfiguration
                                                        type: string
                                                    name:
                                                        description: Name of the notification check.
                                                        type: string
                                                    status:
                                                        description: NotificationStatus specifies the notification status
                                                        enum:
                                                            - Delivered
                                                            - FailedToDeliver
                                                        type: string
                                                required:
                                                    - name
                                                    - status
                                                type: object
                                            type: array
                                    required:
                                        - clusterInfo
                                    type: object
                                type: array
                            matchingClusters:
                                description: |-
                                    MatchingClusterRefs reference all the clusters currently matching
                                    ClusterHealthCheck ClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: clustersets.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: ClusterSet
        listKind: ClusterSetList
        plural: clustersets
        singular: clusterset
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClusterSet is the Schema for the clustersets API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            clusterRefs:
                                description: ClusterRefs identifies clusters to associate to.
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            clusterSelector:
                                description: ClusterSelector identifies clusters to associate to
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            maxReplicas:
                                description: |-
                                    MaxReplicas specifies the maximum number of clusters to be selected
                                    from the pool matching the clusterSelector.
                                type: integer
                        type: object
                    status:
                        description: Status defines the observed state of ClusterSet/Set
                        properties:
                            matchingClusterRefs:
                                description: |-
                                    MatchingClusterRefs reference all the clusters currently matching
                                    ClusterSet/Set ClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            selectedClusterRefs:
                                description: |-
                                    SelectedClusters reference all the cluster currently selected among
                                    all the ones matching
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: configurationbundles.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: ConfigurationBundle
        listKind: ConfigurationBundleList
        plural: configurationbundles
        singular: configurationbundle
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ConfigurationBundle is the Schema for the configurationbundle API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            helmChartVersion:
                                description: |-
                                    HelmChartVersion indicates the chart version of the Helm release
                                    these resources belong to, if any
                                type: string
                            helmIcon:
                                description: |-
                                    HelmIcon indicates the URL of the icon of the Helm release
                                    these resources belong to, if any
                                type: string
                            helmReleaseName:
                                description: |-
                                    HelmReleaseName indicates the name of the Helm release
                                    these resources belong to, if any
                                type: string
                            helmReleaseNamespace:
                                description: |-
                                    HelmReleaseNamespace indicates the namespace of the Helm release
                                    these resources belong to, if any
                                type: string
                            helmReleaseUninstall:
                                default: false
                                description: |-
                                    HelmReleaseUninstall, when true, indicates that these resources are
                                    part of a Helm release uninstallation process.
                                    This can be used to trigger specific cleanup or post-uninstall hooks.
                                type: boolean
                            helmRepoURL:
                                description: |-
                                    HelmRepoURL indicates the repo URL of the Helm release
                                    these resources belong to, if any
                                type: string
                            isLastHelmReleaseBundle:
                                default: false
                                description: |-
                                    IsLastHelmReleaseBundle, when true, indicates that this ConfigurationBundle
                                    is the final bundle in the sequence for the associated Helm release.
                                    This can be used to trigger finalization steps, such as marking the
                                    release as fully deployed or completely uninstalled in external tracking systems.
                                type: boolean
                            notTracked:
                                description: |-
                                    NotTracked, when true, signifies that the resources managed by the
                                    ConfigurationBundles should not be tracked for conflicts
                                    with other configurations and will not be automatically removed when the
                                    ConfigurationGroup is deleted. This is intended for resources like
                                    Sveltos CRDs or the agents Sveltos deploys in the managed clusters.
                                type: boolean
                            referenceTier:
                                description: |-
                                    ReferenceTier indicates the tier of the object (ConfigMap, Secret, etc)
                                    referenced by PolicyRefs/KustomizationRef which contributed to this ConfigurationBundle.
                                format: int32
                                type: integer
                            referencedObjectKind:
                                description: |-
                                    ReferencedObjectKind is the Kind of the object (ConfigMap, Secret, etc)
                                    referenced by PolicyRefs/KustomizationRef which contributed to this ConfigurationBundle.
                                type: string
                            referencedObjectName:
                                description: |-
                                    ReferencedObjectName is the Name of the object (ConfigMap, Secret, etc)
                                    referenced by PolicyRefs/KustomizationRef which contributed to this ConfigurationBundle.
                                type: string
                            referencedObjectNamespace:
                                description: |-
                                    ReferencedObjectNamespace is the Namespace of the object (ConfigMap, Secret, etc)
                                    referenced by PolicyRefs/KustomizationRef which contributed to this ConfigurationBundle.
                                type: string
                            resources:
                                description: |-
                                    Resources contains all resources that need to be deployed.
                                    Content is either YAML or JSON
                                items:
                                    type: string
                                type: array
                                x-kubernetes-list-type: atomic
                            timeout:
                                description: time to wait for Kubernetes operation (like Jobs for hooks)
                                type: string
                        type: object
                    status:
                        properties:
                            hash:
                                description: |-
                                    Hash represents of a unique value for the content stored in
                                    the ConfigurationBundle
                                format: byte
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: configurationgroups.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: ConfigurationGroup
        listKind: ConfigurationGroupList
        plural: configurationgroups
        singular: configurationgroup
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ConfigurationGroup is the Schema for the configurationgroup API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            action:
                                default: Deploy
                                enum:
                                    - Deploy
                                    - Remove
                                type: string
                            configurationItem:
                                description: |-
                                    ConfigurationItems represents a list of configurations to deploy
                                    The order of items in this list determines deployment sequence
                                items:
                                    properties:
                                        contentRef:
                                            description: |-
                                                ContentRef references the Kubernetes resource containing
                                                the content to deploy.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        hash:
                                            description: |-
                                                Hash represents of a unique value for the content stored in
                                                the referenced contentRef
                                            format: byte
                                            type: string
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            continueOnConflict:
                                default: false
                                description: |-
                                    By default (when ContinueOnConflict is unset or set to false), Sveltos stops deployment after
                                    encountering the first conflict (e.g., another ClusterProfile already deployed the resource).
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if conflicts are detected for previous resources.
                                type: boolean
                            continueOnError:
                                default: false
                                description: |-
                                    By default (when ContinueOnError is unset or set to false), Sveltos stops deployment after
                                    encountering the first error.
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if errors are detected for previous resources.
                                type: boolean
                            deployedGroupVersionKind:
                                description: |-
                                    DeployedGroupVersionKind contains all GroupVersionKinds deployed in either
                                    the workload cluster or the management cluster because of this feature.
                                    Each element has format kind.version.group
                                items:
                                    type: string
                                type: array
                            driftDetection:
                                default: false
                                description: |-
                                    DriftDetection indicates Sveltos must monitors deployed for resources configuration
                                    drift. If drift is detected, a reconciliation is triggered to ensure the managed
                                    cluster's configuration aligns with the expected configuration defined in the management
                                    cluster
                                type: boolean
                            driftExclusions:
                                description: |-
                                    DriftExclusions is a list of configuration drift exclusions to be applied when syncMode is
                                    set to ContinuousWithDriftDetection. Each exclusion specifies JSON6902 paths to ignore
                                    when evaluating drift, optionally targeting specific resources and features.
                                items:
                                    properties:
                                        paths:
                                            description: Paths is a slice of JSON6902 paths to exclude from configuration drift evaluation.
                                            items:
                                                type: string
                                            type: array
                                        target:
                                            description: Target points to the resources that the paths refers to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - paths
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            dryRun:
                                default: false
                                description: |-
                                    DryRun means no change will be propagated to matching cluster. A report
                                    instead will be generated summarizing what would happen in any matching cluster
                                    because of the changes made by this ConfigurationGroup
                                type: boolean
                            leavePolicies:
                                default: false
                                description: Indicates whether deployed resources must be left on the managed cluster.
                                type: boolean
                            maxConsecutiveFailures:
                                description: |-
                                    The maximum number of consecutive deployment failures that Sveltos will permit.
                                    After this many consecutive failures, the deployment will be considered failed, and Sveltos will stop retrying.
                                    This setting applies only to feature deployments, not resource removal.
                                    This field is optional. If not set, Sveltos default behavior is to keep retrying.
                                type: integer
                            postDeleteChecks:
                                description: |-
                                    PostDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *after* Sveltos has deleted all resources.
                                    This ensures that the environment has reached the desired clean state.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            preDeleteChecks:
                                description: |-
                                    PreDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *before* Sveltos starts deleting resources.
                                    If any of these fail, the deletion process is halted.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            reloader:
                                default: false
                                description: |-
                                    Reloader indicates whether Deployment/StatefulSet/DaemonSet instances deployed
                                    by Sveltos and part of this ConfigurationGroup need to be restarted via rolling upgrade
                                    when a ConfigMap/Secret instance mounted as volume is modified.
                                    When set to true, when any mounted ConfigMap/Secret is modified, Sveltos automatically
                                    starts a rolling upgrade for Deployment/StatefulSet/DaemonSet instances mounting it.
                                type: boolean
                            requestorHash:
                                description: |-
                                    RequestorHash represents a hash of the state of the requestor that created this ConfigurationGroup.
                                    This field is optional and can be used to determine when the creating resource's state has
                                    changed and the ConfigurationGroup needs to be updated accordingly.
                                format: byte
                                type: string
                            serviceAccountName:
                                description: |-
                                    ServiceAccountName is the name of the ServiceAccount to impersonate when applying
                                    the configuration. If empty, the default ServiceAccount for the Sveltos-applier
                                    will be used.
                                    The ServiceAccount must exist in the managed cluster.
                                type: string
                            serviceAccountNamespace:
                                description: |-
                                    ServiceAccountNamespace is the namespace of the ServiceAccount to impersonate when applying
                                    the configuration. If empty, the default namespace for the Sveltos-applier
                                    will be used (typically the same namespace where the Sveltos-applier is deployed).
                                    The ServiceAccount must exist in the managed cluster.
                                type: string
                            sourceRef:
                                description: |-
                                    SourceRef is the user facing Sveltos resource that caused this ConfigurationGroup to be
                                    created. For instance, when a ClusterSummary creates a ConfigurationGroup, the user
                                    facing resource is either a ClusterProfile or a Profile.
                                properties:
                                    apiVersion:
                                        description: API version of the referent.
                                        type: string
                                    fieldPath:
                                        description: |-
                                            If referring to a piece of an object instead of an entire object, this string
                                            should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                            For example, if the object reference is to a container within a pod, this would take on a value like:
                                            "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                            the event) or if no container name is specified "spec.containers[2]" (container with
                                            index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                            referencing a part of an object.
                                        type: string
                                    kind:
                                        description: |-
                                            Kind of the referent.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                        type: string
                                    name:
                                        description: |-
                                            Name of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        type: string
                                    namespace:
                                        description: |-
                                            Namespace of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                        type: string
                                    resourceVersion:
                                        description: |-
                                            Specific resourceVersion to which this reference is made, if any.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                        type: string
                                    uid:
                                        description: |-
                                            UID of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                        type: string
                                type: object
                                x-kubernetes-map-type: atomic
                            sourceStatus:
                                default: Active
                                description: |-
                                    SourceStatus indicates the lifecycle status of the source resource (e.g., ClusterSummary)
                                    that created this ConfigurationGroup. Valid values are "Active" and "Deleted".
                                    This field helps determine if the ConfigurationGroup was created by a source that is
                                    no longer present or in a different state.
                                enum:
                                    - Active
                                    - Deleted
                                type: string
                            tier:
                                default: 100
                                description: |-
                                    Tier controls the order of deployment for ClusterProfile or Profile resources targeting
                                    the same cluster resources.
                                    Imagine two configurations (ClusterProfiles or Profiles) trying to deploy the same resource (a Kubernetes
                                    resource or an helm chart). By default, the first one to reach the cluster "wins" and deploys it.
                                    Tier allows you to override this. When conflicts arise, the ClusterProfile or Profile with the **lowest**
                                    Tier value takes priority and deploys the resource.
                                    Higher Tier values represent lower priority. The default Tier value is 100.
                                    Using Tiers provides finer control over resource deployment within your cluster, particularly useful
                                    when multiple configurations manage the same resources.
                                format: int32
                                minimum: 1
                                type: integer
                            updatePhase:
                                default: Ready
                                description: |-
                                    UpdatePhase indicates the current phase of configuration updates. When set to "Preparing",
                                    it signals that a new version of this ConfigurationGroup is being prepared, forcing
                                    metadata.generation to advance. This allows detection of differences between
                                    status.observedGeneration and metadata.generation when agents process an older version,
                                    enabling tracking of update propagation across managed clusters.
                                enum:
                                    - Ready
                                    - Preparing
                                type: string
                            validateHealths:
                                description: |-
                                    ValidateHealths is a slice of Lua functions to run against
                                    the managed cluster to validate the state of those add-ons/applications
                                    is healthy
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                        type: object
                    status:
                        properties:
                            deployedGroupVersionKind:
                                description: |-
                                    DeployedGroupVersionKind contains all GroupVersionKinds deployed because of
                                    the ConfigurationGroup.
                                    Each element has format kind.version.group
                                items:
                                    type: string
                                type: array
                            failureMessage:
                                description: FailureMessage provides more information about the error.
                                type: string
                            lastAppliedTime:
                                description: LastAppliedTime is the time feature was last reconciled
                                format: date-time
                                type: string
                            observedGeneration:
                                description: |-
                                    ObservedGeneration reflects the generation of the most recently observed ConfigurationGroup.
                                    When this value matches the ConfigurationGroup's metadata.generation, it indicates that the
                                    status reflects the latest desired specification. If observedGeneration is less than generation,
                                    it means the controller has not yet processed the latest changes to the specification.
                                format: int64
                                type: integer
                            observedRequestorHash:
                                description: |-
                                    ObservedRequestorHash reflects the requestor hash that was last processed by the controller.
                                    When this value matches the spec.requestorHash, it indicates that the controller has
                                    processed the latest state of the creating resource. If observedRequestorHash differs
                                    from spec.requestorHash, it means the requestor has changed and reconciliation is needed.
                                format: byte
                                type: string
                            status:
                                description: Status represents the state of the feature in the workload cluster
                                enum:
                                    - Provisioning
                                    - Provisioned
                                    - Failed
                                    - FailedNonRetriable
                                    - Removing
                                    - Removed
                                    - AgentRemoving
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: debuggingconfigurations.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: DebuggingConfiguration
        listKind: DebuggingConfigurationList
        plural: debuggingconfigurations
        singular: debuggingconfiguration
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: DebuggingConfiguration is the Schema for the debuggingconfigurations API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: DebuggingConfigurationSpec defines the desired state of DebuggingConfiguration
                        properties:
                            configuration:
                                description: Configuration contains debugging configuration as granular as per component.
                                items:
                                    description: ComponentConfiguration is the debugging configuration to be applied to a Sveltos component.
                                    properties:
                                        component:
                                            description: Component indicates which Sveltos component the configuration applies to.
                                            enum:
                                                - AddonManager
                                                - Classifier
                                                - ClassifierAgent
                                                - SveltosClusterManager
                                                - DriftDetectionManager
                                                - AccessManager
                                                - HealthCheckManager
                                                - EventManager
                                                - ShardController
                                                - UIBackend
                                                - SveltosAgent
                                                - ConversionWebhook
                                                - Techsupport
                                                - MCPServer
                                            type: string
                                        logLevel:
                                            description: 'LogLevel is the log severity above which logs are sent to the stdout. [Default: Info]'
                                            enum:
                                                - LogLevelNotSet
                                                - LogLevelInfo
                                                - LogLevelDebug
                                                - LogLevelVerbose
                                            type: string
                                    required:
                                        - component
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                        type: object
                type: object
          served: true
          storage: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: eventreports.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: EventReport
        listKind: EventReportList
        plural: eventreports
        singular: eventreport
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: EventReport is the Schema for the EventReport API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            cloudEvents:
                                description: CloudEvents contains a list of CloudEvents matching an EventSource
                                items:
                                    format: byte
                                    type: string
                                type: array
                            clusterName:
                                description: |-
                                    ClusterName is the name of the Cluster this EventReport
                                    is for.
                                type: string
                            clusterNamespace:
                                description: |-
                                    ClusterNamespace is the namespace of the Cluster this
                                    EventReport is for.
                                type: string
                            clusterType:
                                description: |-
                                    ClusterType is the type of Cluster this EventReport
                                    is for.
                                type: string
                            eventSourceName:
                                description: |-
                                    EventSourceName is the name of the EventSource instance this report
                                    is for.
                                type: string
                            matchingResources:
                                description: MatchingResources contains a list of resources matching an EventSource
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                                x-kubernetes-list-type: atomic
                            resources:
                                description: |-
                                    If EventSource Spec.CollectResources is set to true, all matching resources
                                    will be collected and contained in the Resources field.
                                format: byte
                                type: string
                        required:
                            - clusterName
                            - clusterNamespace
                            - clusterType
                            - eventSourceName
                        type: object
                    status:
                        description: EventReportStatus defines the observed state of EventReport
                        properties:
                            phase:
                                description: Phase represents the current phase of report.
                                enum:
                                    - WaitingForDelivery
                                    - Delivering
                                    - Processed
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: eventsources.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: EventSource
        listKind: EventSourceList
        plural: eventsources
        singular: eventsource
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: EventSource is the Schema for the EventSource API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: EventSourceSpec defines the desired state of EventSource
                        properties:
                            aggregatedSelection:
                                description: |-
                                    This field is optional and can be used to specify a Lua function
                                    that will be used to further select a subset of the resources that
                                    have already been selected using the ResourceSelector field.
                                    The function will receive the array of resources selected by ResourceSelectors.
                                    If this field is not specified, all resources selected by the ResourceSelector
                                    field will be considered.
                                    This field allows to perform more complex filtering or selection operations
                                    on the resources, looking at all resources together.
                                    This can be useful for more sophisticated tasks, such as identifying resources
                                    that are related to each other or that have similar properties.
                                    The Lua function must return a struct with:
                                    - "resources" field: slice of matching resorces;
                                    - "message" field: (optional) message.
                                type: string
                            collectResources:
                                default: false
                                description: |-
                                    CollectResources indicates whether matching resources need
                                    to be collected and added to EventReport.
                                type: boolean
                            messagingMatchCriteria:
                                description: |-
                                    MessagingMatchCriteria defines a list of MessagingMatchCriteria. Each criteria specifies
                                    how to match CloudEvents received on specific NATS/JetStream subjects.
                                items:
                                    description: |-
                                        MessagingMatchCriteria defines criteria for matching CloudEvents received via NATS.
                                        Sveltos listens to NATS/JetStream subjects, and the messages delivered on those
                                        subjects are expected to be CloudEvents.
                                    properties:
                                        cloudEventSource:
                                            description: |-
                                                CloudEventSource filters CloudEvents based on their "source" attribute.
                                                If specified, only CloudEvents with a matching source will be considered.
                                                Regular expressions are supported.
                                            type: string
                                        cloudEventSubject:
                                            description: |-
                                                CloudEventSubject filters CloudEvents based on their "subject" attribute.
                                                If specified, only CloudEvents with a matching subject will be considered.
                                                Regular expressions are supported.
                                            type: string
                                        cloudEventType:
                                            description: |-
                                                CloudEventType filters CloudEvents based on their "type" attribute.
                                                If specified, only CloudEvents with a matching type will be considered.
                                                Regular expressions are supported.
                                            type: string
                                        subject:
                                            description: |-
                                                Subject is an optional NATS/JetStream subject filter. If specified, this criteria will
                                                only consider CloudEvents received on this specific subject. Leaving it empty
                                                means the criteria will match CloudEvents from any of the subjects Sveltos
                                                is subscribed to. Regular expressions are supported.
                                            type: string
                                    type: object
                                type: array
                            resourceSelectors:
                                description: ResourceSelectors identifies what Kubernetes resources to select
                                items:
                                    description: ResourceSelector defines what resources are a match
                                    properties:
                                        evaluate:
                                            description: |-
                                                Evaluate contains a function "evaluate" in lua language.
                                                The function will be passed one of the object selected based on
                                                above criteria.
                                                Must return struct with field "matching" representing whether
                                                object is a match and an optional "message" field.
                                            type: string
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        group:
                                            description: Group of the resource deployed in the Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name of the resource deployed in the  Cluster.
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource deployed in the  Cluster.
                                                Empty for resources scoped at cluster level.
                                                For namespaced resources, an empty string "" indicates all namespaces.
                                            type: string
                                        selector:
                                            description: |-
                                                Selector is a standard Kubernetes label selector. Resources are selected
                                                if their labels match the selector. This field uses the standard
                                                Kubernetes label matching syntax (e.g., {"environment": "production"}).
                                                If both LabelFilters and Selector are specified, the requirements from
                                                both are logically ANDed.
                                            properties:
                                                matchExpressions:
                                                    description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                    items:
                                                        description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                        properties:
                                                            key:
                                                                description: key is the label key that the selector applies to.
                                                                type: string
                                                            operator:
                                                                description: |-
                                                                    operator represents a key's relationship to a set of values.
                                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                type: string
                                                            values:
                                                                description: |-
                                                                    values is an array of string values. If the operator is In or NotIn,
                                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                    the values array must be empty. This array is replaced during a strategic
                                                                    merge patch.
                                                                items:
                                                                    type: string
                                                                type: array
                                                                x-kubernetes-list-type: atomic
                                                        required:
                                                            - key
                                                            - operator
                                                        type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                matchLabels:
                                                    additionalProperties:
                                                        type: string
                                                    description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                    type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        version:
                                            description: Version of the resource deployed in the Cluster.
                                            type: string
                                    required:
                                        - group
                                        - kind
                                        - version
                                    type: object
                                type: array
                        type: object
                type: object
          served: true
          storage: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: healthcheckreports.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: HealthCheckReport
        listKind: HealthCheckReportList
        plural: healthcheckreports
        singular: healthcheckreport
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: HealthCheckReport is the Schema for the HealthCheckReport API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            clusterName:
                                description: |-
                                    ClusterName is the name of the Cluster this HealthCheckReport
                                    is for.
                                type: string
                            clusterNamespace:
                                description: |-
                                    ClusterNamespace is the namespace of the Cluster this
                                    HealthCheckReport is for.
                                type: string
                            clusterType:
                                description: |-
                                    ClusterType is the type of Cluster this HealthCheckReport
                                    is for.
                                type: string
                            healthCheckName:
                                description: |-
                                    HealthName is the name of the HealthCheck instance this report
                                    is for.
                                type: string
                            resourceStatuses:
                                description: ResourceStatuses contains a list of resources with their status
                                items:
                                    properties:
                                        healthStatus:
                                            description: HealthStatus is the health status of the object
                                            enum:
                                                - Healthy
                                                - Progressing
                                                - Degraded
                                                - Suspended
                                            type: string
                                        message:
                                            description: Message is an extra message for human consumption
                                            type: string
                                        objectRef:
                                            description: ObjectRef for which status is reported
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        resource:
                                            description: |-
                                                If HealthCheck Spec.CollectResources is set to true, resource
                                                will be collected and contained in the Resource field.
                                            format: byte
                                            type: string
                                    required:
                                        - healthStatus
                                        - objectRef
                                    type: object
                                type: array
                        required:
                            - clusterName
                            - clusterNamespace
                            - clusterType
                            - healthCheckName
                        type: object
                    status:
                        description: HealthCheckReportStatus defines the observed state of HealthCheckReport
                        properties:
                            phase:
                                description: Phase represents the current phase of report.
                                enum:
                                    - WaitingForDelivery
                                    - Delivering
                                    - Processed
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: healthchecks.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: HealthCheck
        listKind: HealthCheckList
        plural: healthchecks
        singular: healthcheck
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: HealthCheck is the Schema for the HealthCheck API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: HealthCheckSpec defines the desired state of HealthCheck
                        properties:
                            collectResources:
                                default: false
                                description: |-
                                    CollectResources indicates whether matching resources need
                                    to be collected and added to HealthReport.
                                type: boolean
                            evaluateHealth:
                                description: |-
                                    The EvaluateHealth field specifies a Lua function responsible for evaluating the
                                    health of the resources selected by resourceSelectors.
                                    This function can assess the health of each resource independently or consider inter-resource relationships.
                                    The function must be named *evaluate* and can access all objects identified by resourceSelectors using
                                    the *resources* variable. It should return an array of structured instances, each containing the following fields:
                                    - resource: The resource being evaluated
                                    - healthStatus: The health status of the resource, which can be one of "Healthy", "Progressing", "Degraded", or "Suspended"
                                    - message: An optional message providing additional information about the health status
                                    - reEvaluate: If set to true, this healthCheck instances will be re-evaluated in 10 seconds
                                minLength: 1
                                type: string
                            evaluateIndependently:
                                default: true
                                description: |-
                                    EvaluateIndependently indicates whether matching resources can be evaluated
                                    in smaller batches to save memory.
                                    Set this to true if the Lua script evaluates each resource independently.
                                    Set this to false if the Lua script needs to compare all selected resources
                                type: boolean
                            resourceSelectors:
                                description: ResourceSelectors identifies what resources to select to evaluate health
                                items:
                                    description: ResourceSelector defines what resources are a match
                                    properties:
                                        evaluate:
                                            description: |-
                                                Evaluate contains a function "evaluate" in lua language.
                                                The function will be passed one of the object selected based on
                                                above criteria.
                                                Must return struct with field "matching" representing whether
                                                object is a match and an optional "message" field.
                                            type: string
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        group:
                                            description: Group of the resource deployed in the Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name of the resource deployed in the  Cluster.
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource deployed in the  Cluster.
                                                Empty for resources scoped at cluster level.
                                                For namespaced resources, an empty string "" indicates all namespaces.
                                            type: string
                                        selector:
                                            description: |-
                                                Selector is a standard Kubernetes label selector. Resources are selected
                                                if their labels match the selector. This field uses the standard
                                                Kubernetes label matching syntax (e.g., {"environment": "production"}).
                                                If both LabelFilters and Selector are specified, the requirements from
                                                both are logically ANDed.
                                            properties:
                                                matchExpressions:
                                                    description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                    items:
                                                        description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                        properties:
                                                            key:
                                                                description: key is the label key that the selector applies to.
                                                                type: string
                                                            operator:
                                                                description: |-
                                                                    operator represents a key's relationship to a set of values.
                                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                type: string
                                                            values:
                                                                description: |-
                                                                    values is an array of string values. If the operator is In or NotIn,
                                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                    the values array must be empty. This array is replaced during a strategic
                                                                    merge patch.
                                                                items:
                                                                    type: string
                                                                type: array
                                                                x-kubernetes-list-type: atomic
                                                        required:
                                                            - key
                                                            - operator
                                                        type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                matchLabels:
                                                    additionalProperties:
                                                        type: string
                                                    description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                    type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        version:
                                            description: Version of the resource deployed in the Cluster.
                                            type: string
                                    required:
                                        - group
                                        - kind
                                        - version
                                    type: object
                                type: array
                        required:
                            - evaluateHealth
                            - resourceSelectors
                        type: object
                type: object
          served: true
          storage: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: reloaderreports.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: ReloaderReport
        listKind: ReloaderReportList
        plural: reloaderreports
        singular: reloaderreport
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ReloaderReport is the Schema for the ReloaderReport API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            clusterName:
                                description: |-
                                    ClusterName is the name of the Cluster this ReloaderReport
                                    is for.
                                type: string
                            clusterNamespace:
                                description: |-
                                    ClusterNamespace is the namespace of the Cluster this
                                    ReloaderReport is for.
                                type: string
                            clusterType:
                                description: |-
                                    ClusterType is the type of Cluster this ReloaderReport
                                    is for.
                                type: string
                            resourcesToReload:
                                description: |-
                                    ResourcesToReload contains a list of resources that requires
                                    rolling upgrade
                                items:
                                    description: |-
                                        ReloaderInfo represents a resource that need to be reloaded
                                        if any mounted ConfigMap/Secret changes.
                                    properties:
                                        kind:
                                            description: 'Kind of the resource. Supported kinds are: Deployment StatefulSet DaemonSet.'
                                            enum:
                                                - Deployment
                                                - StatefulSet
                                                - DaemonSet
                                            type: string
                                        name:
                                            description: Name of the referenced resource.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: Namespace of the referenced resource.
                                            minLength: 1
                                            type: string
                                        value:
                                            type: string
                                    required:
                                        - kind
                                        - name
                                        - namespace
                                    type: object
                                type: array
                        required:
                            - clusterName
                            - clusterNamespace
                            - clusterType
                        type: object
                    status:
                        description: ReloaderReportStatus defines the observed state of ReloaderReport
                        properties:
                            phase:
                                description: Phase represents the current phase of report.
                                enum:
                                    - WaitingForDelivery
                                    - Delivering
                                    - Processed
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: reloaders.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: Reloader
        listKind: ReloaderList
        plural: reloaders
        singular: reloader
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: Reloader is the Schema for the Reloader API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: ReloaderSpec defines the desired state of Reloader
                        properties:
                            reloaderInfo:
                                items:
                                    description: |-
                                        ReloaderInfo represents a resource that need to be reloaded
                                        if any mounted ConfigMap/Secret changes.
                                    properties:
                                        kind:
                                            description: 'Kind of the resource. Supported kinds are: Deployment StatefulSet DaemonSet.'
                                            enum:
                                                - Deployment
                                                - StatefulSet
                                                - DaemonSet
                                            type: string
                                        name:
                                            description: Name of the referenced resource.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: Namespace of the referenced resource.
                                            minLength: 1
                                            type: string
                                        value:
                                            type: string
                                    required:
                                        - kind
                                        - name
                                        - namespace
                                    type: object
                                type: array
                        type: object
                type: object
          served: true
          storage: true
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: resourcesummaries.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: ResourceSummary
        listKind: ResourceSummaryList
        plural: resourcesummaries
        singular: resourcesummary
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ResourceSummary is the Schema for the ResourceSummary API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: ResourceSummarySpec defines the desired state of ResourceSummary
                        properties:
                            chartResources:
                                description: Resources deployed by ClusterSummary because of referenced Helm charts
                                items:
                                    properties:
                                        chartName:
                                            description: ChartName is the chart name
                                            minLength: 1
                                            type: string
                                        group:
                                            description: Resources deployed by ClusterSummary because of helm charts
                                            items:
                                                properties:
                                                    group:
                                                        description: Group of the resource deployed in the Cluster.
                                                        type: string
                                                    ignoreForConfigurationDrift:
                                                        default: false
                                                        description: |-
                                                            IgnoreForConfigurationDrift indicates to not track resource
                                                            for configuration drift detection.
                                                        type: boolean
                                                    kind:
                                                        description: Kind of the resource deployed in the Cluster.
                                                        minLength: 1
                                                        type: string
                                                    name:
                                                        description: Name of the resource deployed in the Cluster.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the resource deployed in the Cluster.
                                                            Empty for resources scoped at cluster level.
                                                        type: string
                                                    version:
                                                        description: Version of the resource deployed in the Cluster.
                                                        type: string
                                                required:
                                                    - group
                                                    - ignoreForConfigurationDrift
                                                    - kind
                                                    - name
                                                    - version
                                                type: object
                                            type: array
                                        releaseName:
                                            description: ReleaseName is the chart release
                                            minLength: 1
                                            type: string
                                        releaseNamespace:
                                            description: ReleaseNamespace is the namespace release will be installed
                                            minLength: 1
                                            type: string
                                    required:
                                        - chartName
                                        - releaseName
                                        - releaseNamespace
                                    type: object
                                type: array
                            kustomizeResources:
                                description: |-
                                    KustomizeResources deployed by ClusterSummary because of referenced
                                    KustomizationRef
                                items:
                                    properties:
                                        group:
                                            description: Group of the resource deployed in the Cluster.
                                            type: string
                                        ignoreForConfigurationDrift:
                                            default: false
                                            description: |-
                                                IgnoreForConfigurationDrift indicates to not track resource
                                                for configuration drift detection.
                                                This field has a meaning only when mode is ContinuousWithDriftDetection
                                            type: boolean
                                        kind:
                                            description: Kind of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        lastAppliedTime:
                                            description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                            format: date-time
                                            type: string
                                        name:
                                            description: Name of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource deployed in the Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        version:
                                            description: Version of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                    required:
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                            patches:
                                description: |-
                                    Defines additional inline patches specifically designed to exclude certain fields from
                                    configuration drift evaluation.
                                items:
                                    description: |-
                                        Patch contains an inline StrategicMerge or JSON6902 patch, and the target the patch should
                                        be applied to.
                                    properties:
                                        patch:
                                            description: |-
                                                Patch contains an inline StrategicMerge patch or an inline JSON6902 patch with
                                                an array of operation objects.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        target:
                                            description: Target points to the resources that the patch document should be applied to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - patch
                                    type: object
                                type: array
                            resources:
                                description: Resources deployed by ClusterSummary because of referenced ConfigMaps/Secrets
                                items:
                                    properties:
                                        group:
                                            description: Group of the resource deployed in the Cluster.
                                            type: string
                                        ignoreForConfigurationDrift:
                                            default: false
                                            description: |-
                                                IgnoreForConfigurationDrift indicates to not track resource
                                                for configuration drift detection.
                                                This field has a meaning only when mode is ContinuousWithDriftDetection
                                            type: boolean
                                        kind:
                                            description: Kind of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        lastAppliedTime:
                                            description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                            format: date-time
                                            type: string
                                        name:
                                            description: Name of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource deployed in the Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        version:
                                            description: Version of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                    required:
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                        type: object
                    status:
                        description: ResourceSummaryStatus defines the status of ResourceSummary
                        properties:
                            helmResourceHashes:
                                description: HelmResourceHashes specifies list of resource plus hash.
                                items:
                                    properties:
                                        group:
                                            description: Group of the resource deployed in the Cluster.
                                            type: string
                                        hash:
                                            description: Hash is the hash of a resource's data.
                                            type: string
                                        ignoreForConfigurationDrift:
                                            default: false
                                            description: |-
                                                IgnoreForConfigurationDrift indicates to not track resource
                                                for configuration drift detection.
                                                This field has a meaning only when mode is ContinuousWithDriftDetection
                                            type: boolean
                                        kind:
                                            description: Kind of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        lastAppliedTime:
                                            description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                            format: date-time
                                            type: string
                                        name:
                                            description: Name of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource deployed in the Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        version:
                                            description: Version of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                    required:
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                            helmResourcesChanged:
                                description: Helm Resources changed.
                                type: boolean
                            kustomizeResourceHashes:
                                description: KustomizeResourceHashes specifies a list of resource plus hash
                                items:
                                    properties:
                                        group:
                                            description: Group of the resource deployed in the Cluster.
                                            type: string
                                        hash:
                                            description: Hash is the hash of a resource's data.
                                            type: string
                                        ignoreForConfigurationDrift:
                                            default: false
                                            description: |-
                                                IgnoreForConfigurationDrift indicates to not track resource
                                                for configuration drift detection.
                                                This field has a meaning only when mode is ContinuousWithDriftDetection
                                            type: boolean
                                        kind:
                                            description: Kind of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        lastAppliedTime:
                                            description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                            format: date-time
                                            type: string
                                        name:
                                            description: Name of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource deployed in the Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        version:
                                            description: Version of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                    required:
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                            kustomizeResourcesChanged:
                                description: KustomizeResources changed.
                                type: boolean
                            resourceHashes:
                                description: ResourceHashes specifies a list of resource plus hash
                                items:
                                    properties:
                                        group:
                                            description: Group of the resource deployed in the Cluster.
                                            type: string
                                        hash:
                                            description: Hash is the hash of a resource's data.
                                            type: string
                                        ignoreForConfigurationDrift:
                                            default: false
                                            description: |-
                                                IgnoreForConfigurationDrift indicates to not track resource
                                                for configuration drift detection.
                                                This field has a meaning only when mode is ContinuousWithDriftDetection
                                            type: boolean
                                        kind:
                                            description: Kind of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        lastAppliedTime:
                                            description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                            format: date-time
                                            type: string
                                        name:
                                            description: Name of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource deployed in the Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        version:
                                            description: Version of the resource deployed in the Cluster.
                                            minLength: 1
                                            type: string
                                    required:
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                            resourcesChanged:
                                description: Resources changed.
                                type: boolean
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: rolerequests.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: RoleRequest
        listKind: RoleRequestList
        plural: rolerequests
        singular: rolerequest
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: RoleRequest is the Schema for the rolerequest API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: RoleRequestSpec defines the desired state of RoleRequest
                        properties:
                            clusterSelector:
                                description: Selector identifies clusters to associate to.
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            expirationSeconds:
                                description: |-
                                    ExpirationSeconds is the requested duration of validity of the TokenRequest
                                    associated to ServiceAccount. If not specified, default value is used
                                format: int64
                                type: integer
                            roleRefs:
                                description: |-
                                    RoleRefs references all the Secret/ConfigMaps containing kubernetes
                                    Roles/ClusterRoles that need to be deployed in the matching clusters.
                                items:
                                    description: |-
                                        PolicyRef specifies a resource containing one or more policy
                                        to deploy in matching Clusters.
                                    properties:
                                        kind:
                                            description: 'Kind of the resource. Supported kinds are: Secrets and ConfigMaps.'
                                            enum:
                                                - Secret
                                                - ConfigMap
                                            type: string
                                        name:
                                            description: Name of the referenced resource.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                Namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                            type: string
                                    required:
                                        - kind
                                        - name
                                        - namespace
                                    type: object
                                type: array
                            serviceAccountName:
                                description: |-
                                    ServiceAccountName is the name of the ServiceAccount representing a tenant admin for which
                                    those permissions are requested
                                type: string
                            serviceAccountNamespace:
                                description: |-
                                    ServiceAccountNamespace is the name of the ServiceAccount representing a tenant admin
                                    for which those permissions are requested
                                type: string
                        required:
                            - serviceAccountName
                            - serviceAccountNamespace
                        type: object
                    status:
                        description: RoleRequestStatus defines the status of RoleRequest
                        properties:
                            clusterInfo:
                                description: |-
                                    ClusterInfo represents the hash of the ClusterRoles/Roles deployed in
                                    a matching cluster for the admin.
                                items:
                                    properties:
                                        cluster:
                                            description: Cluster references the Cluster
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        failureMessage:
                                            description: FailureMessage provides more information about the error.
                                            type: string
                                        hash:
                                            description: |-
                                                Hash represents the hash of the Classifier currently deployed
                                                in the Cluster
                                            format: byte
                                            type: string
                                        status:
                                            description: Status represents the state of the feature in the workload cluster
                                            enum:
                                                - Provisioning
                                                - Provisioned
                                                - Failed
                                                - FailedNonRetriable
                                                - Removing
                                                - Removed
                                            type: string
                                    required:
                                        - cluster
                                        - hash
                                    type: object
                                type: array
                            failureMessage:
                                description: FailureMessage provides more information if an error occurs.
                                type: string
                            matchingClusters:
                                description: |-
                                    MatchingClusterRefs reference all the cluster currently matching
                                    RoleRequest ClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: sets.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: Set
        listKind: SetList
        plural: sets
        singular: set
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: Set is the Schema for the sets API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            clusterRefs:
                                description: ClusterRefs identifies clusters to associate to.
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            clusterSelector:
                                description: ClusterSelector identifies clusters to associate to
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            maxReplicas:
                                description: |-
                                    MaxReplicas specifies the maximum number of clusters to be selected
                                    from the pool matching the clusterSelector.
                                type: integer
                        type: object
                    status:
                        description: Status defines the observed state of ClusterSet/Set
                        properties:
                            matchingClusterRefs:
                                description: |-
                                    MatchingClusterRefs reference all the clusters currently matching
                                    ClusterSet/Set ClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            selectedClusterRefs:
                                description: |-
                                    SelectedClusters reference all the cluster currently selected among
                                    all the ones matching
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: sveltosclusters.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: SveltosCluster
        listKind: SveltosClusterList
        plural: sveltosclusters
        singular: sveltoscluster
    scope: Namespaced
    versions:
        - additionalPrinterColumns:
            - description: Indicates whether cluster is ready to be managed by sveltos
              jsonPath: .status.ready
              name: Ready
              type: boolean
            - description: Kubernetes version associated with this Cluster
              jsonPath: .status.version
              name: Version
              type: string
            - description: Time duration since creation of SveltosCluster
              jsonPath: .metadata.creationTimestamp
              name: Age
              type: date
          name: v1beta1
          schema:
            openAPIV3Schema:
                description: SveltosCluster is the Schema for the SveltosCluster API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: SveltosClusterSpec defines the desired state of SveltosCluster
                        properties:
                            activeWindow:
                                description: |-
                                    ActiveWindow is an optional field for automatically pausing and unpausing
                                    the cluster.
                                    If not specified, the cluster will not be paused or unpaused automatically.
                                properties:
                                    from:
                                        description: |-
                                            From in Cron format, see https://en.wikipedia.org/wiki/Cron.
                                            Indicates when to un-pause the cluster (cluster in paused state receives no update from sveltos).
                                        minLength: 1
                                        type: string
                                    to:
                                        description: |-
                                            To in Cron format, see https://en.wikipedia.org/Cron.
                                            Indicates when to pause the cluster (cluster in paused state receives no update from sveltos).
                                        minLength: 1
                                        type: string
                                required:
                                    - from
                                    - to
                                type: object
                            consecutiveFailureThreshold:
                                default: 3
                                description: |-
                                    ConsecutiveFailureThreshold is the maximum number of consecutive connection
                                    failures before setting the problem status in Status.ConnectionStatus
                                type: integer
                            data:
                                additionalProperties:
                                    type: string
                                description: ArbitraryData allows for arbitrary nested structures
                                type: object
                            kubeconfigKeyName:
                                description: |-
                                    KubeconfigKeyName specifies the key within the Secret that holds the kubeconfig.
                                    If not specified, Sveltos will use first key in the Secret.
                                type: string
                            kubeconfigName:
                                description: |-
                                    KubeconfigName allows overriding the default Sveltos convention which expected a valid kubeconfig
                                    to be hosted in a secret with the pattern ${sveltosClusterName}-sveltos-kubeconfig.

                                    When a value is specified, the referenced Kubernetes Secret object must exist,
                                    and will be used to connect to the Kubernetes cluster.
                                type: string
                            livenessChecks:
                                description: |-
                                    LivenessChecks is an optional list of custom checks to verify cluster
                                    is healthy
                                items:
                                    properties:
                                        condition:
                                            description: |-
                                                This field is  used to specify a Lua function that will be used to evaluate
                                                this check.
                                                The function will receive the array of resources selected by ResourceSelectors.
                                                The Lua function name is evaluate and must return a struct with:
                                                - "result" field: boolean indicating whether check passed or failed;
                                                - "message" field: (optional) message.
                                            type: string
                                        name:
                                            description: |-
                                                Name of the cluster check.
                                                Must be a DNS_LABEL and unique within the ClusterChecks.
                                            type: string
                                        resourceSelectors:
                                            description: ResourceSelectors identifies what Kubernetes resources to select
                                            items:
                                                description: ResourceSelector defines what resources are a match
                                                properties:
                                                    evaluate:
                                                        description: |-
                                                            Evaluate contains a function "evaluate" in lua language.
                                                            The function will be passed one of the object selected based on
                                                            above criteria.
                                                            Must return struct with field "matching" representing whether
                                                            object is a match and an optional "message" field.
                                                        type: string
                                                    evaluateCEL:
                                                        description: |-
                                                            EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                            Each rule will be evaluated in order against each object selected based on
                                                            the criteria defined above. Each rule's expression must return a boolean value
                                                            indicating whether the object is a match.

                                                            Evaluation stops at the first rule that returns true; subsequent
                                                            rules will not be evaluated.
                                                        items:
                                                            description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                            properties:
                                                                name:
                                                                    description: Name is a human-readable identifier for the rule.
                                                                    type: string
                                                                rule:
                                                                    description: |-
                                                                        Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                        It must return a bool
                                                                    type: string
                                                            required:
                                                                - name
                                                                - rule
                                                            type: object
                                                        type: array
                                                    group:
                                                        description: Group of the resource deployed in the Cluster.
                                                        type: string
                                                    kind:
                                                        description: Kind of the resource deployed in the Cluster.
                                                        minLength: 1
                                                        type: string
                                                    labelFilters:
                                                        description: LabelFilters allows to filter resources based on current labels.
                                                        items:
                                                            properties:
                                                                key:
                                                                    description: Key is the label key
                                                                    type: string
                                                                operation:
                                                                    description: Operation is the comparison operation
                                                                    enum:
                                                                        - Equal
                                                                        - Different
                                                                        - Has
                                                                        - DoesNotHave
                                                                    type: string
                                                                value:
                                                                    description: Value is the label value
                                                                    type: string
                                                            required:
                                                                - key
                                                                - operation
                                                            type: object
                                                        type: array
                                                    name:
                                                        description: Name of the resource deployed in the  Cluster.
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the resource deployed in the  Cluster.
                                                            Empty for resources scoped at cluster level.
                                                            For namespaced resources, an empty string "" indicates all namespaces.
                                                        type: string
                                                    selector:
                                                        description: |-
                                                            Selector is a standard Kubernetes label selector. Resources are selected
                                                            if their labels match the selector. This field uses the standard
                                                            Kubernetes label matching syntax (e.g., {"environment": "production"}).
                                                            If both LabelFilters and Selector are specified, the requirements from
                                                            both are logically ANDed.
                                                        properties:
                                                            matchExpressions:
                                                                description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                                items:
                                                                    description: |-
                                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                                        relates the key and values.
                                                                    properties:
                                                                        key:
                                                                            description: key is the label key that the selector applies to.
                                                                            type: string
                                                                        operator:
                                                                            description: |-
                                                                                operator represents a key's relationship to a set of values.
                                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                            type: string
                                                                        values:
                                                                            description: |-
                                                                                values is an array of string values. If the operator is In or NotIn,
                                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                                the values array must be empty. This array is replaced during a strategic
                                                                                merge patch.
                                                                            items:
                                                                                type: string
                                                                            type: array
                                                                            x-kubernetes-list-type: atomic
                                                                    required:
                                                                        - key
                                                                        - operator
                                                                    type: object
                                                                type: array
                                                                x-kubernetes-list-type: atomic
                                                            matchLabels:
                                                                additionalProperties:
                                                                    type: string
                                                                description: |-
                                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                                type: object
                                                        type: object
                                                        x-kubernetes-map-type: atomic
                                                    version:
                                                        description: Version of the resource deployed in the Cluster.
                                                        type: string
                                                required:
                                                    - group
                                                    - kind
                                                    - version
                                                type: object
                                            type: array
                                    required:
                                        - condition
                                        - name
                                        - resourceSelectors
                                    type: object
                                type: array
                            paused:
                                description: |-
                                    Paused can be used to prevent controllers from processing the
                                    SveltosCluster and all its associated objects.
                                type: boolean
                            pullMode:
                                default: false
                                description: |-
                                    PullMode indicates whether the cluster is in pull mode.
                                    If true, the agent in the managed cluster will fetch the configuration.
                                    If false (default), the management cluster will push the configuration.
                                type: boolean
                                x-kubernetes-validations:
                                    - message: Value is immutable
                                      rule: self == oldSelf
                            readinessChecks:
                                description: |-
                                    ReadinessChecks is an optional list of custom checks to verify cluster
                                    readiness
                                items:
                                    properties:
                                        condition:
                                            description: |-
                                                This field is  used to specify a Lua function that will be used to evaluate
                                                this check.
                                                The function will receive the array of resources selected by ResourceSelectors.
                                                The Lua function name is evaluate and must return a struct with:
                                                - "result" field: boolean indicating whether check passed or failed;
                                                - "message" field: (optional) message.
                                            type: string
                                        name:
                                            description: |-
                                                Name of the cluster check.
                                                Must be a DNS_LABEL and unique within the ClusterChecks.
                                            type: string
                                        resourceSelectors:
                                            description: ResourceSelectors identifies what Kubernetes resources to select
                                            items:
                                                description: ResourceSelector defines what resources are a match
                                                properties:
                                                    evaluate:
                                                        description: |-
                                                            Evaluate contains a function "evaluate" in lua language.
                                                            The function will be passed one of the object selected based on
                                                            above criteria.
                                                            Must return struct with field "matching" representing whether
                                                            object is a match and an optional "message" field.
                                                        type: string
                                                    evaluateCEL:
                                                        description: |-
                                                            EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                            Each rule will be evaluated in order against each object selected based on
                                                            the criteria defined above. Each rule's expression must return a boolean value
                                                            indicating whether the object is a match.

                                                            Evaluation stops at the first rule that returns true; subsequent
                                                            rules will not be evaluated.
                                                        items:
                                                            description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                            properties:
                                                                name:
                                                                    description: Name is a human-readable identifier for the rule.
                                                                    type: string
                                                                rule:
                                                                    description: |-
                                                                        Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                        It must return a bool
                                                                    type: string
                                                            required:
                                                                - name
                                                                - rule
                                                            type: object
                                                        type: array
                                                    group:
                                                        description: Group of the resource deployed in the Cluster.
                                                        type: string
                                                    kind:
                                                        description: Kind of the resource deployed in the Cluster.
                                                        minLength: 1
                                                        type: string
                                                    labelFilters:
                                                        description: LabelFilters allows to filter resources based on current labels.
                                                        items:
                                                            properties:
                                                                key:
                                                                    description: Key is the label key
                                                                    type: string
                                                                operation:
                                                                    description: Operation is the comparison operation
                                                                    enum:
                                                                        - Equal
                                                                        - Different
                                                                        - Has
                                                                        - DoesNotHave
                                                                    type: string
                                                                value:
                                                                    description: Value is the label value
                                                                    type: string
                                                            required:
                                                                - key
                                                                - operation
                                                            type: object
                                                        type: array
                                                    name:
                                                        description: Name of the resource deployed in the  Cluster.
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the resource deployed in the  Cluster.
                                                            Empty for resources scoped at cluster level.
                                                            For namespaced resources, an empty string "" indicates all namespaces.
                                                        type: string
                                                    selector:
                                                        description: |-
                                                            Selector is a standard Kubernetes label selector. Resources are selected
                                                            if their labels match the selector. This field uses the standard
                                                            Kubernetes label matching syntax (e.g., {"environment": "production"}).
                                                            If both LabelFilters and Selector are specified, the requirements from
                                                            both are logically ANDed.
                                                        properties:
                                                            matchExpressions:
                                                                description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                                items:
                                                                    description: |-
                                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                                        relates the key and values.
                                                                    properties:
                                                                        key:
                                                                            description: key is the label key that the selector applies to.
                                                                            type: string
                                                                        operator:
                                                                            description: |-
                                                                                operator represents a key's relationship to a set of values.
                                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                            type: string
                                                                        values:
                                                                            description: |-
                                                                                values is an array of string values. If the operator is In or NotIn,
                                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                                the values array must be empty. This array is replaced during a strategic
                                                                                merge patch.
                                                                            items:
                                                                                type: string
                                                                            type: array
                                                                            x-kubernetes-list-type: atomic
                                                                    required:
                                                                        - key
                                                                        - operator
                                                                    type: object
                                                                type: array
                                                                x-kubernetes-list-type: atomic
                                                            matchLabels:
                                                                additionalProperties:
                                                                    type: string
                                                                description: |-
                                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                                type: object
                                                        type: object
                                                        x-kubernetes-map-type: atomic
                                                    version:
                                                        description: Version of the resource deployed in the Cluster.
                                                        type: string
                                                required:
                                                    - group
                                                    - kind
                                                    - version
                                                type: object
                                            type: array
                                    required:
                                        - condition
                                        - name
                                        - resourceSelectors
                                    type: object
                                type: array
                            tokenRequestRenewalOption:
                                description: TokenRequestRenewalOption contains options describing how to renew TokenRequest
                                properties:
                                    renewTokenRequestInterval:
                                        description: RenewTokenRequestInterval is the interval at which to renew the TokenRequest
                                        type: string
                                    saName:
                                        description: |-
                                            SAName is name of the ServiceAccount to renew the token for.
                                            If specified, ServiceAccount must exist in the managed cluster.
                                            If not specified, sveltos will try to deduce it from current kubeconfig
                                        type: string
                                    saNamespace:
                                        description: |-
                                            SANamespace is the namespace of the ServiceAccount to renew the token for.
                                            If specified, ServiceAccount must exist in the managed cluster.
                                            If not specified, sveltos will try to deduce it from current kubeconfig
                                        type: string
                                    tokenDuration:
                                        description: |-
                                            TokenDuration is the duration the requested token will be valid for.
                                            If not specified, the value of RenewTokenRequestInterval will be used.
                                            This allows the token to remain valid beyond the renewal interval,
                                            providing a buffer in case of connectivity loss.
                                            Example: renew every hour, token lasts 3 hours (buffer for disconnection)
                                              renewTokenRequestInterval: 1h
                                              tokenDuration: 3h
                                        type: string
                                required:
                                    - renewTokenRequestInterval
                                type: object
                        type: object
                    status:
                        description: SveltosClusterStatus defines the status of SveltosCluster
                        properties:
                            activeWindowHash:
                                description: |-
                                    ActiveWindowHash is the hash of the SveltosCluster Spec.ActiveWindow.
                                    This is used to detect if the ActiveWindow configuration has changed
                                    and requires recalculation of NextPause and NextUnpause.
                                format: byte
                                type: string
                            agentLastReportTime:
                                description: |-
                                    AgentLastReportTime indicates the last time the Sveltos agent in the managed cluster
                                    successfully reported its status to the management cluster's API server.
                                    This field is updated exclusively when Sveltos operates in pull mode,
                                    serving as a heartbeat from the agent's perspective.
                                format: date-time
                                type: string
                            connectionFailures:
                                default: 0
                                description: |-
                                    connectionFailures is the number of consecutive failed attempts to connect
                                    to the remote cluster.
                                type: integer
                            connectionStatus:
                                description: |-
                                    ConnectionStatus indicates whether connection from the management cluster
                                    to the managed cluster is healthy
                                enum:
                                    - Healthy
                                    - Down
                                type: string
                            failureMessage:
                                description: |-
                                    FailureMessage is a human consumable message explaining the
                                    misconfiguration
                                type: string
                            lastReconciledTokenRequestAt:
                                description: |-
                                    LastReconciledTokenRequestAt is the last time the TokenRequest
                                    was renewed.
                                type: string
                            nextPause:
                                description: Information when next pause cluster is scheduled
                                format: date-time
                                type: string
                            nextUnpause:
                                description: Information when next unpause cluster is scheduled
                                format: date-time
                                type: string
                            ready:
                                description: Ready is the state of the cluster.
                                type: boolean
                            version:
                                description: The Kubernetes version of the cluster.
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: sveltoslicenses.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: SveltosLicense
        listKind: SveltosLicenseList
        plural: sveltoslicenses
        singular: sveltoslicense
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: SveltosLicense is the Schema for the clustersets API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    status:
                        description: SveltosLicenseStatus defines the observed state of SveltosLicense
                        properties:
                            expirationDate:
                                description: |-
                                    ExpirationDate is the exact expiration timestamp from the license payload,
                                    if a license was found and successfully parsed. This field will be present
                                    even if the license is expired or invalid, as long as the date could be extracted.
                                format: date-time
                                type: string
                            features:
                                description: Features is a list of feature strings enabled by this license.
                                items:
                                    type: string
                                type: array
                            maxClusters:
                                description: MaxClusters is the maximum number of clusters allowed for this license.
                                type: integer
                            message:
                                description: Message provides a human-readable explanation of the current license status.
                                type: string
                            status:
                                description: |-
                                    Status indicates the overall state of the license.
                                    Possible values:
                                    - Valid: License secret found, valid signature, not expired.
                                    - Expired: License secret found, valid signature, but expired.
                                    - Invalid: License secret found, but signature invalid or data malformed.
                                    - NotFound: No license secret found at the specified reference.
                                enum:
                                    - Valid
                                    - Expired
                                    - Invalid
                                    - NotFound
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: techsupports.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: Techsupport
        listKind: TechsupportList
        plural: techsupports
        singular: techsupport
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: Techsupport is the Schema for the techsupport API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: TechsupportSpec defines the desired state of Techsupport
                        properties:
                            deliveryMethods:
                                description: Notification is a list of delivery mechanisms.
                                items:
                                    properties:
                                        name:
                                            description: |-
                                                Name of the delivery mechanism.
                                                Must be a DNS_LABEL and unique within the TechsupportSpec.
                                            type: string
                                        secretRef:
                                            description: |-
                                                SecretRef is a reference to a delivery mechanism-specific Secret
                                                that holds the details for the delivery.
                                            properties:
                                                name:
                                                    description: name is unique within a namespace to reference a secret resource.
                                                    type: string
                                                namespace:
                                                    description: namespace defines the space within which the secret name must be unique.
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type:
                                            description: DeliveryType specifies the type of notification
                                            enum:
                                                - Slack
                                                - Webex
                                                - Discord
                                                - Telegram
                                                - SMTP
                                                - SFTP
                                            type: string
                                    required:
                                        - name
                                        - type
                                    type: object
                                type: array
                            fromManaged:
                                description: |-
                                    FromManaged specifies which resources and logs to collect from
                                    matching managed cluster.
                                properties:
                                    clusterRefs:
                                        description: ClusterRefs identifies clusters to collect techsupport from.
                                        items:
                                            description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: array
                                    clusterSelector:
                                        description: ClusterSelector identifies clusters to collect techsupport from.
                                        properties:
                                            matchExpressions:
                                                description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                items:
                                                    description: |-
                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                        relates the key and values.
                                                    properties:
                                                        key:
                                                            description: key is the label key that the selector applies to.
                                                            type: string
                                                        operator:
                                                            description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                        values:
                                                            description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                            items:
                                                                type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                    required:
                                                        - key
                                                        - operator
                                                    type: object
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            matchLabels:
                                                additionalProperties:
                                                    type: string
                                                description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    events:
                                        description: Events indicates what events to collect
                                        items:
                                            properties:
                                                namespace:
                                                    description: |-
                                                        Namespace of the events.
                                                        An empty string "" indicates all namespaces.
                                                    type: string
                                                type:
                                                    description: Type filters events based on the type of the events (Normal, Warning),
                                                    enum:
                                                        - Normal
                                                        - Warning
                                                    type: string
                                            type: object
                                        type: array
                                    logs:
                                        description: Logs indicates what pods' log to collect
                                        items:
                                            description: LogFilter allows to select which logs to collect
                                            properties:
                                                labelFilters:
                                                    description: LabelFilters allows to filter pods based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name of the pods deployed in the Cluster.
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the pods deployed in the Cluster.
                                                        An empty string "" indicates all namespaces.
                                                    type: string
                                                sinceSeconds:
                                                    description: |-
                                                        A relative time in seconds before the current time from which to collect logs.
                                                        If this value precedes the time a pod was started, only logs since the pod
                                                        start will be returned.
                                                    format: int64
                                                    type: integer
                                            type: object
                                        type: array
                                    resources:
                                        description: Resources indicates what resorces to collect
                                        items:
                                            description: ResourceSelector defines what resources are a match
                                            properties:
                                                evaluate:
                                                    description: |-
                                                        Evaluate contains a function "evaluate" in lua language.
                                                        The function will be passed one of the object selected based on
                                                        above criteria.
                                                        Must return struct with field "matching" representing whether
                                                        object is a match and an optional "message" field.
                                                    type: string
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                group:
                                                    description: Group of the resource deployed in the Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name of the resource deployed in the  Cluster.
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource deployed in the  Cluster.
                                                        Empty for resources scoped at cluster level.
                                                        For namespaced resources, an empty string "" indicates all namespaces.
                                                    type: string
                                                selector:
                                                    description: |-
                                                        Selector is a standard Kubernetes label selector. Resources are selected
                                                        if their labels match the selector. This field uses the standard
                                                        Kubernetes label matching syntax (e.g., {"environment": "production"}).
                                                        If both LabelFilters and Selector are specified, the requirements from
                                                        both are logically ANDed.
                                                    properties:
                                                        matchExpressions:
                                                            description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                            items:
                                                                description: |-
                                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                                    relates the key and values.
                                                                properties:
                                                                    key:
                                                                        description: key is the label key that the selector applies to.
                                                                        type: string
                                                                    operator:
                                                                        description: |-
                                                                            operator represents a key's relationship to a set of values.
                                                                            Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                        type: string
                                                                    values:
                                                                        description: |-
                                                                            values is an array of string values. If the operator is In or NotIn,
                                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                            the values array must be empty. This array is replaced during a strategic
                                                                            merge patch.
                                                                        items:
                                                                            type: string
                                                                        type: array
                                                                        x-kubernetes-list-type: atomic
                                                                required:
                                                                    - key
                                                                    - operator
                                                                type: object
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        matchLabels:
                                                            additionalProperties:
                                                                type: string
                                                            description: |-
                                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                            type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                version:
                                                    description: Version of the resource deployed in the Cluster.
                                                    type: string
                                            required:
                                                - group
                                                - kind
                                                - version
                                            type: object
                                        type: array
                                type: object
                            fromManagement:
                                description: |-
                                    FromManagement identifies which resources and logs to collect
                                    from the management cluster
                                properties:
                                    events:
                                        description: Events indicates what events to collect
                                        items:
                                            properties:
                                                namespace:
                                                    description: |-
                                                        Namespace of the events.
                                                        An empty string "" indicates all namespaces.
                                                    type: string
                                                type:
                                                    description: Type filters events based on the type of the events (Normal, Warning),
                                                    enum:
                                                        - Normal
                                                        - Warning
                                                    type: string
                                            type: object
                                        type: array
                                    logs:
                                        description: Logs indicates what pods' log to collect
                                        items:
                                            description: LogFilter allows to select which logs to collect
                                            properties:
                                                labelFilters:
                                                    description: LabelFilters allows to filter pods based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name of the pods deployed in the Cluster.
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the pods deployed in the Cluster.
                                                        An empty string "" indicates all namespaces.
                                                    type: string
                                                sinceSeconds:
                                                    description: |-
                                                        A relative time in seconds before the current time from which to collect logs.
                                                        If this value precedes the time a pod was started, only logs since the pod
                                                        start will be returned.
                                                    format: int64
                                                    type: integer
                                            type: object
                                        type: array
                                    resources:
                                        description: Resources indicates what resorces to collect
                                        items:
                                            description: ResourceSelector defines what resources are a match
                                            properties:
                                                evaluate:
                                                    description: |-
                                                        Evaluate contains a function "evaluate" in lua language.
                                                        The function will be passed one of the object selected based on
                                                        above criteria.
                                                        Must return struct with field "matching" representing whether
                                                        object is a match and an optional "message" field.
                                                    type: string
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                group:
                                                    description: Group of the resource deployed in the Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name of the resource deployed in the  Cluster.
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource deployed in the  Cluster.
                                                        Empty for resources scoped at cluster level.
                                                        For namespaced resources, an empty string "" indicates all namespaces.
                                                    type: string
                                                selector:
                                                    description: |-
                                                        Selector is a standard Kubernetes label selector. Resources are selected
                                                        if their labels match the selector. This field uses the standard
                                                        Kubernetes label matching syntax (e.g., {"environment": "production"}).
                                                        If both LabelFilters and Selector are specified, the requirements from
                                                        both are logically ANDed.
                                                    properties:
                                                        matchExpressions:
                                                            description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                            items:
                                                                description: |-
                                                                    A label selector requirement is a selector that contains values, a key, and an operator that
                                                                    relates the key and values.
                                                                properties:
                                                                    key:
                                                                        description: key is the label key that the selector applies to.
                                                                        type: string
                                                                    operator:
                                                                        description: |-
                                                                            operator represents a key's relationship to a set of values.
                                                                            Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                        type: string
                                                                    values:
                                                                        description: |-
                                                                            values is an array of string values. If the operator is In or NotIn,
                                                                            the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                            the values array must be empty. This array is replaced during a strategic
                                                                            merge patch.
                                                                        items:
                                                                            type: string
                                                                        type: array
                                                                        x-kubernetes-list-type: atomic
                                                                required:
                                                                    - key
                                                                    - operator
                                                                type: object
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                        matchLabels:
                                                            additionalProperties:
                                                                type: string
                                                            description: |-
                                                                matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                                map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                                operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                            type: object
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                version:
                                                    description: Version of the resource deployed in the Cluster.
                                                    type: string
                                            required:
                                                - group
                                                - kind
                                                - version
                                            type: object
                                        type: array
                                type: object
                            onDemand:
                                description: OnDemand indicates if tech support should be collected immediately.
                                type: boolean
                            schedulingConfig:
                                description: |-
                                    SchedulingConfig defines a schedule options for recurring tech support
                                    collections.
                                properties:
                                    schedule:
                                        description: Schedule in Cron format, see https://en.wikipedia.org/wiki/Cron.
                                        type: string
                                    startingDeadlineSeconds:
                                        description: |-
                                            Optional deadline in seconds for starting the job if it misses scheduled
                                            time for any reason.  Missed jobs executions will be counted as failed ones.
                                        format: int64
                                        type: integer
                                required:
                                    - schedule
                                type: object
                        required:
                            - deliveryMethods
                        type: object
                    status:
                        description: TechsupportStatus defines the observed state of Techsupport
                        properties:
                            failureMessage:
                                description: |-
                                    FailureMessage provides more information about the error, if
                                    any occurred
                                type: string
                            hash:
                                description: |-
                                    Hash represents of a unique value for techsupport Spec at a fixed point in
                                    time
                                format: byte
                                type: string
                            lastRunStatus:
                                description: Status indicates what happened to last techsupport collection.
                                enum:
                                    - Collected
                                    - InProgress
                                    - Failed
                                type: string
                            lastRunTime:
                                description: Information when was the last time a techsupport was successfully scheduled.
                                format: date-time
                                type: string
                            nextScheduleTime:
                                description: Information when next techsupport is scheduled
                                format: date-time
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: v1
kind: Namespace
metadata:
    name: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
    name: addon-controller-role-dtm-in-mgmt-cluster
    namespace: projectsveltos
rules:
    - apiGroups:
        - ""
      resources:
        - services
      verbs:
        - '*'
    - apiGroups:
        - apps
      resources:
        - deployments
      verbs:
        - '*'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
    name: addon-controller-rolebinging-dtm-in-mgmt-cluster
    namespace: projectsveltos
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: addon-controller-role-dtm-in-mgmt-cluster
subjects:
    - kind: ServiceAccount
      name: addon-controller
      namespace: projectsveltos
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: clusterconfigurations.config.projectsveltos.io
spec:
    group: config.projectsveltos.io
    names:
        kind: ClusterConfiguration
        listKind: ClusterConfigurationList
        plural: clusterconfigurations
        singular: clusterconfiguration
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClusterConfiguration is the Schema for the clusterconfigurations API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    status:
                        description: ClusterConfigurationStatus defines the observed state of ClusterConfiguration
                        properties:
                            clusterProfileResources:
                                description: |-
                                    ClusterProfileResources is the list of resources currently deployed in a Cluster due
                                    to ClusterProfiles
                                items:
                                    description: |-
                                        ClusterProfileResource keeps info on all of the resources deployed in this Cluster
                                        due to a given ClusterProfile
                                    properties:
                                        Features:
                                            description: |-
                                                Features contains the list of policies deployed in the Cluster because
                                                of a given feature
                                            items:
                                                properties:
                                                    charts:
                                                        description: Charts is a list of helm charts deployed in the Cluster.
                                                        items:
                                                            properties:
                                                                appVersion:
                                                                    description: AppVersion is the version of the app deployed in the Cluster.
                                                                    type: string
                                                                chartVersion:
                                                                    description: ChartVersion is the version of the helm chart deployed in the Cluster.
                                                                    type: string
                                                                icon:
                                                                    description: The URL to an icon file.
                                                                    type: string
                                                                lastAppliedTime:
                                                                    description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                                                    format: date-time
                                                                    type: string
                                                                namespace:
                                                                    description: Namespace where chart is deployed in the Cluster.
                                                                    type: string
                                                                releaseName:
                                                                    description: ReleaseName name of the release deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                                repoURL:
                                                                    description: |-
                                                                        RepoURL URL of the repo containing the helm chart deployed
                                                                        in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                            required:
                                                                - chartVersion
                                                                - lastAppliedTime
                                                                - releaseName
                                                                - repoURL
                                                            type: object
                                                        type: array
                                                    featureID:
                                                        description: FeatureID is an indentifier of the feature whose status is reported
                                                        enum:
                                                            - Resources
                                                            - Helm
                                                            - Kustomize
                                                        type: string
                                                    resources:
                                                        description: Resources is a list of resources deployed in the Cluster.
                                                        items:
                                                            properties:
                                                                deploymentType:
                                                                    default: Remote
                                                                    description: |-
                                                                        DeploymentType indicates whether resources is deployed
                                                                        into the management cluster (local) or the managed cluster (remote)
                                                                    enum:
                                                                        - Local
                                                                        - Remote
                                                                    type: string
                                                                group:
                                                                    description: Group of the resource deployed in the Cluster.
                                                                    type: string
                                                                kind:
                                                                    description: Kind of the resource deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                                lastAppliedTime:
                                                                    description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                                                    format: date-time
                                                                    type: string
                                                                name:
                                                                    description: Name of the resource deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                                namespace:
                                                                    description: |-
                                                                        Namespace of the resource deployed in the Cluster.
                                                                        Empty for resources scoped at cluster level.
                                                                    type: string
                                                                version:
                                                                    description: Version of the resource deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                            required:
                                                                - group
                                                                - kind
                                                                - name
                                                                - version
                                                            type: object
                                                        type: array
                                                required:
                                                    - featureID
                                                type: object
                                            type: array
                                        clusterProfileName:
                                            description: ProfileName is the name of the ClusterProfile matching the Cluster.
                                            type: string
                                    required:
                                        - clusterProfileName
                                    type: object
                                type: array
                            profileResources:
                                description: |-
                                    ProfileResources is the list of resources currently deployed in a Cluster due
                                    to Profiles
                                items:
                                    description: |-
                                        ProfileResource keeps info on all of the resources deployed in this Cluster
                                        due to a given Profile
                                    properties:
                                        Features:
                                            description: |-
                                                Features contains the list of policies deployed in the Cluster because
                                                of a given feature
                                            items:
                                                properties:
                                                    charts:
                                                        description: Charts is a list of helm charts deployed in the Cluster.
                                                        items:
                                                            properties:
                                                                appVersion:
                                                                    description: AppVersion is the version of the app deployed in the Cluster.
                                                                    type: string
                                                                chartVersion:
                                                                    description: ChartVersion is the version of the helm chart deployed in the Cluster.
                                                                    type: string
                                                                icon:
                                                                    description: The URL to an icon file.
                                                                    type: string
                                                                lastAppliedTime:
                                                                    description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                                                    format: date-time
                                                                    type: string
                                                                namespace:
                                                                    description: Namespace where chart is deployed in the Cluster.
                                                                    type: string
                                                                releaseName:
                                                                    description: ReleaseName name of the release deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                                repoURL:
                                                                    description: |-
                                                                        RepoURL URL of the repo containing the helm chart deployed
                                                                        in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                            required:
                                                                - chartVersion
                                                                - lastAppliedTime
                                                                - releaseName
                                                                - repoURL
                                                            type: object
                                                        type: array
                                                    featureID:
                                                        description: FeatureID is an indentifier of the feature whose status is reported
                                                        enum:
                                                            - Resources
                                                            - Helm
                                                            - Kustomize
                                                        type: string
                                                    resources:
                                                        description: Resources is a list of resources deployed in the Cluster.
                                                        items:
                                                            properties:
                                                                deploymentType:
                                                                    default: Remote
                                                                    description: |-
                                                                        DeploymentType indicates whether resources is deployed
                                                                        into the management cluster (local) or the managed cluster (remote)
                                                                    enum:
                                                                        - Local
                                                                        - Remote
                                                                    type: string
                                                                group:
                                                                    description: Group of the resource deployed in the Cluster.
                                                                    type: string
                                                                kind:
                                                                    description: Kind of the resource deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                                lastAppliedTime:
                                                                    description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                                                    format: date-time
                                                                    type: string
                                                                name:
                                                                    description: Name of the resource deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                                namespace:
                                                                    description: |-
                                                                        Namespace of the resource deployed in the Cluster.
                                                                        Empty for resources scoped at cluster level.
                                                                    type: string
                                                                version:
                                                                    description: Version of the resource deployed in the Cluster.
                                                                    minLength: 1
                                                                    type: string
                                                            required:
                                                                - group
                                                                - kind
                                                                - name
                                                                - version
                                                            type: object
                                                        type: array
                                                required:
                                                    - featureID
                                                type: object
                                            type: array
                                        profileName:
                                            description: ProfileName is the name of the Profile matching the Cluster.
                                            type: string
                                    required:
                                        - profileName
                                    type: object
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: clusterprofiles.config.projectsveltos.io
spec:
    group: config.projectsveltos.io
    names:
        kind: ClusterProfile
        listKind: ClusterProfileList
        plural: clusterprofiles
        singular: clusterprofile
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClusterProfile is the Schema for the clusterprofiles API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            clusterRefs:
                                description: ClusterRefs identifies clusters to associate to.
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            clusterSelector:
                                description: ClusterSelector identifies clusters to associate to.
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            continueOnConflict:
                                default: false
                                description: |-
                                    By default (when ContinueOnConflict is unset or set to false), Sveltos stops deployment after
                                    encountering the first conflict (e.g., another ClusterProfile already deployed the resource).
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if conflicts are detected for previous resources.
                                type: boolean
                            continueOnError:
                                default: false
                                description: |-
                                    By default (when ContinueOnError is unset or set to false), Sveltos stops deployment after
                                    encountering the first error.
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if errors are detected for previous resources.
                                type: boolean
                            dependsOn:
                                description: |-
                                    DependsOn specifies a list of other profiles that this instance depends on.
                                    A ClusterProfile can only depend on other ClusterProfiles, and a Profile can
                                    only depend on other Profiles.
                                    The add-ons and applications defined in this instance will not be deployed
                                    until all add-ons and applications in the profiles listed as dependencies are deployed.
                                items:
                                    type: string
                                type: array
                            driftExclusions:
                                description: |-
                                    DriftExclusions is a list of configuration drift exclusions to be applied when syncMode is
                                    set to ContinuousWithDriftDetection. Each exclusion specifies JSON6902 paths to ignore
                                    when evaluating drift, optionally targeting specific resources and features.
                                items:
                                    properties:
                                        paths:
                                            description: Paths is a slice of JSON6902 paths to exclude from configuration drift evaluation.
                                            items:
                                                type: string
                                            type: array
                                        target:
                                            description: Target points to the resources that the paths refers to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - paths
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            extraAnnotations:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraAnnotations: These annotations will be added by Sveltos to all Kubernetes resources
                                    deployed in a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a annotation with a key present in
                                    `ExtraAnnotations`, the value from `ExtraAnnotations` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            extraLabels:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraLabels: These labels will be added by Sveltos to all Kubernetes resources deployed in
                                    a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a label with a key present in
                                    `ExtraLabels`, the value from `ExtraLabels` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            helmCharts:
                                description: Helm charts is a list of helm charts that need to be deployed
                                items:
                                    properties:
                                        chartName:
                                            description: |-
                                                ChartName is the chart name
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                Must be defined otherwise.
                                            type: string
                                        chartVersion:
                                            description: |-
                                                ChartVersion is the chart version
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        helmChartAction:
                                            default: Install
                                            description: HelmChartAction is the action that will be taken on the helm chart
                                            enum:
                                                - Install
                                                - Uninstall
                                            type: string
                                        options:
                                            description: Options allows to set flags which are used during installation.
                                            properties:
                                                atomic:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process deletes the installation/upgrades on failure.
                                                        The --wait flag will be set automatically if --atomic is used
                                                        Default to false
                                                    type: boolean
                                                dependencyUpdate:
                                                    default: false
                                                    description: |-
                                                        update dependencies if they are missing before installing the chart
                                                        Default to false
                                                    type: boolean
                                                description:
                                                    description: Description is the description of an helm operation
                                                    type: string
                                                disableHooks:
                                                    default: false
                                                    description: |-
                                                        prevent hooks from running during install/upgrade/uninstall
                                                        Default to false
                                                    type: boolean
                                                disableOpenAPIValidation:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process will not validate rendered templates against the Kubernetes OpenAPI Schema
                                                        Default to false
                                                    type: boolean
                                                enableClientCache:
                                                    default: false
                                                    description: EnableClientCache is a flag to enable Helm client cache. If it is not specified, it will be set to false.
                                                    type: boolean
                                                installOptions:
                                                    description: HelmInstallOptions are options specific to helm install
                                                    properties:
                                                        createNamespace:
                                                            default: true
                                                            description: Create the release namespace if not present. Defaults to true
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on install
                                                                Default to false
                                                            type: boolean
                                                        replace:
                                                            default: true
                                                            description: Replaces if set indicates to replace an older release with this one
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, install will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                    type: object
                                                labels:
                                                    additionalProperties:
                                                        type: string
                                                    description: Labels that would be added to release metadata.
                                                    type: object
                                                passCredentialsAll:
                                                    description: PassCredentialsAll is the flag to pass credentials to all domains
                                                    type: boolean
                                                skipCRDs:
                                                    default: false
                                                    description: |-
                                                        SkipCRDs controls whether CRDs should be installed during install/upgrade operation.
                                                        By default, CRDs are installed if not already present.
                                                    type: boolean
                                                skipSchemaValidation:
                                                    default: false
                                                    description: SkipSchemaValidation determines if JSON schema validation is disabled.
                                                    type: boolean
                                                timeout:
                                                    description: time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
                                                    type: string
                                                uninstallOptions:
                                                    description: HelmUninstallOptions are options specific to helm uninstall
                                                    properties:
                                                        deletionPropagation:
                                                            description: DeletionPropagation
                                                            enum:
                                                                - orphan
                                                                - foreground
                                                                - background
                                                            type: string
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on uninstall
                                                                Default to false
                                                            type: boolean
                                                        keepHistory:
                                                            description: |-
                                                                When uninstall a chart with this flag, Helm removes the resources associated with the chart,
                                                                but it keeps the release information. This allows to see details about the uninstalled release
                                                                using the helm history command.
                                                            type: boolean
                                                    type: object
                                                upgradeOptions:
                                                    description: HelmUpgradeOptions are options specific to helm upgrade
                                                    properties:
                                                        cleanupOnFail:
                                                            default: false
                                                            description: CleanupOnFail will, if true, cause the upgrade to delete newly-created resources on a failed update.
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on upgrade
                                                                Default to false
                                                            type: boolean
                                                        force:
                                                            default: false
                                                            description: |-
                                                                Force will, if set to `true`, ignore certain warnings and perform the upgrade anyway.
                                                                This should be used with caution.
                                                            type: boolean
                                                        maxHistory:
                                                            default: 2
                                                            description: |-
                                                                MaxHistory limits the maximum number of revisions saved per release
                                                                Default to 2
                                                            type: integer
                                                        recreate:
                                                            default: false
                                                            description: Recreate will (if true) recreate pods after a rollback.
                                                            type: boolean
                                                        resetThenReuseValues:
                                                            default: false
                                                            description: ResetThenReuseValues will reset the values to the chart's built-ins then merge with user's last supplied values.
                                                            type: boolean
                                                        resetValues:
                                                            default: false
                                                            description: ResetValues will reset the values to the chart's built-ins rather than merging with existing.
                                                            type: boolean
                                                        reuseValues:
                                                            default: false
                                                            description: |-
                                                                ReuseValues copies values from the current release to a new release if the
                                                                new release does not have any values. If the request already has values,
                                                                or if there are no values in the current release, this does nothing.
                                                                This is skipped if the ResetValues flag is set, in which case the
                                                                request values are not altered.
                                                            type: boolean
                                                        subNotes:
                                                            default: false
                                                            description: SubNotes determines whether sub-notes are rendered in the chart.
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, upgrade will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                        upgradeCRDs:
                                                            default: false
                                                            description: |-
                                                                UpgradeCRDs upgrade CRDs from the Helm Chart's crds directory
                                                                By default, CRDs are not applied during Helm upgrade action by Helm
                                                                https://helm.sh/docs/chart_best_practices/custom_resource_definitions/
                                                            type: boolean
                                                    type: object
                                                wait:
                                                    default: false
                                                    description: |-
                                                        if set, will wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment, StatefulSet, or ReplicaSet
                                                        are in a ready state before marking the release as successful. It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                                waitForJobs:
                                                    default: false
                                                    description: |-
                                                        if set and --wait enabled, will wait until all Jobs have been completed before marking the release as successful.
                                                        It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                            type: object
                                        registryCredentialsConfig:
                                            description: |-
                                                RegistryCredentialsConfig is an optional configuration for credentials,
                                                including information to connect to private registries.
                                            properties:
                                                ca:
                                                    description: |-
                                                        CASecretRef references a secret containing the TLS CA certificate
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        key: ca.crt
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                credentials:
                                                    description: |-
                                                        CredentialsSecretRef references a secret containing credentials
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                insecureSkipTLSVerify:
                                                    description: InsecureSkipTLSVerify controls server certificate verification.
                                                    type: boolean
                                                key:
                                                    description: |-
                                                        Key specifies the key within the CredentialsSecretRef containing the data
                                                        If not specified, it defaults to the only key in the secret if there's just one.
                                                    type: string
                                                plainHTTP:
                                                    description: PlainHTTP indicates to use insecure HTTP connections for the chart download
                                                    type: boolean
                                            type: object
                                        releaseName:
                                            description: ReleaseName is the chart release
                                            minLength: 1
                                            type: string
                                        releaseNamespace:
                                            description: ReleaseNamespace is the namespace release will be installed
                                            minLength: 1
                                            type: string
                                        repositoryName:
                                            description: |-
                                                RepositoryName is the name helm chart repository
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        repositoryURL:
                                            description: |-
                                                RepositoryURL is the URL helm chart repository
                                                It can point to a traditional HTTP-based repository or an OCI registry.
                                                Examples:
                                                  - HTTP Repository: https://charts.example.com/stable
                                                  - OCI Registry: oci://registry.example.com/namespace/charts
                                                  - GitHub Pages: https://<username>.github.io/<repository>/
                                                  - Any other valid URL where Helm charts are hosted.

                                                Alternatively, it can be a Flux source reference:
                                                  <flux source kind>://<flux source namespace>/<flux source name>/<path>

                                                Where:
                                                  - <flux source kind> is the type of Flux source (gitrepository, ocirepository, bucket).
                                                  - <flux source namespace> and <flux source name> are the namespace and name of the Flux Source in the management cluster.
                                                  - <path> is the path within the source repository where the Helm charts are located.

                                                For instance:
                                                  gitrepository://flux-system/flux-system/charts/projectsveltos

                                                Assuming there is a Flux GitRepository named 'flux-system' in the 'flux-system' namespace
                                                syncing 'https://github.com/projectsveltos/helm-charts.git/', and the Helm charts are
                                                located in the 'charts/projectsveltos' directory of that repository.
                                            minLength: 1
                                            type: string
                                        values:
                                            description: |-
                                                Values field allows to define configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to store configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - releaseName
                                        - releaseNamespace
                                        - repositoryURL
                                    type: object
                                    x-kubernetes-validations:
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartVersion) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartVersion) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.repositoryName) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.repositoryName) >= 1 : true'
                                type: array
                                x-kubernetes-list-type: atomic
                            kustomizationRefs:
                                description: |-
                                    Kustomization refs is a list of kustomization paths. Kustomization will
                                    be run on those paths and the outcome will be deployed.
                                items:
                                    properties:
                                        components:
                                            description: |-
                                                Components is a list of paths to Kustomize components. These paths are relative to the
                                                `Path` field and are included in the Kustomize build to provide reusable configuration logic.
                                                The paths can be static or leverage Go templates for dynamic customization.
                                            items:
                                                type: string
                                            type: array
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                                NOTE: DeploymentType Local cannot be used when the matching cluster is the management cluster itself.
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - flux GitRepository;OCIRepository;Bucket
                                                - ConfigMap/Secret
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the kustomization.yaml file, or the
                                                set of plain YAMLs a kustomization.yaml should be generated for.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster)
                                            type: string
                                        targetNamespace:
                                            description: |-
                                                TargetNamespace sets or overrides the namespace in the
                                                kustomization.yaml file.
                                            maxLength: 63
                                            minLength: 1
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different KustomizationRef
                                                within the same ClusterProfile or Profile.
                                                When two KustomizationRef attempt to deploy the same resource, the KustomizationRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                        values:
                                            additionalProperties:
                                                type: string
                                            description: |-
                                                Values is a map[string]string type that allows to define a set of key-value pairs.
                                                These key-value pairs can optionally leverage Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            type: object
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to define key-value pairs. These key-value pairs can optionally leverage
                                                Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - kind
                                        - name
                                        - namespace
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            maxConsecutiveFailures:
                                description: |-
                                    The maximum number of consecutive deployment failures that Sveltos will permit.
                                    After this many consecutive failures, the deployment will be considered failed, and Sveltos will stop retrying.
                                    This setting applies only to feature deployments, not resource removal.
                                    This field is optional. If not set, Sveltos default behavior is to keep retrying.
                                type: integer
                            maxUpdate:
                                anyOf:
                                    - type: integer
                                    - type: string
                                description: |-
                                    The maximum number of clusters that can be updated concurrently.
                                    Value can be an absolute number (ex: 5) or a percentage of desired cluster (ex: 10%).
                                    Defaults to 100%.
                                    Example: when this is set to 30%, when list of add-ons/applications in ClusterProfile
                                    changes, only 30% of matching clusters will be updated in parallel. Only when updates
                                    in those cluster succeed, other matching clusters are updated.
                                pattern: ^((100|[0-9]{1,2})%|[0-9]+)$
                                x-kubernetes-int-or-string: true
                            patches:
                                description: |-
                                    Define additional Kustomize inline Patches applied for all resources on this profile
                                    Within the Patch Spec you can use templating
                                items:
                                    description: |-
                                        Patch contains an inline StrategicMerge or JSON6902 patch, and the target the patch should
                                        be applied to.
                                    properties:
                                        patch:
                                            description: |-
                                                Patch contains an inline StrategicMerge patch or an inline JSON6902 patch with
                                                an array of operation objects.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        target:
                                            description: Target points to the resources that the patch document should be applied to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - patch
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            patchesFrom:
                                description: |-
                                    PatchesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                    it is possible to store additional Kustomize inline Patches applied for all resources on this profile
                                    These values can be static or leverage Go templates for dynamic customization.
                                    When expressed as templates, the values are filled in using information from
                                    resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                items:
                                    properties:
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                            enum:
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            policyRefs:
                                description: |-
                                    PolicyRefs references all the ConfigMaps/Secrets/Flux Sources containing kubernetes resources
                                    that need to be deployed in the matching managed clusters.
                                    The values contained in those resources can be static or leverage Go templates for dynamic customization.
                                    When expressed as templates, the values are filled in using information from
                                    resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                items:
                                    properties:
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                                - flux GitRepository;OCIRepository;Bucket
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other PolicyRefs.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the YAML files.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                Used only for GitRepository;OCIRepository;Bucket
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different PolicyRefs
                                                within the same ClusterProfile or Profile.
                                                When two PolicyRefs attempt to deploy the same resource, the PolicyRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            postDeleteChecks:
                                description: |-
                                    PostDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *after* Sveltos has deleted all resources.
                                    This ensures that the environment has reached the desired clean state.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            preDeleteChecks:
                                description: |-
                                    PreDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *before* Sveltos starts deleting resources.
                                    If any of these fail, the deletion process is halted.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            reloader:
                                default: false
                                description: |-
                                    Reloader indicates whether Deployment/StatefulSet/DaemonSet instances deployed
                                    by Sveltos and part of this ClusterProfile need to be restarted via rolling upgrade
                                    when a ConfigMap/Secret instance mounted as volume is modified.
                                    When set to true, when any mounted ConfigMap/Secret is modified, Sveltos automatically
                                    starts a rolling upgrade for Deployment/StatefulSet/DaemonSet instances mounting it.
                                type: boolean
                            setRefs:
                                description: |-
                                    SetRefs identifies referenced (cluster)Sets.
                                    - ClusterProfile can reference ClusterSet;
                                    - Profile can reference Set;
                                items:
                                    type: string
                                type: array
                            stopMatchingBehavior:
                                default: WithdrawPolicies
                                description: |-
                                    StopMatchingBehavior indicates what behavior should be when a Cluster stop matching
                                    the ClusterProfile. By default all deployed Helm charts and Kubernetes resources will
                                    be withdrawn from Cluster. Setting StopMatchingBehavior to LeavePolicies will instead
                                    leave ClusterProfile deployed policies in the Cluster.
                                enum:
                                    - WithdrawPolicies
                                    - LeavePolicies
                                type: string
                            syncMode:
                                default: Continuous
                                description: |-
                                    SyncMode specifies how features are synced in a matching workload cluster.
                                    - OneTime means, first time a workload cluster matches the ClusterProfile,
                                    features will be deployed in such cluster. Any subsequent feature configuration
                                    change won't be applied into the matching workload clusters;
                                    - Continuous mode ensures that the first time a workload cluster matches a ClusterProfile,
                                    the specified features are deployed. Subsequent changes to the feature configuration are also
                                    automatically applied to all matching workload clusters.
                                    _ SyncModeContinuousWithDriftDetection operates similarly to Continuous mode, but also monitors
                                    matching managed clusters for configuration drift. If drift is detected, a reconciliation is
                                    triggered to ensure the managed cluster's configuration aligns with the ClusterProfile.
                                    - DryRun means no change will be propagated to any matching cluster. A report
                                    instead will be generated summarizing what would happen in any matching cluster
                                    because of the changes made to ClusterProfile while in DryRun mode.
                                enum:
                                    - OneTime
                                    - Continuous
                                    - ContinuousWithDriftDetection
                                    - DryRun
                                type: string
                            templateResourceRefs:
                                description: |-
                                    TemplateResourceRefs is a list of resource to collect from the management cluster.
                                    Those resources' values will be used to instantiate templates
                                items:
                                    properties:
                                        identifier:
                                            description: |-
                                                Identifier is how the resource will be referred to in the
                                                template
                                            type: string
                                        ignoreStatusChanges:
                                            default: false
                                            description: |-
                                                IgnoreStatusChanges indicates whether changes to the status of the referenced
                                                resource should be ignored. If set to true, only changes to the spec or
                                                metadata (generation change) will trigger a reconciliation.
                                            type: boolean
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other TemplateResourceRefs.
                                            type: boolean
                                        resource:
                                            description: |-
                                                Resource references a Kubernetes instance in the management
                                                cluster to fetch and use during template instantiation.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                Name and namespace can be expressed as a template and instantiate using any cluster field.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                    required:
                                        - identifier
                                        - resource
                                    type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                    - identifier
                                x-kubernetes-list-type: map
                            tier:
                                default: 100
                                description: |-
                                    Tier controls the order of deployment for ClusterProfile or Profile resources targeting
                                    the same cluster resources.
                                    Imagine two configurations (ClusterProfiles or Profiles) trying to deploy the same resource (a Kubernetes
                                    resource or an helm chart). By default, the first one to reach the cluster "wins" and deploys it.
                                    Tier allows you to override this. When conflicts arise, the ClusterProfile or Profile with the **lowest**
                                    Tier value takes priority and deploys the resource.
                                    Higher Tier values represent lower priority. The default Tier value is 100.
                                    Using Tiers provides finer control over resource deployment within your cluster, particularly useful
                                    when multiple configurations manage the same resources.
                                format: int32
                                minimum: 1
                                type: integer
                            validateHealths:
                                description: |-
                                    ValidateHealths is a slice of Lua functions to run against
                                    the managed cluster to validate the state of those add-ons/applications
                                    is healthy
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                        type: object
                    status:
                        description: Status defines the observed state of ClusterProfile/Profile
                        properties:
                            dependenciesHash:
                                description: |-
                                    DependenciesHash is a hash representing the set of clusters where this ClusterProfile
                                    must be deployed, based on the combined configuration of its dependencies.
                                format: byte
                                type: string
                            matchingClusters:
                                description: |-
                                    MatchingClusterRefs reference all the clusters currently matching
                                    ClusterProfile ClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            reconciliationSuspended:
                                description: |-
                                    ReconciliationSuspended indicates whether the reconciliation loop for this
                                    ClusterSummary is currently paused due to an external action (e.g., a user annotation).
                                    When true, the status will not be updated unless the pause is lifted.
                                type: boolean
                            suspensionReason:
                                description: SuspensionReason provides a brief explanation of why the reconciliation is suspended.
                                type: string
                            updatedClusters:
                                description: |-
                                    UpdatedClusters contains information all the cluster currently matching
                                    ClusterProfile ClusterSelector and already updated to latest ClusterProfile
                                    Spec
                                properties:
                                    clusters:
                                        description: |-
                                            Clusters reference all the clusters currently matching
                                            ClusterProfile ClusterSelector and already updated/being updated
                                            to ClusterProfile Spec
                                        items:
                                            description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: array
                                    hash:
                                        description: |-
                                            Hash represents of a unique value for ClusterProfile Spec at
                                            a fixed point in time
                                        format: byte
                                        type: string
                                type: object
                            updatingClusters:
                                description: |-
                                    UpdatingClusters reference all the cluster currently matching
                                    ClusterProfile ClusterSelector and being updated
                                properties:
                                    clusters:
                                        description: |-
                                            Clusters reference all the clusters currently matching
                                            ClusterProfile ClusterSelector and already updated/being updated
                                            to ClusterProfile Spec
                                        items:
                                            description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: array
                                    hash:
                                        description: |-
                                            Hash represents of a unique value for ClusterProfile Spec at
                                            a fixed point in time
                                        format: byte
                                        type: string
                                type: object
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: clusterpromotions.config.projectsveltos.io
spec:
    group: config.projectsveltos.io
    names:
        kind: ClusterPromotion
        listKind: ClusterPromotionList
        plural: clusterpromotions
        singular: clusterpromotion
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClusterPromotion is the Schema for the ClusterPromotions API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: spec defines the desired state of ClusterPromotion
                        properties:
                            preserveClusterProfilesOnDelete:
                                description: |-
                                    PreserveClusterProfilesOnDelete, if true, prevents the controller from deleting
                                    the associated ClusterProfiles when this ClusterPromotion is deleted.
                                    The ClusterProfiles will remain, and will need to be manually cleaned up.
                                type: boolean
                            profileSpec:
                                description: |-
                                    ProfileSpec contains the common configuration for the Sveltos ClusterProfiles
                                    that will be created at each stage.
                                properties:
                                    continueOnConflict:
                                        default: false
                                        description: |-
                                            By default (when ContinueOnConflict is unset or set to false), Sveltos stops deployment after
                                            encountering the first conflict (e.g., another ClusterProfile already deployed the resource).
                                            If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                            if conflicts are detected for previous resources.
                                        type: boolean
                                    continueOnError:
                                        default: false
                                        description: |-
                                            By default (when ContinueOnError is unset or set to false), Sveltos stops deployment after
                                            encountering the first error.
                                            If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                            if errors are detected for previous resources.
                                        type: boolean
                                    dependsOn:
                                        description: |-
                                            DependsOn specifies a list of other profiles that this instance depends on.
                                            A ClusterProfile can only depend on other ClusterProfiles, and a Profile can
                                            only depend on other Profiles.
                                            The add-ons and applications defined in this instance will not be deployed
                                            until all add-ons and applications in the profiles listed as dependencies are deployed.
                                        items:
                                            type: string
                                        type: array
                                    driftExclusions:
                                        description: |-
                                            DriftExclusions is a list of configuration drift exclusions to be applied when syncMode is
                                            set to ContinuousWithDriftDetection. Each exclusion specifies JSON6902 paths to ignore
                                            when evaluating drift, optionally targeting specific resources and features.
                                        items:
                                            properties:
                                                paths:
                                                    description: Paths is a slice of JSON6902 paths to exclude from configuration drift evaluation.
                                                    items:
                                                        type: string
                                                    type: array
                                                target:
                                                    description: Target points to the resources that the paths refers to.
                                                    properties:
                                                        annotationSelector:
                                                            description: |-
                                                                AnnotationSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource annotations.
                                                            type: string
                                                        group:
                                                            description: |-
                                                                Group is the API group to select resources from.
                                                                Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        kind:
                                                            description: |-
                                                                Kind of the API Group to select resources from.
                                                                Together with Group and Version it is capable of unambiguously
                                                                identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        labelSelector:
                                                            description: |-
                                                                LabelSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource labels.
                                                            type: string
                                                        name:
                                                            description: Name to match resources with.
                                                            type: string
                                                        namespace:
                                                            description: Namespace to select resources from.
                                                            type: string
                                                        version:
                                                            description: |-
                                                                Version of the API Group to select resources from.
                                                                Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                    type: object
                                            required:
                                                - paths
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    helmCharts:
                                        description: Helm charts is a list of helm charts that need to be deployed
                                        items:
                                            properties:
                                                chartName:
                                                    description: |-
                                                        ChartName is the chart name
                                                        This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                        Must be defined otherwise.
                                                    type: string
                                                chartVersion:
                                                    description: |-
                                                        ChartVersion is the chart version
                                                        This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                        It is ignored if RepositoryURL references a Flux Source.
                                                        Must be defined otherwise.
                                                    type: string
                                                helmChartAction:
                                                    default: Install
                                                    description: HelmChartAction is the action that will be taken on the helm chart
                                                    enum:
                                                        - Install
                                                        - Uninstall
                                                    type: string
                                                options:
                                                    description: Options allows to set flags which are used during installation.
                                                    properties:
                                                        atomic:
                                                            default: false
                                                            description: |-
                                                                if set, the installation process deletes the installation/upgrades on failure.
                                                                The --wait flag will be set automatically if --atomic is used
                                                                Default to false
                                                            type: boolean
                                                        dependencyUpdate:
                                                            default: false
                                                            description: |-
                                                                update dependencies if they are missing before installing the chart
                                                                Default to false
                                                            type: boolean
                                                        description:
                                                            description: Description is the description of an helm operation
                                                            type: string
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install/upgrade/uninstall
                                                                Default to false
                                                            type: boolean
                                                        disableOpenAPIValidation:
                                                            default: false
                                                            description: |-
                                                                if set, the installation process will not validate rendered templates against the Kubernetes OpenAPI Schema
                                                                Default to false
                                                            type: boolean
                                                        enableClientCache:
                                                            default: false
                                                            description: EnableClientCache is a flag to enable Helm client cache. If it is not specified, it will be set to false.
                                                            type: boolean
                                                        installOptions:
                                                            description: HelmInstallOptions are options specific to helm install
                                                            properties:
                                                                createNamespace:
                                                                    default: true
                                                                    description: Create the release namespace if not present. Defaults to true
                                                                    type: boolean
                                                                disableHooks:
                                                                    default: false
                                                                    description: |-
                                                                        prevent hooks from running during install. If set to true, overrides
                                                                        DisableHooks in HelmOptions. Use this one when you want to selective
                                                                        disable hooks on install
                                                                        Default to false
                                                                    type: boolean
                                                                replace:
                                                                    default: true
                                                                    description: Replaces if set indicates to replace an older release with this one
                                                                    type: boolean
                                                                takeOwnership:
                                                                    default: false
                                                                    description: |-
                                                                        if set, install will ignore the check for helm annotations
                                                                        and take ownership of the existing resources
                                                                    type: boolean
                                                            type: object
                                                        labels:
                                                            additionalProperties:
                                                                type: string
                                                            description: Labels that would be added to release metadata.
                                                            type: object
                                                        passCredentialsAll:
                                                            description: PassCredentialsAll is the flag to pass credentials to all domains
                                                            type: boolean
                                                        skipCRDs:
                                                            default: false
                                                            description: |-
                                                                SkipCRDs controls whether CRDs should be installed during install/upgrade operation.
                                                                By default, CRDs are installed if not already present.
                                                            type: boolean
                                                        skipSchemaValidation:
                                                            default: false
                                                            description: SkipSchemaValidation determines if JSON schema validation is disabled.
                                                            type: boolean
                                                        timeout:
                                                            description: time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
                                                            type: string
                                                        uninstallOptions:
                                                            description: HelmUninstallOptions are options specific to helm uninstall
                                                            properties:
                                                                deletionPropagation:
                                                                    description: DeletionPropagation
                                                                    enum:
                                                                        - orphan
                                                                        - foreground
                                                                        - background
                                                                    type: string
                                                                disableHooks:
                                                                    default: false
                                                                    description: |-
                                                                        prevent hooks from running during install. If set to true, overrides
                                                                        DisableHooks in HelmOptions. Use this one when you want to selective
                                                                        disable hooks on uninstall
                                                                        Default to false
                                                                    type: boolean
                                                                keepHistory:
                                                                    description: |-
                                                                        When uninstall a chart with this flag, Helm removes the resources associated with the chart,
                                                                        but it keeps the release information. This allows to see details about the uninstalled release
                                                                        using the helm history command.
                                                                    type: boolean
                                                            type: object
                                                        upgradeOptions:
                                                            description: HelmUpgradeOptions are options specific to helm upgrade
                                                            properties:
                                                                cleanupOnFail:
                                                                    default: false
                                                                    description: CleanupOnFail will, if true, cause the upgrade to delete newly-created resources on a failed update.
                                                                    type: boolean
                                                                disableHooks:
                                                                    default: false
                                                                    description: |-
                                                                        prevent hooks from running during install. If set to true, overrides
                                                                        DisableHooks in HelmOptions. Use this one when you want to selective
                                                                        disable hooks on upgrade
                                                                        Default to false
                                                                    type: boolean
                                                                force:
                                                                    default: false
                                                                    description: |-
                                                                        Force will, if set to `true`, ignore certain warnings and perform the upgrade anyway.
                                                                        This should be used with caution.
                                                                    type: boolean
                                                                maxHistory:
                                                                    default: 2
                                                                    description: |-
                                                                        MaxHistory limits the maximum number of revisions saved per release
                                                                        Default to 2
                                                                    type: integer
                                                                recreate:
                                                                    default: false
                                                                    description: Recreate will (if true) recreate pods after a rollback.
                                                                    type: boolean
                                                                resetThenReuseValues:
                                                                    default: false
                                                                    description: ResetThenReuseValues will reset the values to the chart's built-ins then merge with user's last supplied values.
                                                                    type: boolean
                                                                resetValues:
                                                                    default: false
                                                                    description: ResetValues will reset the values to the chart's built-ins rather than merging with existing.
                                                                    type: boolean
                                                                reuseValues:
                                                                    default: false
                                                                    description: |-
                                                                        ReuseValues copies values from the current release to a new release if the
                                                                        new release does not have any values. If the request already has values,
                                                                        or if there are no values in the current release, this does nothing.
                                                                        This is skipped if the ResetValues flag is set, in which case the
                                                                        request values are not altered.
                                                                    type: boolean
                                                                subNotes:
                                                                    default: false
                                                                    description: SubNotes determines whether sub-notes are rendered in the chart.
                                                                    type: boolean
                                                                takeOwnership:
                                                                    default: false
                                                                    description: |-
                                                                        if set, upgrade will ignore the check for helm annotations
                                                                        and take ownership of the existing resources
                                                                    type: boolean
                                                                upgradeCRDs:
                                                                    default: false
                                                                    description: |-
                                                                        UpgradeCRDs upgrade CRDs from the Helm Chart's crds directory
                                                                        By default, CRDs are not applied during Helm upgrade action by Helm
                                                                        https://helm.sh/docs/chart_best_practices/custom_resource_definitions/
                                                                    type: boolean
                                                            type: object
                                                        wait:
                                                            default: false
                                                            description: |-
                                                                if set, will wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment, StatefulSet, or ReplicaSet
                                                                are in a ready state before marking the release as successful. It will wait for as long as --timeout
                                                                Default to false
                                                            type: boolean
                                                        waitForJobs:
                                                            default: false
                                                            description: |-
                                                                if set and --wait enabled, will wait until all Jobs have been completed before marking the release as successful.
                                                                It will wait for as long as --timeout
                                                                Default to false
                                                            type: boolean
                                                    type: object
                                                registryCredentialsConfig:
                                                    description: |-
                                                        RegistryCredentialsConfig is an optional configuration for credentials,
                                                        including information to connect to private registries.
                                                    properties:
                                                        ca:
                                                            description: |-
                                                                CASecretRef references a secret containing the TLS CA certificate
                                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                be implicit set to cluster's namespace.
                                                                key: ca.crt
                                                            properties:
                                                                name:
                                                                    description: name is unique within a namespace to reference a secret resource.
                                                                    type: string
                                                                namespace:
                                                                    description: namespace defines the space within which the secret name must be unique.
                                                                    type: string
                                                            type: object
                                                            x-kubernetes-map-type: atomic
                                                        credentials:
                                                            description: |-
                                                                CredentialsSecretRef references a secret containing credentials
                                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                be implicit set to cluster's namespace.
                                                            properties:
                                                                name:
                                                                    description: name is unique within a namespace to reference a secret resource.
                                                                    type: string
                                                                namespace:
                                                                    description: namespace defines the space within which the secret name must be unique.
                                                                    type: string
                                                            type: object
                                                            x-kubernetes-map-type: atomic
                                                        insecureSkipTLSVerify:
                                                            description: InsecureSkipTLSVerify controls server certificate verification.
                                                            type: boolean
                                                        key:
                                                            description: |-
                                                                Key specifies the key within the CredentialsSecretRef containing the data
                                                                If not specified, it defaults to the only key in the secret if there's just one.
                                                            type: string
                                                        plainHTTP:
                                                            description: PlainHTTP indicates to use insecure HTTP connections for the chart download
                                                            type: boolean
                                                    type: object
                                                releaseName:
                                                    description: ReleaseName is the chart release
                                                    minLength: 1
                                                    type: string
                                                releaseNamespace:
                                                    description: ReleaseNamespace is the namespace release will be installed
                                                    minLength: 1
                                                    type: string
                                                repositoryName:
                                                    description: |-
                                                        RepositoryName is the name helm chart repository
                                                        This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                        It is ignored if RepositoryURL references a Flux Source.
                                                        Must be defined otherwise.
                                                    type: string
                                                repositoryURL:
                                                    description: |-
                                                        RepositoryURL is the URL helm chart repository
                                                        It can point to a traditional HTTP-based repository or an OCI registry.
                                                        Examples:
                                                          - HTTP Repository: https://charts.example.com/stable
                                                          - OCI Registry: oci://registry.example.com/namespace/charts
                                                          - GitHub Pages: https://<username>.github.io/<repository>/
                                                          - Any other valid URL where Helm charts are hosted.

                                                        Alternatively, it can be a Flux source reference:
                                                          <flux source kind>://<flux source namespace>/<flux source name>/<path>

                                                        Where:
                                                          - <flux source kind> is the type of Flux source (gitrepository, ocirepository, bucket).
                                                          - <flux source namespace> and <flux source name> are the namespace and name of the Flux Source in the management cluster.
                                                          - <path> is the path within the source repository where the Helm charts are located.

                                                        For instance:
                                                          gitrepository://flux-system/flux-system/charts/projectsveltos

                                                        Assuming there is a Flux GitRepository named 'flux-system' in the 'flux-system' namespace
                                                        syncing 'https://github.com/projectsveltos/helm-charts.git/', and the Helm charts are
                                                        located in the 'charts/projectsveltos' directory of that repository.
                                                    minLength: 1
                                                    type: string
                                                values:
                                                    description: |-
                                                        Values field allows to define configuration for the Helm release.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                                    type: string
                                                valuesFrom:
                                                    description: |-
                                                        ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                        it is possible to store configuration for the Helm release.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                                    items:
                                                        properties:
                                                            kind:
                                                                description: |-
                                                                    Kind of the resource. Supported kinds are:
                                                                    - ConfigMap/Secret
                                                                enum:
                                                                    - ConfigMap
                                                                    - Secret
                                                                type: string
                                                            name:
                                                                description: |-
                                                                    Name of the referenced resource.
                                                                    Name can be expressed as a template and instantiate using any cluster field.
                                                                minLength: 1
                                                                type: string
                                                            namespace:
                                                                description: |-
                                                                    Namespace of the referenced resource.
                                                                    For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                    be implicit set to cluster's namespace.
                                                                    For Profile namespace must be left empty. The Profile namespace will be used.
                                                                    Namespace can be expressed as a template and instantiate using any cluster field.
                                                                type: string
                                                            optional:
                                                                default: false
                                                                description: |-
                                                                    Optional indicates that the referenced resource is not mandatory.
                                                                    If set to true and the resource is not found, the error will be ignored,
                                                                    and Sveltos will continue processing other ValueFroms.
                                                                type: boolean
                                                        required:
                                                            - kind
                                                            - name
                                                        type: object
                                                    type: array
                                            required:
                                                - releaseName
                                                - releaseNamespace
                                                - repositoryURL
                                            type: object
                                            x-kubernetes-validations:
                                                - message: ChartName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartName) >= 1 : true'
                                                - message: ChartName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartName) >= 1 : true'
                                                - message: ChartVersion must be defined
                                                  rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartVersion) >= 1 : true'
                                                - message: ChartVersion must be defined
                                                  rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartVersion) >= 1 : true'
                                                - message: RepositoryName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''http'') ? size(self.repositoryName) >= 1 : true'
                                                - message: RepositoryName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.repositoryName) >= 1 : true'
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    kustomizationRefs:
                                        description: |-
                                            Kustomization refs is a list of kustomization paths. Kustomization will
                                            be run on those paths and the outcome will be deployed.
                                        items:
                                            properties:
                                                components:
                                                    description: |-
                                                        Components is a list of paths to Kustomize components. These paths are relative to the
                                                        `Path` field and are included in the Kustomize build to provide reusable configuration logic.
                                                        The paths can be static or leverage Go templates for dynamic customization.
                                                    items:
                                                        type: string
                                                    type: array
                                                deploymentType:
                                                    default: Remote
                                                    description: |-
                                                        DeploymentType indicates whether resources need to be deployed
                                                        into the management cluster (local) or the managed cluster (remote)
                                                        NOTE: DeploymentType Local cannot be used when the matching cluster is the management cluster itself.
                                                    enum:
                                                        - Local
                                                        - Remote
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the resource. Supported kinds are:
                                                        - flux GitRepository;OCIRepository;Bucket
                                                        - ConfigMap/Secret
                                                    enum:
                                                        - GitRepository
                                                        - OCIRepository
                                                        - Bucket
                                                        - ConfigMap
                                                        - Secret
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referenced resource.
                                                        Name can be expressed as a template and instantiate using any cluster field.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referenced resource.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        For Profile namespace must be left empty. The Profile namespace will be used.
                                                        Namespace can be expressed as a template and instantiate using any cluster field.
                                                    type: string
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other ValueFroms.
                                                    type: boolean
                                                path:
                                                    description: |-
                                                        Path to the directory containing the kustomization.yaml file, or the
                                                        set of plain YAMLs a kustomization.yaml should be generated for.
                                                        Defaults to 'None', which translates to the root path of the SourceRef.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster)
                                                    type: string
                                                targetNamespace:
                                                    description: |-
                                                        TargetNamespace sets or overrides the namespace in the
                                                        kustomization.yaml file.
                                                    maxLength: 63
                                                    minLength: 1
                                                    type: string
                                                tier:
                                                    default: 100
                                                    description: |-
                                                        Tier controls the order of deployment for resources coming from different KustomizationRef
                                                        within the same ClusterProfile or Profile.
                                                        When two KustomizationRef attempt to deploy the same resource, the KustomizationRef with the lowest
                                                        Tier value takes priority and deploys/updates the resource.
                                                        This priority mechanism is only checked after the parent ClusterProfile has won
                                                        the primary conflict resolution against other ClusterProfiles.
                                                        Higher Tier values represent lower priority. The default Tier value is 100.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                                values:
                                                    additionalProperties:
                                                        type: string
                                                    description: |-
                                                        Values is a map[string]string type that allows to define a set of key-value pairs.
                                                        These key-value pairs can optionally leverage Go templates for further processing.
                                                        With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                        These templates have access to management cluster information during deployment. This allows
                                                        to do more than just replace placeholders. Variables can be used to dynamically
                                                        construct values based on other resources or variables within the Kustomize output.
                                                        For example, imagine you have a Region key with a template value like:
                                                        '{{ index .Cluster.metadata.labels "region" }}'.
                                                        This template retrieves the region label from the cluster instance metadata.
                                                        Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                        The output itself can also contain templates, like:
                                                        region: '{{ default "west" .Region }}'.
                                                        This way, the final output from Kustomize will have the region set dynamically based on
                                                        the actual region retrieved earlier.
                                                    type: object
                                                valuesFrom:
                                                    description: |-
                                                        ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                        it is possible to define key-value pairs. These key-value pairs can optionally leverage
                                                        Go templates for further processing.
                                                        With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                        These templates have access to management cluster information during deployment. This allows
                                                        to do more than just replace placeholders. Variables can be used to dynamically
                                                        construct values based on other resources or variables within the Kustomize output.
                                                        For example, imagine you have a Region key with a template value like:
                                                        '{{ index .Cluster.metadata.labels "region" }}'.
                                                        This template retrieves the region label from the cluster instance metadata.
                                                        Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                        The output itself can also contain templates, like:
                                                        region: '{{ default "west" .Region }}'.
                                                        This way, the final output from Kustomize will have the region set dynamically based on
                                                        the actual region retrieved earlier.
                                                    items:
                                                        properties:
                                                            kind:
                                                                description: |-
                                                                    Kind of the resource. Supported kinds are:
                                                                    - ConfigMap/Secret
                                                                enum:
                                                                    - ConfigMap
                                                                    - Secret
                                                                type: string
                                                            name:
                                                                description: |-
                                                                    Name of the referenced resource.
                                                                    Name can be expressed as a template and instantiate using any cluster field.
                                                                minLength: 1
                                                                type: string
                                                            namespace:
                                                                description: |-
                                                                    Namespace of the referenced resource.
                                                                    For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                    be implicit set to cluster's namespace.
                                                                    For Profile namespace must be left empty. The Profile namespace will be used.
                                                                    Namespace can be expressed as a template and instantiate using any cluster field.
                                                                type: string
                                                            optional:
                                                                default: false
                                                                description: |-
                                                                    Optional indicates that the referenced resource is not mandatory.
                                                                    If set to true and the resource is not found, the error will be ignored,
                                                                    and Sveltos will continue processing other ValueFroms.
                                                                type: boolean
                                                        required:
                                                            - kind
                                                            - name
                                                        type: object
                                                    type: array
                                            required:
                                                - kind
                                                - name
                                                - namespace
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    maxConsecutiveFailures:
                                        description: |-
                                            The maximum number of consecutive deployment failures that Sveltos will permit.
                                            After this many consecutive failures, the deployment will be considered failed, and Sveltos will stop retrying.
                                            This setting applies only to feature deployments, not resource removal.
                                            This field is optional. If not set, Sveltos default behavior is to keep retrying.
                                        type: integer
                                    maxUpdate:
                                        anyOf:
                                            - type: integer
                                            - type: string
                                        description: |-
                                            The maximum number of clusters that can be updated concurrently.
                                            Value can be an absolute number (ex: 5) or a percentage of desired cluster (ex: 10%).
                                            Defaults to 100%.
                                            Example: when this is set to 30%, when list of add-ons/applications in ClusterProfile
                                            changes, only 30% of matching clusters will be updated in parallel. Only when updates
                                            in those cluster succeed, other matching clusters are updated.
                                        pattern: ^((100|[0-9]{1,2})%|[0-9]+)$
                                        x-kubernetes-int-or-string: true
                                    patches:
                                        description: |-
                                            Define additional Kustomize inline Patches applied for all resources on this profile
                                            Within the Patch Spec you can use templating
                                        items:
                                            description: |-
                                                Patch contains an inline StrategicMerge or JSON6902 patch, and the target the patch should
                                                be applied to.
                                            properties:
                                                patch:
                                                    description: |-
                                                        Patch contains an inline StrategicMerge patch or an inline JSON6902 patch with
                                                        an array of operation objects.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                                    type: string
                                                target:
                                                    description: Target points to the resources that the patch document should be applied to.
                                                    properties:
                                                        annotationSelector:
                                                            description: |-
                                                                AnnotationSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource annotations.
                                                            type: string
                                                        group:
                                                            description: |-
                                                                Group is the API group to select resources from.
                                                                Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        kind:
                                                            description: |-
                                                                Kind of the API Group to select resources from.
                                                                Together with Group and Version it is capable of unambiguously
                                                                identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        labelSelector:
                                                            description: |-
                                                                LabelSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource labels.
                                                            type: string
                                                        name:
                                                            description: Name to match resources with.
                                                            type: string
                                                        namespace:
                                                            description: Namespace to select resources from.
                                                            type: string
                                                        version:
                                                            description: |-
                                                                Version of the API Group to select resources from.
                                                                Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                    type: object
                                            required:
                                                - patch
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    patchesFrom:
                                        description: |-
                                            PatchesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                            it is possible to store additional Kustomize inline Patches applied for all resources on this profile
                                            These values can be static or leverage Go templates for dynamic customization.
                                            When expressed as templates, the values are filled in using information from
                                            resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                        items:
                                            properties:
                                                kind:
                                                    description: |-
                                                        Kind of the resource. Supported kinds are:
                                                        - ConfigMap/Secret
                                                    enum:
                                                        - ConfigMap
                                                        - Secret
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referenced resource.
                                                        Name can be expressed as a template and instantiate using any cluster field.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referenced resource.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        For Profile namespace must be left empty. The Profile namespace will be used.
                                                        Namespace can be expressed as a template and instantiate using any cluster field.
                                                    type: string
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other ValueFroms.
                                                    type: boolean
                                            required:
                                                - kind
                                                - name
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    policyRefs:
                                        description: |-
                                            PolicyRefs references all the ConfigMaps/Secrets/Flux Sources containing kubernetes resources
                                            that need to be deployed in the matching managed clusters.
                                            The values contained in those resources can be static or leverage Go templates for dynamic customization.
                                            When expressed as templates, the values are filled in using information from
                                            resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                        items:
                                            properties:
                                                deploymentType:
                                                    default: Remote
                                                    description: |-
                                                        DeploymentType indicates whether resources need to be deployed
                                                        into the management cluster (local) or the managed cluster (remote)
                                                    enum:
                                                        - Local
                                                        - Remote
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the resource. Supported kinds are:
                                                        - ConfigMap/Secret
                                                        - flux GitRepository;OCIRepository;Bucket
                                                    enum:
                                                        - GitRepository
                                                        - OCIRepository
                                                        - Bucket
                                                        - ConfigMap
                                                        - Secret
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referenced resource.
                                                        Name can be expressed as a template and instantiate using any cluster field.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referenced resource.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        For Profile namespace must be left empty. Profile namespace will be used.
                                                        Namespace can be expressed as a template and instantiate using any cluster field.
                                                    type: string
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other PolicyRefs.
                                                    type: boolean
                                                path:
                                                    description: |-
                                                        Path to the directory containing the YAML files.
                                                        Defaults to 'None', which translates to the root path of the SourceRef.
                                                        Used only for GitRepository;OCIRepository;Bucket
                                                    type: string
                                                tier:
                                                    default: 100
                                                    description: |-
                                                        Tier controls the order of deployment for resources coming from different PolicyRefs
                                                        within the same ClusterProfile or Profile.
                                                        When two PolicyRefs attempt to deploy the same resource, the PolicyRef with the lowest
                                                        Tier value takes priority and deploys/updates the resource.
                                                        This priority mechanism is only checked after the parent ClusterProfile has won
                                                        the primary conflict resolution against other ClusterProfiles.
                                                        Higher Tier values represent lower priority. The default Tier value is 100.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                            required:
                                                - kind
                                                - name
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    postDeleteChecks:
                                        description: |-
                                            PostDeleteChecks is a slice of Lua functions to run against
                                            the managed cluster *after* Sveltos has deleted all resources.
                                            This ensures that the environment has reached the desired clean state.
                                        items:
                                            properties:
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                featureID:
                                                    description: |-
                                                        FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                        This field indicates when to run this check.
                                                        For instance:
                                                        - if set to Helm this check will be run after all helm
                                                        charts specified in the ClusterProfile are deployed.
                                                        - if set to Resources this check will be run after the content
                                                        of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                        PolicyRef sections is deployed
                                                    enum:
                                                        - Resources
                                                        - Helm
                                                        - Kustomize
                                                    type: string
                                                group:
                                                    description: Group of the resource to fetch in the managed Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource to fetch in the managed Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name is the name of this check
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource to fetch in the managed Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                script:
                                                    description: |-
                                                        Script is a text containing a lua script.
                                                        Must return struct with field "health"
                                                        representing whether object is a match (true or false)
                                                    type: string
                                                version:
                                                    description: Version of the resource to fetch in the managed Cluster.
                                                    type: string
                                            required:
                                                - featureID
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    preDeleteChecks:
                                        description: |-
                                            PreDeleteChecks is a slice of Lua functions to run against
                                            the managed cluster *before* Sveltos starts deleting resources.
                                            If any of these fail, the deletion process is halted.
                                        items:
                                            properties:
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                featureID:
                                                    description: |-
                                                        FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                        This field indicates when to run this check.
                                                        For instance:
                                                        - if set to Helm this check will be run after all helm
                                                        charts specified in the ClusterProfile are deployed.
                                                        - if set to Resources this check will be run after the content
                                                        of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                        PolicyRef sections is deployed
                                                    enum:
                                                        - Resources
                                                        - Helm
                                                        - Kustomize
                                                    type: string
                                                group:
                                                    description: Group of the resource to fetch in the managed Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource to fetch in the managed Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name is the name of this check
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource to fetch in the managed Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                script:
                                                    description: |-
                                                        Script is a text containing a lua script.
                                                        Must return struct with field "health"
                                                        representing whether object is a match (true or false)
                                                    type: string
                                                version:
                                                    description: Version of the resource to fetch in the managed Cluster.
                                                    type: string
                                            required:
                                                - featureID
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    reloader:
                                        default: false
                                        description: |-
                                            Reloader indicates whether Deployment/StatefulSet/DaemonSet instances deployed
                                            by Sveltos and part of this ClusterProfile need to be restarted via rolling upgrade
                                            when a ConfigMap/Secret instance mounted as volume is modified.
                                            When set to true, when any mounted ConfigMap/Secret is modified, Sveltos automatically
                                            starts a rolling upgrade for Deployment/StatefulSet/DaemonSet instances mounting it.
                                        type: boolean
                                    stopMatchingBehavior:
                                        default: WithdrawPolicies
                                        description: |-
                                            StopMatchingBehavior indicates what behavior should be when a Cluster stop matching
                                            the ClusterProfile. By default all deployed Helm charts and Kubernetes resources will
                                            be withdrawn from Cluster. Setting StopMatchingBehavior to LeavePolicies will instead
                                            leave ClusterProfile deployed policies in the Cluster.
                                        enum:
                                            - WithdrawPolicies
                                            - LeavePolicies
                                        type: string
                                    syncMode:
                                        default: Continuous
                                        description: |-
                                            SyncMode specifies how features are synced in a matching workload cluster.
                                            - OneTime means, first time a workload cluster matches the ClusterProfile,
                                            features will be deployed in such cluster. Any subsequent feature configuration
                                            change won't be applied into the matching workload clusters;
                                            - Continuous mode ensures that the first time a workload cluster matches a ClusterProfile,
                                            the specified features are deployed. Subsequent changes to the feature configuration are also
                                            automatically applied to all matching workload clusters.
                                            _ SyncModeContinuousWithDriftDetection operates similarly to Continuous mode, but also monitors
                                            matching managed clusters for configuration drift. If drift is detected, a reconciliation is
                                            triggered to ensure the managed cluster's configuration aligns with the ClusterProfile.
                                            - DryRun means no change will be propagated to any matching cluster. A report
                                            instead will be generated summarizing what would happen in any matching cluster
                                            because of the changes made to ClusterProfile while in DryRun mode.
                                        enum:
                                            - OneTime
                                            - Continuous
                                            - ContinuousWithDriftDetection
                                            - DryRun
                                        type: string
                                    templateResourceRefs:
                                        description: |-
                                            TemplateResourceRefs is a list of resource to collect from the management cluster.
                                            Those resources' values will be used to instantiate templates
                                        items:
                                            properties:
                                                identifier:
                                                    description: |-
                                                        Identifier is how the resource will be referred to in the
                                                        template
                                                    type: string
                                                ignoreStatusChanges:
                                                    default: false
                                                    description: |-
                                                        IgnoreStatusChanges indicates whether changes to the status of the referenced
                                                        resource should be ignored. If set to true, only changes to the spec or
                                                        metadata (generation change) will trigger a reconciliation.
                                                    type: boolean
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other TemplateResourceRefs.
                                                    type: boolean
                                                resource:
                                                    description: |-
                                                        Resource references a Kubernetes instance in the management
                                                        cluster to fetch and use during template instantiation.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        Name and namespace can be expressed as a template and instantiate using any cluster field.
                                                    properties:
                                                        apiVersion:
                                                            description: API version of the referent.
                                                            type: string
                                                        fieldPath:
                                                            description: |-
                                                                If referring to a piece of an object instead of an entire object, this string
                                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                                referencing a part of an object.
                                                            type: string
                                                        kind:
                                                            description: |-
                                                                Kind of the referent.
                                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                            type: string
                                                        name:
                                                            description: |-
                                                                Name of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                            type: string
                                                        namespace:
                                                            description: |-
                                                                Namespace of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                            type: string
                                                        resourceVersion:
                                                            description: |-
                                                                Specific resourceVersion to which this reference is made, if any.
                                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                            type: string
                                                        uid:
                                                            description: |-
                                                                UID of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                            required:
                                                - identifier
                                                - resource
                                            type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                            - identifier
                                        x-kubernetes-list-type: map
                                    tier:
                                        default: 100
                                        description: |-
                                            Tier controls the order of deployment for ClusterProfile or Profile resources targeting
                                            the same cluster resources.
                                            Imagine two configurations (ClusterProfiles or Profiles) trying to deploy the same resource (a Kubernetes
                                            resource or an helm chart). By default, the first one to reach the cluster "wins" and deploys it.
                                            Tier allows you to override this. When conflicts arise, the ClusterProfile or Profile with the **lowest**
                                            Tier value takes priority and deploys the resource.
                                            Higher Tier values represent lower priority. The default Tier value is 100.
                                            Using Tiers provides finer control over resource deployment within your cluster, particularly useful
                                            when multiple configurations manage the same resources.
                                        format: int32
                                        minimum: 1
                                        type: integer
                                    validateHealths:
                                        description: |-
                                            ValidateHealths is a slice of Lua functions to run against
                                            the managed cluster to validate the state of those add-ons/applications
                                            is healthy
                                        items:
                                            properties:
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                featureID:
                                                    description: |-
                                                        FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                        This field indicates when to run this check.
                                                        For instance:
                                                        - if set to Helm this check will be run after all helm
                                                        charts specified in the ClusterProfile are deployed.
                                                        - if set to Resources this check will be run after the content
                                                        of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                        PolicyRef sections is deployed
                                                    enum:
                                                        - Resources
                                                        - Helm
                                                        - Kustomize
                                                    type: string
                                                group:
                                                    description: Group of the resource to fetch in the managed Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource to fetch in the managed Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name is the name of this check
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource to fetch in the managed Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                script:
                                                    description: |-
                                                        Script is a text containing a lua script.
                                                        Must return struct with field "health"
                                                        representing whether object is a match (true or false)
                                                    type: string
                                                version:
                                                    description: Version of the resource to fetch in the managed Cluster.
                                                    type: string
                                            required:
                                                - featureID
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                type: object
                            stages:
                                description: |-
                                    Stages is a list of environments in the promotion pipeline.
                                    The pipeline will progress through these stages in the order they are defined.
                                items:
                                    description: Stage defines a single step in the promotion pipeline
                                    properties:
                                        clusterSelector:
                                            description: ClusterSelector specifies which clusters this stage's resources will be deployed to.
                                            properties:
                                                matchExpressions:
                                                    description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                    items:
                                                        description: |-
                                                            A label selector requirement is a selector that contains values, a key, and an operator that
                                                            relates the key and values.
                                                        properties:
                                                            key:
                                                                description: key is the label key that the selector applies to.
                                                                type: string
                                                            operator:
                                                                description: |-
                                                                    operator represents a key's relationship to a set of values.
                                                                    Valid operators are In, NotIn, Exists and DoesNotExist.
                                                                type: string
                                                            values:
                                                                description: |-
                                                                    values is an array of string values. If the operator is In or NotIn,
                                                                    the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                    the values array must be empty. This array is replaced during a strategic
                                                                    merge patch.
                                                                items:
                                                                    type: string
                                                                type: array
                                                                x-kubernetes-list-type: atomic
                                                        required:
                                                            - key
                                                            - operator
                                                        type: object
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                                matchLabels:
                                                    additionalProperties:
                                                        type: string
                                                    description: |-
                                                        matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                        map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                        operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                    type: object
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        name:
                                            description: Name of the stage, e.g., "qa", "staging", "production".
                                            type: string
                                        trigger:
                                            description: |-
                                                Trigger for promoting to the next stage in the pipeline.
                                                This field is only applicable to stages that are not the last stage.
                                            properties:
                                                auto:
                                                    description: |-
                                                        Auto is an automatic trigger. When set, promotion occurs automatically
                                                        based on defined conditions.
                                                    properties:
                                                        delay:
                                                            description: |-
                                                                Delay is an optional time duration to wait after the WaitForStatus condition
                                                                is met before proceeding with the promotion.
                                                            type: string
                                                        postDelayHealthChecks:
                                                            description: |-
                                                                PostDelayHealthChecks is a slice of health checks Sveltos will run after the delay
                                                                period has elapsed.
                                                            items:
                                                                properties:
                                                                    evaluateCEL:
                                                                        description: |-
                                                                            EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                                            Each rule will be evaluated in order against each object selected based on
                                                                            the criteria defined above. Each rule's expression must return a boolean value
                                                                            indicating whether the object is a match.

                                                                            Evaluation stops at the first rule that returns true; subsequent
                                                                            rules will not be evaluated.
                                                                        items:
                                                                            description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                                            properties:
                                                                                name:
                                                                                    description: Name is a human-readable identifier for the rule.
                                                                                    type: string
                                                                                rule:
                                                                                    description: |-
                                                                                        Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                                        It must return a bool
                                                                                    type: string
                                                                            required:
                                                                                - name
                                                                                - rule
                                                                            type: object
                                                                        type: array
                                                                    featureID:
                                                                        description: |-
                                                                            FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                                            This field indicates when to run this check.
                                                                            For instance:
                                                                            - if set to Helm this check will be run after all helm
                                                                            charts specified in the ClusterProfile are deployed.
                                                                            - if set to Resources this check will be run after the content
                                                                            of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                                            PolicyRef sections is deployed
                                                                        enum:
                                                                            - Resources
                                                                            - Helm
                                                                            - Kustomize
                                                                        type: string
                                                                    group:
                                                                        description: Group of the resource to fetch in the managed Cluster.
                                                                        type: string
                                                                    kind:
                                                                        description: Kind of the resource to fetch in the managed Cluster.
                                                                        minLength: 1
                                                                        type: string
                                                                    labelFilters:
                                                                        description: LabelFilters allows to filter resources based on current labels.
                                                                        items:
                                                                            properties:
                                                                                key:
                                                                                    description: Key is the label key
                                                                                    type: string
                                                                                operation:
                                                                                    description: Operation is the comparison operation
                                                                                    enum:
                                                                                        - Equal
                                                                                        - Different
                                                                                        - Has
                                                                                        - DoesNotHave
                                                                                    type: string
                                                                                value:
                                                                                    description: Value is the label value
                                                                                    type: string
                                                                            required:
                                                                                - key
                                                                                - operation
                                                                            type: object
                                                                        type: array
                                                                    name:
                                                                        description: Name is the name of this check
                                                                        type: string
                                                                    namespace:
                                                                        description: |-
                                                                            Namespace of the resource to fetch in the managed Cluster.
                                                                            Empty for resources scoped at cluster level.
                                                                        type: string
                                                                    script:
                                                                        description: |-
                                                                            Script is a text containing a lua script.
                                                                            Must return struct with field "health"
                                                                            representing whether object is a match (true or false)
                                                                        type: string
                                                                    version:
                                                                        description: Version of the resource to fetch in the managed Cluster.
                                                                        type: string
                                                                required:
                                                                    - featureID
                                                                    - group
                                                                    - kind
                                                                    - name
                                                                    - version
                                                                type: object
                                                            type: array
                                                        preHealthCheckDeployment:
                                                            description: |-
                                                                PreHealthCheckDeployment is a slice of resources Sveltos will deploy after the Delay
                                                                period has elapsed and before running PostDelayHealthChecks.
                                                                This can be used, for example, to deploy a Job that performs validation tasks.
                                                                The PostDelayHealthChecks can then validate the successful completion of these resources (e.g., a Job).
                                                            items:
                                                                properties:
                                                                    deploymentType:
                                                                        default: Remote
                                                                        description: |-
                                                                            DeploymentType indicates whether resources need to be deployed
                                                                            into the management cluster (local) or the managed cluster (remote)
                                                                        enum:
                                                                            - Local
                                                                            - Remote
                                                                        type: string
                                                                    kind:
                                                                        description: |-
                                                                            Kind of the resource. Supported kinds are:
                                                                            - ConfigMap/Secret
                                                                            - flux GitRepository;OCIRepository;Bucket
                                                                        enum:
                                                                            - GitRepository
                                                                            - OCIRepository
                                                                            - Bucket
                                                                            - ConfigMap
                                                                            - Secret
                                                                        type: string
                                                                    name:
                                                                        description: |-
                                                                            Name of the referenced resource.
                                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                                        minLength: 1
                                                                        type: string
                                                                    namespace:
                                                                        description: |-
                                                                            Namespace of the referenced resource.
                                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                            be implicit set to cluster's namespace.
                                                                            For Profile namespace must be left empty. Profile namespace will be used.
                                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                                        type: string
                                                                    optional:
                                                                        default: false
                                                                        description: |-
                                                                            Optional indicates that the referenced resource is not mandatory.
                                                                            If set to true and the resource is not found, the error will be ignored,
                                                                            and Sveltos will continue processing other PolicyRefs.
                                                                        type: boolean
                                                                    path:
                                                                        description: |-
                                                                            Path to the directory containing the YAML files.
                                                                            Defaults to 'None', which translates to the root path of the SourceRef.
                                                                            Used only for GitRepository;OCIRepository;Bucket
                                                                        type: string
                                                                    tier:
                                                                        default: 100
                                                                        description: |-
                                                                            Tier controls the order of deployment for resources coming from different PolicyRefs
                                                                            within the same ClusterProfile or Profile.
                                                                            When two PolicyRefs attempt to deploy the same resource, the PolicyRef with the lowest
                                                                            Tier value takes priority and deploys/updates the resource.
                                                                            This priority mechanism is only checked after the parent ClusterProfile has won
                                                                            the primary conflict resolution against other ClusterProfiles.
                                                                            Higher Tier values represent lower priority. The default Tier value is 100.
                                                                        format: int32
                                                                        minimum: 1
                                                                        type: integer
                                                                required:
                                                                    - kind
                                                                    - name
                                                                type: object
                                                            type: array
                                                        promotionWindow:
                                                            description: |-
                                                                PromotionWindow defines the recurring time window during which the
                                                                automatic promotion is permitted. The controller evaluates this window
                                                                *only after* the Delay (if defined) has elapsed and all PostDelayHealthChecks
                                                                have passed. The controller will then wait until the window defined by From/To
                                                                is open before proceeding.
                                                            properties:
                                                                from:
                                                                    description: |-
                                                                        From is a cron expression defining the recurring time(s) when the promotion
                                                                        window opens. The promotion will be blocked until the time defined by 'From'
                                                                        is reached.
                                                                    minLength: 1
                                                                    type: string
                                                                to:
                                                                    description: |-
                                                                        To is a cron expression defining the recurring time(s) when the promotion
                                                                        window closes. If the promotion process is not complete when 'To' is reached,
                                                                        the controller should pause and wait for the next 'From' time.
                                                                    minLength: 1
                                                                    type: string
                                                            required:
                                                                - from
                                                                - to
                                                            type: object
                                                    type: object
                                                manual:
                                                    description: Manual is a manual trigger. When set, promotion requires a human signal.
                                                    properties:
                                                        approved:
                                                            description: |-
                                                                Approved, when set to true, signals to the controller that
                                                                promotion to the next stage is approved.
                                                            type: boolean
                                                        automaticReset:
                                                            default: true
                                                            description: |-
                                                                AutomaticReset, when set to true, instructs the controller to automatically
                                                                reset the 'Approved' field to nil/false after successfully promoting
                                                                to the next stage. This prevents unintended immediate advancement
                                                                past the next manual stage. Defaults to true.
                                                            type: boolean
                                                    type: object
                                            type: object
                                            x-kubernetes-validations:
                                                - message: A trigger must have either a 'manual' or 'auto' field, but not both.
                                                  rule: has(self.manual) != has(self.auto)
                                    required:
                                        - name
                                    type: object
                                minItems: 1
                                type: array
                                x-kubernetes-list-map-keys:
                                    - name
                                x-kubernetes-list-type: map
                        required:
                            - stages
                        type: object
                    status:
                        description: status defines the observed state of ClusterPromotion
                        properties:
                            currentStageName:
                                description: |4-
                                     If the pipeline is currently running, this is the name of the stage
                                    being processed. If the pipeline is paused or completed, this is the name
                                    of the last stage that reached a target state.
                                type: string
                            lastPromotionTime:
                                description: LastPromotionTime is the time the entire promotion process was successfully completed.
                                format: date-time
                                type: string
                            profileSpecHash:
                                description: |-
                                    ProfileSpecHash represents a unique value for the entire ProfileSpec configuration
                                    at a fixed point in time. This is used to detect configuration changes.
                                format: byte
                                type: string
                            stages:
                                description: |-
                                    Stages tracks the status of each configured promotion stage
                                    (e.g., "qa", "staging", "production").
                                items:
                                    description: StageStatus defines the status for a given stage in a progressive deployment.
                                    properties:
                                        currentStatusDescription:
                                            description: |-
                                                CurrentStatusDescription provides a high-level description of where the stage is
                                                in its progression (e.g., "Waiting for cluster profiles to be created",
                                                "Waiting for all clusters to be Provisioned", "Running post-deployment health checks").
                                                This helps users understand the current blocking state.
                                            type: string
                                        failureMessage:
                                            description: FailureMessage reports a detailed error message if a failure occurred.
                                            type: string
                                        lastStatusCheckTime:
                                            description: |-
                                                LastStatusCheckTime is the time the ClusterPromotion controller last checked the
                                                statuses of the matching clusters and their provisioned state.
                                                This is updated frequently while waiting for provisioning to complete.
                                            format: date-time
                                            type: string
                                        lastSuccessfulAppliedTime:
                                            description: |-
                                                LastSuccessfulAppliedTime is the time this stage was fully and successfully deployed.
                                                This means all clusters matching the stage have reported a 'Provisioned' status.
                                            format: date-time
                                            type: string
                                        lastUpdateReconciledTime:
                                            description: |-
                                                LastUpdateReconciledTime is the time the ClusterPromotion controller most recently
                                                created or updated the corresponding ClusterProfile resource for this stage.
                                                This indicates when the desired state was last applied to the system.
                                            format: date-time
                                            type: string
                                        name:
                                            description: Name of the stage, e.g., "qa", "staging", "production".
                                            type: string
                                    required:
                                        - name
                                    type: object
                                type: array
                            stagesHash:
                                description: |-
                                    StagesHash represents a unique value for the entire list of Stages.
                                    This hash changes if any stage is added, removed, or if the ordering
                                    or configuration (ClusterSelector, Trigger) of any stage changes.
                                format: byte
                                type: string
                        type: object
                required:
                    - spec
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: clusterreports.config.projectsveltos.io
spec:
    group: config.projectsveltos.io
    names:
        kind: ClusterReport
        listKind: ClusterReportList
        plural: clusterreports
        singular: clusterreport
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClusterReport is the Schema for the clusterreports API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: ClusterReportSpec defines the desired state of ClusterReport
                        properties:
                            clusterName:
                                description: |-
                                    ClusterName is the name of the CAPI Cluster this ClusterReport
                                    is for.
                                type: string
                            clusterNamespace:
                                description: |-
                                    ClusterNamespace is the namespace of the CAPI Cluster this
                                    ClusterReport is for.
                                type: string
                        required:
                            - clusterName
                            - clusterNamespace
                        type: object
                    status:
                        description: ClusterReportStatus defines the observed state of ClusterReport
                        properties:
                            helmResourceReports:
                                description: |-
                                    HelmResourceReports contains report on helm resources (when in pull mode, helm template resources are
                                    deployed directly)
                                items:
                                    properties:
                                        action:
                                            description: Action represent the type of operation on the Kubernetes resource.
                                            enum:
                                                - No Action
                                                - Create
                                                - Update
                                                - Delete
                                                - Conflict
                                            type: string
                                        message:
                                            description: |-
                                                Message is for any message that needs to added to better
                                                explain the action.
                                            type: string
                                        resource:
                                            description: Resource contains information about Kubernetes Resource
                                            properties:
                                                group:
                                                    description: Group of the resource deployed in the Cluster.
                                                    type: string
                                                ignoreForConfigurationDrift:
                                                    default: false
                                                    description: |-
                                                        IgnoreForConfigurationDrift indicates to not track resource
                                                        for configuration drift detection.
                                                        This field has a meaning only when mode is ContinuousWithDriftDetection
                                                    type: boolean
                                                kind:
                                                    description: Kind of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                lastAppliedTime:
                                                    description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                                    format: date-time
                                                    type: string
                                                name:
                                                    description: Name of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource deployed in the Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                version:
                                                    description: Version of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                            required:
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                    required:
                                        - resource
                                    type: object
                                type: array
                            kustomizeResourceReports:
                                description: |-
                                    KustomizeResourceReports contains report on Kubernetes resources
                                    deployed because of KustomizationRefs
                                items:
                                    properties:
                                        action:
                                            description: Action represent the type of operation on the Kubernetes resource.
                                            enum:
                                                - No Action
                                                - Create
                                                - Update
                                                - Delete
                                                - Conflict
                                            type: string
                                        message:
                                            description: |-
                                                Message is for any message that needs to added to better
                                                explain the action.
                                            type: string
                                        resource:
                                            description: Resource contains information about Kubernetes Resource
                                            properties:
                                                group:
                                                    description: Group of the resource deployed in the Cluster.
                                                    type: string
                                                ignoreForConfigurationDrift:
                                                    default: false
                                                    description: |-
                                                        IgnoreForConfigurationDrift indicates to not track resource
                                                        for configuration drift detection.
                                                        This field has a meaning only when mode is ContinuousWithDriftDetection
                                                    type: boolean
                                                kind:
                                                    description: Kind of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                lastAppliedTime:
                                                    description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                                    format: date-time
                                                    type: string
                                                name:
                                                    description: Name of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource deployed in the Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                version:
                                                    description: Version of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                            required:
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                    required:
                                        - resource
                                    type: object
                                type: array
                            releaseReports:
                                description: ReleaseReports contains report on helm releases
                                items:
                                    properties:
                                        action:
                                            description: Action represent the type of operation on the Helm Chart
                                            enum:
                                                - No Action
                                                - Install
                                                - Upgrade
                                                - Delete
                                                - Conflict
                                                - Update Values
                                            type: string
                                        chartName:
                                            description: ReleaseName of the release deployed in the CAPI Cluster.
                                            minLength: 1
                                            type: string
                                        chartVersion:
                                            description: |-
                                                ChartVersion is the version of the helm chart deployed
                                                in the CAPI Cluster.
                                            type: string
                                        message:
                                            description: |-
                                                Message is for any message that needs to added to better
                                                explain the action.
                                            type: string
                                        releaseNamespace:
                                            description: Namespace where release is deployed in the CAPI Cluster.
                                            minLength: 1
                                            type: string
                                    required:
                                        - chartName
                                        - chartVersion
                                        - releaseNamespace
                                    type: object
                                type: array
                            resourceReports:
                                description: |-
                                    ResourceReports contains report on Kubernetes resources
                                    deployed because of PolicyRefs
                                items:
                                    properties:
                                        action:
                                            description: Action represent the type of operation on the Kubernetes resource.
                                            enum:
                                                - No Action
                                                - Create
                                                - Update
                                                - Delete
                                                - Conflict
                                            type: string
                                        message:
                                            description: |-
                                                Message is for any message that needs to added to better
                                                explain the action.
                                            type: string
                                        resource:
                                            description: Resource contains information about Kubernetes Resource
                                            properties:
                                                group:
                                                    description: Group of the resource deployed in the Cluster.
                                                    type: string
                                                ignoreForConfigurationDrift:
                                                    default: false
                                                    description: |-
                                                        IgnoreForConfigurationDrift indicates to not track resource
                                                        for configuration drift detection.
                                                        This field has a meaning only when mode is ContinuousWithDriftDetection
                                                    type: boolean
                                                kind:
                                                    description: Kind of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                lastAppliedTime:
                                                    description: LastAppliedTime identifies when this resource was last applied to the cluster.
                                                    format: date-time
                                                    type: string
                                                name:
                                                    description: Name of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource deployed in the Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                version:
                                                    description: Version of the resource deployed in the Cluster.
                                                    minLength: 1
                                                    type: string
                                            required:
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                    required:
                                        - resource
                                    type: object
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: clustersummaries.config.projectsveltos.io
spec:
    group: config.projectsveltos.io
    names:
        kind: ClusterSummary
        listKind: ClusterSummaryList
        plural: clustersummaries
        singular: clustersummary
    scope: Namespaced
    versions:
        - additionalPrinterColumns:
            - description: Time duration since creation of ClusterSummary
              jsonPath: .metadata.creationTimestamp
              name: Age
              type: date
            - description: Indicates whether HelmCharts are all provisioned
              jsonPath: .status.featureSummaries[?(@.featureID=="Helm")].status
              name: HelmCharts
              priority: 2
              type: string
            - description: Indicates whether KustomizeRefs are all provisioned
              jsonPath: .status.featureSummaries[?(@.featureID=="Kustomize")].status
              name: KustomizeRefs
              priority: 2
              type: string
            - description: Indicates whether PolicyRefs are all provisioned
              jsonPath: .status.featureSummaries[?(@.featureID=="Resources")].status
              name: PolicyRefs
              priority: 2
              type: string
          name: v1beta1
          schema:
            openAPIV3Schema:
                description: ClusterSummary is the Schema for the clustersummaries API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: ClusterSummarySpec defines the desired state of ClusterSummary
                        properties:
                            clusterName:
                                description: ClusterName is the name of the workload Cluster this ClusterSummary is for.
                                type: string
                            clusterNamespace:
                                description: |-
                                    ClusterNamespace is the namespace of the workload Cluster this
                                    ClusterSummary is for.
                                type: string
                            clusterProfileSpec:
                                description: |-
                                    ClusterProfileSpec represent the configuration that will be applied to
                                    the workload cluster.
                                properties:
                                    clusterRefs:
                                        description: ClusterRefs identifies clusters to associate to.
                                        items:
                                            description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: array
                                    clusterSelector:
                                        description: ClusterSelector identifies clusters to associate to.
                                        properties:
                                            matchExpressions:
                                                description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                                items:
                                                    description: |-
                                                        A label selector requirement is a selector that contains values, a key, and an operator that
                                                        relates the key and values.
                                                    properties:
                                                        key:
                                                            description: key is the label key that the selector applies to.
                                                            type: string
                                                        operator:
                                                            description: |-
                                                                operator represents a key's relationship to a set of values.
                                                                Valid operators are In, NotIn, Exists and DoesNotExist.
                                                            type: string
                                                        values:
                                                            description: |-
                                                                values is an array of string values. If the operator is In or NotIn,
                                                                the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                                the values array must be empty. This array is replaced during a strategic
                                                                merge patch.
                                                            items:
                                                                type: string
                                                            type: array
                                                            x-kubernetes-list-type: atomic
                                                    required:
                                                        - key
                                                        - operator
                                                    type: object
                                                type: array
                                                x-kubernetes-list-type: atomic
                                            matchLabels:
                                                additionalProperties:
                                                    type: string
                                                description: |-
                                                    matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                                    map is equivalent to an element of matchExpressions, whose key field is "key", the
                                                    operator is "In", and the values array contains only "value". The requirements are ANDed.
                                                type: object
                                        type: object
                                        x-kubernetes-map-type: atomic
                                    continueOnConflict:
                                        default: false
                                        description: |-
                                            By default (when ContinueOnConflict is unset or set to false), Sveltos stops deployment after
                                            encountering the first conflict (e.g., another ClusterProfile already deployed the resource).
                                            If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                            if conflicts are detected for previous resources.
                                        type: boolean
                                    continueOnError:
                                        default: false
                                        description: |-
                                            By default (when ContinueOnError is unset or set to false), Sveltos stops deployment after
                                            encountering the first error.
                                            If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                            if errors are detected for previous resources.
                                        type: boolean
                                    dependsOn:
                                        description: |-
                                            DependsOn specifies a list of other profiles that this instance depends on.
                                            A ClusterProfile can only depend on other ClusterProfiles, and a Profile can
                                            only depend on other Profiles.
                                            The add-ons and applications defined in this instance will not be deployed
                                            until all add-ons and applications in the profiles listed as dependencies are deployed.
                                        items:
                                            type: string
                                        type: array
                                    driftExclusions:
                                        description: |-
                                            DriftExclusions is a list of configuration drift exclusions to be applied when syncMode is
                                            set to ContinuousWithDriftDetection. Each exclusion specifies JSON6902 paths to ignore
                                            when evaluating drift, optionally targeting specific resources and features.
                                        items:
                                            properties:
                                                paths:
                                                    description: Paths is a slice of JSON6902 paths to exclude from configuration drift evaluation.
                                                    items:
                                                        type: string
                                                    type: array
                                                target:
                                                    description: Target points to the resources that the paths refers to.
                                                    properties:
                                                        annotationSelector:
                                                            description: |-
                                                                AnnotationSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource annotations.
                                                            type: string
                                                        group:
                                                            description: |-
                                                                Group is the API group to select resources from.
                                                                Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        kind:
                                                            description: |-
                                                                Kind of the API Group to select resources from.
                                                                Together with Group and Version it is capable of unambiguously
                                                                identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        labelSelector:
                                                            description: |-
                                                                LabelSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource labels.
                                                            type: string
                                                        name:
                                                            description: Name to match resources with.
                                                            type: string
                                                        namespace:
                                                            description: Namespace to select resources from.
                                                            type: string
                                                        version:
                                                            description: |-
                                                                Version of the API Group to select resources from.
                                                                Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                    type: object
                                            required:
                                                - paths
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    extraAnnotations:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            ExtraAnnotations: These annotations will be added by Sveltos to all Kubernetes resources
                                            deployed in a managed cluster based on this ClusterProfile/Profile instance.
                                            **Important:** If a resource deployed by Sveltos already has a annotation with a key present in
                                            `ExtraAnnotations`, the value from `ExtraAnnotations` will override the existing value.
                                            (Deprecated use Patches instead)
                                        type: object
                                    extraLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            ExtraLabels: These labels will be added by Sveltos to all Kubernetes resources deployed in
                                            a managed cluster based on this ClusterProfile/Profile instance.
                                            **Important:** If a resource deployed by Sveltos already has a label with a key present in
                                            `ExtraLabels`, the value from `ExtraLabels` will override the existing value.
                                            (Deprecated use Patches instead)
                                        type: object
                                    helmCharts:
                                        description: Helm charts is a list of helm charts that need to be deployed
                                        items:
                                            properties:
                                                chartName:
                                                    description: |-
                                                        ChartName is the chart name
                                                        This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                        Must be defined otherwise.
                                                    type: string
                                                chartVersion:
                                                    description: |-
                                                        ChartVersion is the chart version
                                                        This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                        It is ignored if RepositoryURL references a Flux Source.
                                                        Must be defined otherwise.
                                                    type: string
                                                helmChartAction:
                                                    default: Install
                                                    description: HelmChartAction is the action that will be taken on the helm chart
                                                    enum:
                                                        - Install
                                                        - Uninstall
                                                    type: string
                                                options:
                                                    description: Options allows to set flags which are used during installation.
                                                    properties:
                                                        atomic:
                                                            default: false
                                                            description: |-
                                                                if set, the installation process deletes the installation/upgrades on failure.
                                                                The --wait flag will be set automatically if --atomic is used
                                                                Default to false
                                                            type: boolean
                                                        dependencyUpdate:
                                                            default: false
                                                            description: |-
                                                                update dependencies if they are missing before installing the chart
                                                                Default to false
                                                            type: boolean
                                                        description:
                                                            description: Description is the description of an helm operation
                                                            type: string
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install/upgrade/uninstall
                                                                Default to false
                                                            type: boolean
                                                        disableOpenAPIValidation:
                                                            default: false
                                                            description: |-
                                                                if set, the installation process will not validate rendered templates against the Kubernetes OpenAPI Schema
                                                                Default to false
                                                            type: boolean
                                                        enableClientCache:
                                                            default: false
                                                            description: EnableClientCache is a flag to enable Helm client cache. If it is not specified, it will be set to false.
                                                            type: boolean
                                                        installOptions:
                                                            description: HelmInstallOptions are options specific to helm install
                                                            properties:
                                                                createNamespace:
                                                                    default: true
                                                                    description: Create the release namespace if not present. Defaults to true
                                                                    type: boolean
                                                                disableHooks:
                                                                    default: false
                                                                    description: |-
                                                                        prevent hooks from running during install. If set to true, overrides
                                                                        DisableHooks in HelmOptions. Use this one when you want to selective
                                                                        disable hooks on install
                                                                        Default to false
                                                                    type: boolean
                                                                replace:
                                                                    default: true
                                                                    description: Replaces if set indicates to replace an older release with this one
                                                                    type: boolean
                                                                takeOwnership:
                                                                    default: false
                                                                    description: |-
                                                                        if set, install will ignore the check for helm annotations
                                                                        and take ownership of the existing resources
                                                                    type: boolean
                                                            type: object
                                                        labels:
                                                            additionalProperties:
                                                                type: string
                                                            description: Labels that would be added to release metadata.
                                                            type: object
                                                        passCredentialsAll:
                                                            description: PassCredentialsAll is the flag to pass credentials to all domains
                                                            type: boolean
                                                        skipCRDs:
                                                            default: false
                                                            description: |-
                                                                SkipCRDs controls whether CRDs should be installed during install/upgrade operation.
                                                                By default, CRDs are installed if not already present.
                                                            type: boolean
                                                        skipSchemaValidation:
                                                            default: false
                                                            description: SkipSchemaValidation determines if JSON schema validation is disabled.
                                                            type: boolean
                                                        timeout:
                                                            description: time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
                                                            type: string
                                                        uninstallOptions:
                                                            description: HelmUninstallOptions are options specific to helm uninstall
                                                            properties:
                                                                deletionPropagation:
                                                                    description: DeletionPropagation
                                                                    enum:
                                                                        - orphan
                                                                        - foreground
                                                                        - background
                                                                    type: string
                                                                disableHooks:
                                                                    default: false
                                                                    description: |-
                                                                        prevent hooks from running during install. If set to true, overrides
                                                                        DisableHooks in HelmOptions. Use this one when you want to selective
                                                                        disable hooks on uninstall
                                                                        Default to false
                                                                    type: boolean
                                                                keepHistory:
                                                                    description: |-
                                                                        When uninstall a chart with this flag, Helm removes the resources associated with the chart,
                                                                        but it keeps the release information. This allows to see details about the uninstalled release
                                                                        using the helm history command.
                                                                    type: boolean
                                                            type: object
                                                        upgradeOptions:
                                                            description: HelmUpgradeOptions are options specific to helm upgrade
                                                            properties:
                                                                cleanupOnFail:
                                                                    default: false
                                                                    description: CleanupOnFail will, if true, cause the upgrade to delete newly-created resources on a failed update.
                                                                    type: boolean
                                                                disableHooks:
                                                                    default: false
                                                                    description: |-
                                                                        prevent hooks from running during install. If set to true, overrides
                                                                        DisableHooks in HelmOptions. Use this one when you want to selective
                                                                        disable hooks on upgrade
                                                                        Default to false
                                                                    type: boolean
                                                                force:
                                                                    default: false
                                                                    description: |-
                                                                        Force will, if set to `true`, ignore certain warnings and perform the upgrade anyway.
                                                                        This should be used with caution.
                                                                    type: boolean
                                                                maxHistory:
                                                                    default: 2
                                                                    description: |-
                                                                        MaxHistory limits the maximum number of revisions saved per release
                                                                        Default to 2
                                                                    type: integer
                                                                recreate:
                                                                    default: false
                                                                    description: Recreate will (if true) recreate pods after a rollback.
                                                                    type: boolean
                                                                resetThenReuseValues:
                                                                    default: false
                                                                    description: ResetThenReuseValues will reset the values to the chart's built-ins then merge with user's last supplied values.
                                                                    type: boolean
                                                                resetValues:
                                                                    default: false
                                                                    description: ResetValues will reset the values to the chart's built-ins rather than merging with existing.
                                                                    type: boolean
                                                                reuseValues:
                                                                    default: false
                                                                    description: |-
                                                                        ReuseValues copies values from the current release to a new release if the
                                                                        new release does not have any values. If the request already has values,
                                                                        or if there are no values in the current release, this does nothing.
                                                                        This is skipped if the ResetValues flag is set, in which case the
                                                                        request values are not altered.
                                                                    type: boolean
                                                                subNotes:
                                                                    default: false
                                                                    description: SubNotes determines whether sub-notes are rendered in the chart.
                                                                    type: boolean
                                                                takeOwnership:
                                                                    default: false
                                                                    description: |-
                                                                        if set, upgrade will ignore the check for helm annotations
                                                                        and take ownership of the existing resources
                                                                    type: boolean
                                                                upgradeCRDs:
                                                                    default: false
                                                                    description: |-
                                                                        UpgradeCRDs upgrade CRDs from the Helm Chart's crds directory
                                                                        By default, CRDs are not applied during Helm upgrade action by Helm
                                                                        https://helm.sh/docs/chart_best_practices/custom_resource_definitions/
                                                                    type: boolean
                                                            type: object
                                                        wait:
                                                            default: false
                                                            description: |-
                                                                if set, will wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment, StatefulSet, or ReplicaSet
                                                                are in a ready state before marking the release as successful. It will wait for as long as --timeout
                                                                Default to false
                                                            type: boolean
                                                        waitForJobs:
                                                            default: false
                                                            description: |-
                                                                if set and --wait enabled, will wait until all Jobs have been completed before marking the release as successful.
                                                                It will wait for as long as --timeout
                                                                Default to false
                                                            type: boolean
                                                    type: object
                                                registryCredentialsConfig:
                                                    description: |-
                                                        RegistryCredentialsConfig is an optional configuration for credentials,
                                                        including information to connect to private registries.
                                                    properties:
                                                        ca:
                                                            description: |-
                                                                CASecretRef references a secret containing the TLS CA certificate
                                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                be implicit set to cluster's namespace.
                                                                key: ca.crt
                                                            properties:
                                                                name:
                                                                    description: name is unique within a namespace to reference a secret resource.
                                                                    type: string
                                                                namespace:
                                                                    description: namespace defines the space within which the secret name must be unique.
                                                                    type: string
                                                            type: object
                                                            x-kubernetes-map-type: atomic
                                                        credentials:
                                                            description: |-
                                                                CredentialsSecretRef references a secret containing credentials
                                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                be implicit set to cluster's namespace.
                                                            properties:
                                                                name:
                                                                    description: name is unique within a namespace to reference a secret resource.
                                                                    type: string
                                                                namespace:
                                                                    description: namespace defines the space within which the secret name must be unique.
                                                                    type: string
                                                            type: object
                                                            x-kubernetes-map-type: atomic
                                                        insecureSkipTLSVerify:
                                                            description: InsecureSkipTLSVerify controls server certificate verification.
                                                            type: boolean
                                                        key:
                                                            description: |-
                                                                Key specifies the key within the CredentialsSecretRef containing the data
                                                                If not specified, it defaults to the only key in the secret if there's just one.
                                                            type: string
                                                        plainHTTP:
                                                            description: PlainHTTP indicates to use insecure HTTP connections for the chart download
                                                            type: boolean
                                                    type: object
                                                releaseName:
                                                    description: ReleaseName is the chart release
                                                    minLength: 1
                                                    type: string
                                                releaseNamespace:
                                                    description: ReleaseNamespace is the namespace release will be installed
                                                    minLength: 1
                                                    type: string
                                                repositoryName:
                                                    description: |-
                                                        RepositoryName is the name helm chart repository
                                                        This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                        It is ignored if RepositoryURL references a Flux Source.
                                                        Must be defined otherwise.
                                                    type: string
                                                repositoryURL:
                                                    description: |-
                                                        RepositoryURL is the URL helm chart repository
                                                        It can point to a traditional HTTP-based repository or an OCI registry.
                                                        Examples:
                                                          - HTTP Repository: https://charts.example.com/stable
                                                          - OCI Registry: oci://registry.example.com/namespace/charts
                                                          - GitHub Pages: https://<username>.github.io/<repository>/
                                                          - Any other valid URL where Helm charts are hosted.

                                                        Alternatively, it can be a Flux source reference:
                                                          <flux source kind>://<flux source namespace>/<flux source name>/<path>

                                                        Where:
                                                          - <flux source kind> is the type of Flux source (gitrepository, ocirepository, bucket).
                                                          - <flux source namespace> and <flux source name> are the namespace and name of the Flux Source in the management cluster.
                                                          - <path> is the path within the source repository where the Helm charts are located.

                                                        For instance:
                                                          gitrepository://flux-system/flux-system/charts/projectsveltos

                                                        Assuming there is a Flux GitRepository named 'flux-system' in the 'flux-system' namespace
                                                        syncing 'https://github.com/projectsveltos/helm-charts.git/', and the Helm charts are
                                                        located in the 'charts/projectsveltos' directory of that repository.
                                                    minLength: 1
                                                    type: string
                                                values:
                                                    description: |-
                                                        Values field allows to define configuration for the Helm release.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                                    type: string
                                                valuesFrom:
                                                    description: |-
                                                        ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                        it is possible to store configuration for the Helm release.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                                    items:
                                                        properties:
                                                            kind:
                                                                description: |-
                                                                    Kind of the resource. Supported kinds are:
                                                                    - ConfigMap/Secret
                                                                enum:
                                                                    - ConfigMap
                                                                    - Secret
                                                                type: string
                                                            name:
                                                                description: |-
                                                                    Name of the referenced resource.
                                                                    Name can be expressed as a template and instantiate using any cluster field.
                                                                minLength: 1
                                                                type: string
                                                            namespace:
                                                                description: |-
                                                                    Namespace of the referenced resource.
                                                                    For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                    be implicit set to cluster's namespace.
                                                                    For Profile namespace must be left empty. The Profile namespace will be used.
                                                                    Namespace can be expressed as a template and instantiate using any cluster field.
                                                                type: string
                                                            optional:
                                                                default: false
                                                                description: |-
                                                                    Optional indicates that the referenced resource is not mandatory.
                                                                    If set to true and the resource is not found, the error will be ignored,
                                                                    and Sveltos will continue processing other ValueFroms.
                                                                type: boolean
                                                        required:
                                                            - kind
                                                            - name
                                                        type: object
                                                    type: array
                                            required:
                                                - releaseName
                                                - releaseNamespace
                                                - repositoryURL
                                            type: object
                                            x-kubernetes-validations:
                                                - message: ChartName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartName) >= 1 : true'
                                                - message: ChartName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartName) >= 1 : true'
                                                - message: ChartVersion must be defined
                                                  rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartVersion) >= 1 : true'
                                                - message: ChartVersion must be defined
                                                  rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartVersion) >= 1 : true'
                                                - message: RepositoryName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''http'') ? size(self.repositoryName) >= 1 : true'
                                                - message: RepositoryName must be defined
                                                  rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.repositoryName) >= 1 : true'
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    kustomizationRefs:
                                        description: |-
                                            Kustomization refs is a list of kustomization paths. Kustomization will
                                            be run on those paths and the outcome will be deployed.
                                        items:
                                            properties:
                                                components:
                                                    description: |-
                                                        Components is a list of paths to Kustomize components. These paths are relative to the
                                                        `Path` field and are included in the Kustomize build to provide reusable configuration logic.
                                                        The paths can be static or leverage Go templates for dynamic customization.
                                                    items:
                                                        type: string
                                                    type: array
                                                deploymentType:
                                                    default: Remote
                                                    description: |-
                                                        DeploymentType indicates whether resources need to be deployed
                                                        into the management cluster (local) or the managed cluster (remote)
                                                        NOTE: DeploymentType Local cannot be used when the matching cluster is the management cluster itself.
                                                    enum:
                                                        - Local
                                                        - Remote
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the resource. Supported kinds are:
                                                        - flux GitRepository;OCIRepository;Bucket
                                                        - ConfigMap/Secret
                                                    enum:
                                                        - GitRepository
                                                        - OCIRepository
                                                        - Bucket
                                                        - ConfigMap
                                                        - Secret
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referenced resource.
                                                        Name can be expressed as a template and instantiate using any cluster field.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referenced resource.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        For Profile namespace must be left empty. The Profile namespace will be used.
                                                        Namespace can be expressed as a template and instantiate using any cluster field.
                                                    type: string
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other ValueFroms.
                                                    type: boolean
                                                path:
                                                    description: |-
                                                        Path to the directory containing the kustomization.yaml file, or the
                                                        set of plain YAMLs a kustomization.yaml should be generated for.
                                                        Defaults to 'None', which translates to the root path of the SourceRef.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster)
                                                    type: string
                                                targetNamespace:
                                                    description: |-
                                                        TargetNamespace sets or overrides the namespace in the
                                                        kustomization.yaml file.
                                                    maxLength: 63
                                                    minLength: 1
                                                    type: string
                                                tier:
                                                    default: 100
                                                    description: |-
                                                        Tier controls the order of deployment for resources coming from different KustomizationRef
                                                        within the same ClusterProfile or Profile.
                                                        When two KustomizationRef attempt to deploy the same resource, the KustomizationRef with the lowest
                                                        Tier value takes priority and deploys/updates the resource.
                                                        This priority mechanism is only checked after the parent ClusterProfile has won
                                                        the primary conflict resolution against other ClusterProfiles.
                                                        Higher Tier values represent lower priority. The default Tier value is 100.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                                values:
                                                    additionalProperties:
                                                        type: string
                                                    description: |-
                                                        Values is a map[string]string type that allows to define a set of key-value pairs.
                                                        These key-value pairs can optionally leverage Go templates for further processing.
                                                        With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                        These templates have access to management cluster information during deployment. This allows
                                                        to do more than just replace placeholders. Variables can be used to dynamically
                                                        construct values based on other resources or variables within the Kustomize output.
                                                        For example, imagine you have a Region key with a template value like:
                                                        '{{ index .Cluster.metadata.labels "region" }}'.
                                                        This template retrieves the region label from the cluster instance metadata.
                                                        Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                        The output itself can also contain templates, like:
                                                        region: '{{ default "west" .Region }}'.
                                                        This way, the final output from Kustomize will have the region set dynamically based on
                                                        the actual region retrieved earlier.
                                                    type: object
                                                valuesFrom:
                                                    description: |-
                                                        ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                        it is possible to define key-value pairs. These key-value pairs can optionally leverage
                                                        Go templates for further processing.
                                                        With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                        These templates have access to management cluster information during deployment. This allows
                                                        to do more than just replace placeholders. Variables can be used to dynamically
                                                        construct values based on other resources or variables within the Kustomize output.
                                                        For example, imagine you have a Region key with a template value like:
                                                        '{{ index .Cluster.metadata.labels "region" }}'.
                                                        This template retrieves the region label from the cluster instance metadata.
                                                        Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                        The output itself can also contain templates, like:
                                                        region: '{{ default "west" .Region }}'.
                                                        This way, the final output from Kustomize will have the region set dynamically based on
                                                        the actual region retrieved earlier.
                                                    items:
                                                        properties:
                                                            kind:
                                                                description: |-
                                                                    Kind of the resource. Supported kinds are:
                                                                    - ConfigMap/Secret
                                                                enum:
                                                                    - ConfigMap
                                                                    - Secret
                                                                type: string
                                                            name:
                                                                description: |-
                                                                    Name of the referenced resource.
                                                                    Name can be expressed as a template and instantiate using any cluster field.
                                                                minLength: 1
                                                                type: string
                                                            namespace:
                                                                description: |-
                                                                    Namespace of the referenced resource.
                                                                    For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                                    be implicit set to cluster's namespace.
                                                                    For Profile namespace must be left empty. The Profile namespace will be used.
                                                                    Namespace can be expressed as a template and instantiate using any cluster field.
                                                                type: string
                                                            optional:
                                                                default: false
                                                                description: |-
                                                                    Optional indicates that the referenced resource is not mandatory.
                                                                    If set to true and the resource is not found, the error will be ignored,
                                                                    and Sveltos will continue processing other ValueFroms.
                                                                type: boolean
                                                        required:
                                                            - kind
                                                            - name
                                                        type: object
                                                    type: array
                                            required:
                                                - kind
                                                - name
                                                - namespace
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    maxConsecutiveFailures:
                                        description: |-
                                            The maximum number of consecutive deployment failures that Sveltos will permit.
                                            After this many consecutive failures, the deployment will be considered failed, and Sveltos will stop retrying.
                                            This setting applies only to feature deployments, not resource removal.
                                            This field is optional. If not set, Sveltos default behavior is to keep retrying.
                                        type: integer
                                    maxUpdate:
                                        anyOf:
                                            - type: integer
                                            - type: string
                                        description: |-
                                            The maximum number of clusters that can be updated concurrently.
                                            Value can be an absolute number (ex: 5) or a percentage of desired cluster (ex: 10%).
                                            Defaults to 100%.
                                            Example: when this is set to 30%, when list of add-ons/applications in ClusterProfile
                                            changes, only 30% of matching clusters will be updated in parallel. Only when updates
                                            in those cluster succeed, other matching clusters are updated.
                                        pattern: ^((100|[0-9]{1,2})%|[0-9]+)$
                                        x-kubernetes-int-or-string: true
                                    patches:
                                        description: |-
                                            Define additional Kustomize inline Patches applied for all resources on this profile
                                            Within the Patch Spec you can use templating
                                        items:
                                            description: |-
                                                Patch contains an inline StrategicMerge or JSON6902 patch, and the target the patch should
                                                be applied to.
                                            properties:
                                                patch:
                                                    description: |-
                                                        Patch contains an inline StrategicMerge patch or an inline JSON6902 patch with
                                                        an array of operation objects.
                                                        These values can be static or leverage Go templates for dynamic customization.
                                                        When expressed as templates, the values are filled in using information from
                                                        resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                                    type: string
                                                target:
                                                    description: Target points to the resources that the patch document should be applied to.
                                                    properties:
                                                        annotationSelector:
                                                            description: |-
                                                                AnnotationSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource annotations.
                                                            type: string
                                                        group:
                                                            description: |-
                                                                Group is the API group to select resources from.
                                                                Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        kind:
                                                            description: |-
                                                                Kind of the API Group to select resources from.
                                                                Together with Group and Version it is capable of unambiguously
                                                                identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                        labelSelector:
                                                            description: |-
                                                                LabelSelector is a string that follows the label selection expression
                                                                https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                                It matches with the resource labels.
                                                            type: string
                                                        name:
                                                            description: Name to match resources with.
                                                            type: string
                                                        namespace:
                                                            description: Namespace to select resources from.
                                                            type: string
                                                        version:
                                                            description: |-
                                                                Version of the API Group to select resources from.
                                                                Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                                https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                            type: string
                                                    type: object
                                            required:
                                                - patch
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    patchesFrom:
                                        description: |-
                                            PatchesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                            it is possible to store additional Kustomize inline Patches applied for all resources on this profile
                                            These values can be static or leverage Go templates for dynamic customization.
                                            When expressed as templates, the values are filled in using information from
                                            resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                        items:
                                            properties:
                                                kind:
                                                    description: |-
                                                        Kind of the resource. Supported kinds are:
                                                        - ConfigMap/Secret
                                                    enum:
                                                        - ConfigMap
                                                        - Secret
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referenced resource.
                                                        Name can be expressed as a template and instantiate using any cluster field.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referenced resource.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        For Profile namespace must be left empty. The Profile namespace will be used.
                                                        Namespace can be expressed as a template and instantiate using any cluster field.
                                                    type: string
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other ValueFroms.
                                                    type: boolean
                                            required:
                                                - kind
                                                - name
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    policyRefs:
                                        description: |-
                                            PolicyRefs references all the ConfigMaps/Secrets/Flux Sources containing kubernetes resources
                                            that need to be deployed in the matching managed clusters.
                                            The values contained in those resources can be static or leverage Go templates for dynamic customization.
                                            When expressed as templates, the values are filled in using information from
                                            resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                        items:
                                            properties:
                                                deploymentType:
                                                    default: Remote
                                                    description: |-
                                                        DeploymentType indicates whether resources need to be deployed
                                                        into the management cluster (local) or the managed cluster (remote)
                                                    enum:
                                                        - Local
                                                        - Remote
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the resource. Supported kinds are:
                                                        - ConfigMap/Secret
                                                        - flux GitRepository;OCIRepository;Bucket
                                                    enum:
                                                        - GitRepository
                                                        - OCIRepository
                                                        - Bucket
                                                        - ConfigMap
                                                        - Secret
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referenced resource.
                                                        Name can be expressed as a template and instantiate using any cluster field.
                                                    minLength: 1
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referenced resource.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        For Profile namespace must be left empty. Profile namespace will be used.
                                                        Namespace can be expressed as a template and instantiate using any cluster field.
                                                    type: string
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other PolicyRefs.
                                                    type: boolean
                                                path:
                                                    description: |-
                                                        Path to the directory containing the YAML files.
                                                        Defaults to 'None', which translates to the root path of the SourceRef.
                                                        Used only for GitRepository;OCIRepository;Bucket
                                                    type: string
                                                tier:
                                                    default: 100
                                                    description: |-
                                                        Tier controls the order of deployment for resources coming from different PolicyRefs
                                                        within the same ClusterProfile or Profile.
                                                        When two PolicyRefs attempt to deploy the same resource, the PolicyRef with the lowest
                                                        Tier value takes priority and deploys/updates the resource.
                                                        This priority mechanism is only checked after the parent ClusterProfile has won
                                                        the primary conflict resolution against other ClusterProfiles.
                                                        Higher Tier values represent lower priority. The default Tier value is 100.
                                                    format: int32
                                                    minimum: 1
                                                    type: integer
                                            required:
                                                - kind
                                                - name
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    postDeleteChecks:
                                        description: |-
                                            PostDeleteChecks is a slice of Lua functions to run against
                                            the managed cluster *after* Sveltos has deleted all resources.
                                            This ensures that the environment has reached the desired clean state.
                                        items:
                                            properties:
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                featureID:
                                                    description: |-
                                                        FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                        This field indicates when to run this check.
                                                        For instance:
                                                        - if set to Helm this check will be run after all helm
                                                        charts specified in the ClusterProfile are deployed.
                                                        - if set to Resources this check will be run after the content
                                                        of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                        PolicyRef sections is deployed
                                                    enum:
                                                        - Resources
                                                        - Helm
                                                        - Kustomize
                                                    type: string
                                                group:
                                                    description: Group of the resource to fetch in the managed Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource to fetch in the managed Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name is the name of this check
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource to fetch in the managed Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                script:
                                                    description: |-
                                                        Script is a text containing a lua script.
                                                        Must return struct with field "health"
                                                        representing whether object is a match (true or false)
                                                    type: string
                                                version:
                                                    description: Version of the resource to fetch in the managed Cluster.
                                                    type: string
                                            required:
                                                - featureID
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    preDeleteChecks:
                                        description: |-
                                            PreDeleteChecks is a slice of Lua functions to run against
                                            the managed cluster *before* Sveltos starts deleting resources.
                                            If any of these fail, the deletion process is halted.
                                        items:
                                            properties:
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                featureID:
                                                    description: |-
                                                        FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                        This field indicates when to run this check.
                                                        For instance:
                                                        - if set to Helm this check will be run after all helm
                                                        charts specified in the ClusterProfile are deployed.
                                                        - if set to Resources this check will be run after the content
                                                        of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                        PolicyRef sections is deployed
                                                    enum:
                                                        - Resources
                                                        - Helm
                                                        - Kustomize
                                                    type: string
                                                group:
                                                    description: Group of the resource to fetch in the managed Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource to fetch in the managed Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name is the name of this check
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource to fetch in the managed Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                script:
                                                    description: |-
                                                        Script is a text containing a lua script.
                                                        Must return struct with field "health"
                                                        representing whether object is a match (true or false)
                                                    type: string
                                                version:
                                                    description: Version of the resource to fetch in the managed Cluster.
                                                    type: string
                                            required:
                                                - featureID
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    reloader:
                                        default: false
                                        description: |-
                                            Reloader indicates whether Deployment/StatefulSet/DaemonSet instances deployed
                                            by Sveltos and part of this ClusterProfile need to be restarted via rolling upgrade
                                            when a ConfigMap/Secret instance mounted as volume is modified.
                                            When set to true, when any mounted ConfigMap/Secret is modified, Sveltos automatically
                                            starts a rolling upgrade for Deployment/StatefulSet/DaemonSet instances mounting it.
                                        type: boolean
                                    setRefs:
                                        description: |-
                                            SetRefs identifies referenced (cluster)Sets.
                                            - ClusterProfile can reference ClusterSet;
                                            - Profile can reference Set;
                                        items:
                                            type: string
                                        type: array
                                    stopMatchingBehavior:
                                        default: WithdrawPolicies
                                        description: |-
                                            StopMatchingBehavior indicates what behavior should be when a Cluster stop matching
                                            the ClusterProfile. By default all deployed Helm charts and Kubernetes resources will
                                            be withdrawn from Cluster. Setting StopMatchingBehavior to LeavePolicies will instead
                                            leave ClusterProfile deployed policies in the Cluster.
                                        enum:
                                            - WithdrawPolicies
                                            - LeavePolicies
                                        type: string
                                    syncMode:
                                        default: Continuous
                                        description: |-
                                            SyncMode specifies how features are synced in a matching workload cluster.
                                            - OneTime means, first time a workload cluster matches the ClusterProfile,
                                            features will be deployed in such cluster. Any subsequent feature configuration
                                            change won't be applied into the matching workload clusters;
                                            - Continuous mode ensures that the first time a workload cluster matches a ClusterProfile,
                                            the specified features are deployed. Subsequent changes to the feature configuration are also
                                            automatically applied to all matching workload clusters.
                                            _ SyncModeContinuousWithDriftDetection operates similarly to Continuous mode, but also monitors
                                            matching managed clusters for configuration drift. If drift is detected, a reconciliation is
                                            triggered to ensure the managed cluster's configuration aligns with the ClusterProfile.
                                            - DryRun means no change will be propagated to any matching cluster. A report
                                            instead will be generated summarizing what would happen in any matching cluster
                                            because of the changes made to ClusterProfile while in DryRun mode.
                                        enum:
                                            - OneTime
                                            - Continuous
                                            - ContinuousWithDriftDetection
                                            - DryRun
                                        type: string
                                    templateResourceRefs:
                                        description: |-
                                            TemplateResourceRefs is a list of resource to collect from the management cluster.
                                            Those resources' values will be used to instantiate templates
                                        items:
                                            properties:
                                                identifier:
                                                    description: |-
                                                        Identifier is how the resource will be referred to in the
                                                        template
                                                    type: string
                                                ignoreStatusChanges:
                                                    default: false
                                                    description: |-
                                                        IgnoreStatusChanges indicates whether changes to the status of the referenced
                                                        resource should be ignored. If set to true, only changes to the spec or
                                                        metadata (generation change) will trigger a reconciliation.
                                                    type: boolean
                                                optional:
                                                    default: false
                                                    description: |-
                                                        Optional indicates that the referenced resource is not mandatory.
                                                        If set to true and the resource is not found, the error will be ignored,
                                                        and Sveltos will continue processing other TemplateResourceRefs.
                                                    type: boolean
                                                resource:
                                                    description: |-
                                                        Resource references a Kubernetes instance in the management
                                                        cluster to fetch and use during template instantiation.
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        Name and namespace can be expressed as a template and instantiate using any cluster field.
                                                    properties:
                                                        apiVersion:
                                                            description: API version of the referent.
                                                            type: string
                                                        fieldPath:
                                                            description: |-
                                                                If referring to a piece of an object instead of an entire object, this string
                                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                                referencing a part of an object.
                                                            type: string
                                                        kind:
                                                            description: |-
                                                                Kind of the referent.
                                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                            type: string
                                                        name:
                                                            description: |-
                                                                Name of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                            type: string
                                                        namespace:
                                                            description: |-
                                                                Namespace of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                            type: string
                                                        resourceVersion:
                                                            description: |-
                                                                Specific resourceVersion to which this reference is made, if any.
                                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                            type: string
                                                        uid:
                                                            description: |-
                                                                UID of the referent.
                                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                            required:
                                                - identifier
                                                - resource
                                            type: object
                                        type: array
                                        x-kubernetes-list-map-keys:
                                            - identifier
                                        x-kubernetes-list-type: map
                                    tier:
                                        default: 100
                                        description: |-
                                            Tier controls the order of deployment for ClusterProfile or Profile resources targeting
                                            the same cluster resources.
                                            Imagine two configurations (ClusterProfiles or Profiles) trying to deploy the same resource (a Kubernetes
                                            resource or an helm chart). By default, the first one to reach the cluster "wins" and deploys it.
                                            Tier allows you to override this. When conflicts arise, the ClusterProfile or Profile with the **lowest**
                                            Tier value takes priority and deploys the resource.
                                            Higher Tier values represent lower priority. The default Tier value is 100.
                                            Using Tiers provides finer control over resource deployment within your cluster, particularly useful
                                            when multiple configurations manage the same resources.
                                        format: int32
                                        minimum: 1
                                        type: integer
                                    validateHealths:
                                        description: |-
                                            ValidateHealths is a slice of Lua functions to run against
                                            the managed cluster to validate the state of those add-ons/applications
                                            is healthy
                                        items:
                                            properties:
                                                evaluateCEL:
                                                    description: |-
                                                        EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                        Each rule will be evaluated in order against each object selected based on
                                                        the criteria defined above. Each rule's expression must return a boolean value
                                                        indicating whether the object is a match.

                                                        Evaluation stops at the first rule that returns true; subsequent
                                                        rules will not be evaluated.
                                                    items:
                                                        description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                        properties:
                                                            name:
                                                                description: Name is a human-readable identifier for the rule.
                                                                type: string
                                                            rule:
                                                                description: |-
                                                                    Rule is the CEL (Common Expression Language) expression to evaluate.
                                                                    It must return a bool
                                                                type: string
                                                        required:
                                                            - name
                                                            - rule
                                                        type: object
                                                    type: array
                                                featureID:
                                                    description: |-
                                                        FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                        This field indicates when to run this check.
                                                        For instance:
                                                        - if set to Helm this check will be run after all helm
                                                        charts specified in the ClusterProfile are deployed.
                                                        - if set to Resources this check will be run after the content
                                                        of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                        PolicyRef sections is deployed
                                                    enum:
                                                        - Resources
                                                        - Helm
                                                        - Kustomize
                                                    type: string
                                                group:
                                                    description: Group of the resource to fetch in the managed Cluster.
                                                    type: string
                                                kind:
                                                    description: Kind of the resource to fetch in the managed Cluster.
                                                    minLength: 1
                                                    type: string
                                                labelFilters:
                                                    description: LabelFilters allows to filter resources based on current labels.
                                                    items:
                                                        properties:
                                                            key:
                                                                description: Key is the label key
                                                                type: string
                                                            operation:
                                                                description: Operation is the comparison operation
                                                                enum:
                                                                    - Equal
                                                                    - Different
                                                                    - Has
                                                                    - DoesNotHave
                                                                type: string
                                                            value:
                                                                description: Value is the label value
                                                                type: string
                                                        required:
                                                            - key
                                                            - operation
                                                        type: object
                                                    type: array
                                                name:
                                                    description: Name is the name of this check
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the resource to fetch in the managed Cluster.
                                                        Empty for resources scoped at cluster level.
                                                    type: string
                                                script:
                                                    description: |-
                                                        Script is a text containing a lua script.
                                                        Must return struct with field "health"
                                                        representing whether object is a match (true or false)
                                                    type: string
                                                version:
                                                    description: Version of the resource to fetch in the managed Cluster.
                                                    type: string
                                            required:
                                                - featureID
                                                - group
                                                - kind
                                                - name
                                                - version
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                type: object
                            clusterType:
                                description: ClusterType is the type of Cluster
                                type: string
                        required:
                            - clusterName
                            - clusterNamespace
                            - clusterType
                        type: object
                    status:
                        description: ClusterSummaryStatus defines the observed state of ClusterSummary
                        properties:
                            dependencies:
                                description: |-
                                    Dependencies is a summary reporting the status of the dependencies
                                    for the associated ClusterProfile
                                type: string
                            deployedGVKs:
                                description: |-
                                    DeployedGVKs reports the list of GVKs deployed by ClusterSummary
                                    in a managed cluster
                                items:
                                    properties:
                                        deployedGroupVersionKind:
                                            description: |-
                                                DeployedGroupVersionKind contains all GroupVersionKinds deployed in either
                                                the workload cluster or the management cluster because of this feature.
                                                Each element has format kind.version.group
                                            items:
                                                type: string
                                            type: array
                                        featureID:
                                            description: FeatureID is an indentifier of the feature whose status is reported
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                    required:
                                        - featureID
                                    type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                    - featureID
                                x-kubernetes-list-type: map
                            failureMessage:
                                description: |-
                                    FailureMessage reports any error encountered during the reconciliation of the ClusterSummary
                                    instance itself, *excluding* errors related to the deployment of individual features.
                                type: string
                            featureSummaries:
                                description: |-
                                    FeatureSummaries reports the status of each workload cluster feature
                                    directly managed by ClusterProfile.
                                items:
                                    description: |-
                                        FeatureSummary contains a summary of the state of a workload
                                        cluster feature.
                                    properties:
                                        consecutiveFailures:
                                            description: The number of consecutive deployment failures.
                                            type: integer
                                        deployedGroupVersionKind:
                                            description: |-
                                                DeployedGroupVersionKind contains all GroupVersionKinds deployed in either
                                                the workload cluster or the management cluster because of this feature.
                                                Each element has format kind.version.group

                                                Deprecated: Replaced by FeatureDeploymentInfo field instead
                                            items:
                                                type: string
                                            type: array
                                        failureMessage:
                                            description: FailureMessage provides more information about the error.
                                            type: string
                                        failureReason:
                                            description: FailureReason indicates the type of error that occurred.
                                            type: string
                                        featureID:
                                            description: FeatureID is an indentifier of the feature whose status is reported
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        hash:
                                            description: |-
                                                Hash represents of a unique value for a feature at a fixed point in
                                                time
                                            format: byte
                                            type: string
                                        lastAppliedTime:
                                            description: LastAppliedTime is the time feature was last reconciled
                                            format: date-time
                                            type: string
                                        status:
                                            description: Status represents the state of the feature in the workload cluster
                                            enum:
                                                - Provisioning
                                                - Provisioned
                                                - Failed
                                                - FailedNonRetriable
                                                - Removing
                                                - Removed
                                                - AgentRemoving
                                            type: string
                                    required:
                                        - featureID
                                    type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                    - featureID
                                x-kubernetes-list-type: map
                            helmReleaseSummaries:
                                description: |-
                                    HelmReleaseSummaries reports the status of each helm chart
                                    directly managed by ClusterProfile.
                                items:
                                    properties:
                                        conflictMessage:
                                            description: |-
                                                Status indicates whether ClusterSummary can manage the helm
                                                chart or there is a conflict
                                            type: string
                                        releaseName:
                                            description: ReleaseName is the chart release
                                            minLength: 1
                                            type: string
                                        releaseNamespace:
                                            description: ReleaseNamespace is the namespace release will be installed
                                            minLength: 1
                                            type: string
                                        status:
                                            description: |-
                                                Status indicates whether ClusterSummary can manage the helm
                                                chart or there is a conflict
                                            enum:
                                                - Managing
                                                - Conflict
                                            type: string
                                        valuesHash:
                                            description: ValuesHash represents of a unique value for the values section
                                            format: byte
                                            type: string
                                    required:
                                        - releaseName
                                        - releaseNamespace
                                        - status
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            nextReconcileTime:
                                description: |-
                                    NextReconcileTime is the earliest time when this resource should be reconciled again.
                                    Controller skips reconciliation if current time is before this timestamp.
                                    If not set, reconciliations will happen as usual.
                                format: date-time
                                type: string
                            reconciliationSuspended:
                                description: |-
                                    ReconciliationSuspended indicates whether the reconciliation loop for this
                                    ClusterSummary is currently paused due to an external action (e.g., a user annotation).
                                    When true, the status will not be updated unless the pause is lifted.
                                type: boolean
                            suspensionReason:
                                description: SuspensionReason provides a brief explanation of why the reconciliation is suspended.
                                type: string
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: profiles.config.projectsveltos.io
spec:
    group: config.projectsveltos.io
    names:
        kind: Profile
        listKind: ProfileList
        plural: profiles
        singular: profile
    scope: Namespaced
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: Profile is the Schema for the profiles API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        properties:
                            clusterRefs:
                                description: ClusterRefs identifies clusters to associate to.
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            clusterSelector:
                                description: ClusterSelector identifies clusters to associate to.
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            continueOnConflict:
                                default: false
                                description: |-
                                    By default (when ContinueOnConflict is unset or set to false), Sveltos stops deployment after
                                    encountering the first conflict (e.g., another ClusterProfile already deployed the resource).
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if conflicts are detected for previous resources.
                                type: boolean
                            continueOnError:
                                default: false
                                description: |-
                                    By default (when ContinueOnError is unset or set to false), Sveltos stops deployment after
                                    encountering the first error.
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if errors are detected for previous resources.
                                type: boolean
                            dependsOn:
                                description: |-
                                    DependsOn specifies a list of other profiles that this instance depends on.
                                    A ClusterProfile can only depend on other ClusterProfiles, and a Profile can
                                    only depend on other Profiles.
                                    The add-ons and applications defined in this instance will not be deployed
                                    until all add-ons and applications in the profiles listed as dependencies are deployed.
                                items:
                                    type: string
                                type: array
                            driftExclusions:
                                description: |-
                                    DriftExclusions is a list of configuration drift exclusions to be applied when syncMode is
                                    set to ContinuousWithDriftDetection. Each exclusion specifies JSON6902 paths to ignore
                                    when evaluating drift, optionally targeting specific resources and features.
                                items:
                                    properties:
                                        paths:
                                            description: Paths is a slice of JSON6902 paths to exclude from configuration drift evaluation.
                                            items:
                                                type: string
                                            type: array
                                        target:
                                            description: Target points to the resources that the paths refers to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - paths
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            extraAnnotations:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraAnnotations: These annotations will be added by Sveltos to all Kubernetes resources
                                    deployed in a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a annotation with a key present in
                                    `ExtraAnnotations`, the value from `ExtraAnnotations` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            extraLabels:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraLabels: These labels will be added by Sveltos to all Kubernetes resources deployed in
                                    a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a label with a key present in
                                    `ExtraLabels`, the value from `ExtraLabels` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            helmCharts:
                                description: Helm charts is a list of helm charts that need to be deployed
                                items:
                                    properties:
                                        chartName:
                                            description: |-
                                                ChartName is the chart name
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                Must be defined otherwise.
                                            type: string
                                        chartVersion:
                                            description: |-
                                                ChartVersion is the chart version
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        helmChartAction:
                                            default: Install
                                            description: HelmChartAction is the action that will be taken on the helm chart
                                            enum:
                                                - Install
                                                - Uninstall
                                            type: string
                                        options:
                                            description: Options allows to set flags which are used during installation.
                                            properties:
                                                atomic:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process deletes the installation/upgrades on failure.
                                                        The --wait flag will be set automatically if --atomic is used
                                                        Default to false
                                                    type: boolean
                                                dependencyUpdate:
                                                    default: false
                                                    description: |-
                                                        update dependencies if they are missing before installing the chart
                                                        Default to false
                                                    type: boolean
                                                description:
                                                    description: Description is the description of an helm operation
                                                    type: string
                                                disableHooks:
                                                    default: false
                                                    description: |-
                                                        prevent hooks from running during install/upgrade/uninstall
                                                        Default to false
                                                    type: boolean
                                                disableOpenAPIValidation:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process will not validate rendered templates against the Kubernetes OpenAPI Schema
                                                        Default to false
                                                    type: boolean
                                                enableClientCache:
                                                    default: false
                                                    description: EnableClientCache is a flag to enable Helm client cache. If it is not specified, it will be set to false.
                                                    type: boolean
                                                installOptions:
                                                    description: HelmInstallOptions are options specific to helm install
                                                    properties:
                                                        createNamespace:
                                                            default: true
                                                            description: Create the release namespace if not present. Defaults to true
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on install
                                                                Default to false
                                                            type: boolean
                                                        replace:
                                                            default: true
                                                            description: Replaces if set indicates to replace an older release with this one
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, install will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                    type: object
                                                labels:
                                                    additionalProperties:
                                                        type: string
                                                    description: Labels that would be added to release metadata.
                                                    type: object
                                                passCredentialsAll:
                                                    description: PassCredentialsAll is the flag to pass credentials to all domains
                                                    type: boolean
                                                skipCRDs:
                                                    default: false
                                                    description: |-
                                                        SkipCRDs controls whether CRDs should be installed during install/upgrade operation.
                                                        By default, CRDs are installed if not already present.
                                                    type: boolean
                                                skipSchemaValidation:
                                                    default: false
                                                    description: SkipSchemaValidation determines if JSON schema validation is disabled.
                                                    type: boolean
                                                timeout:
                                                    description: time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
                                                    type: string
                                                uninstallOptions:
                                                    description: HelmUninstallOptions are options specific to helm uninstall
                                                    properties:
                                                        deletionPropagation:
                                                            description: DeletionPropagation
                                                            enum:
                                                                - orphan
                                                                - foreground
                                                                - background
                                                            type: string
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on uninstall
                                                                Default to false
                                                            type: boolean
                                                        keepHistory:
                                                            description: |-
                                                                When uninstall a chart with this flag, Helm removes the resources associated with the chart,
                                                                but it keeps the release information. This allows to see details about the uninstalled release
                                                                using the helm history command.
                                                            type: boolean
                                                    type: object
                                                upgradeOptions:
                                                    description: HelmUpgradeOptions are options specific to helm upgrade
                                                    properties:
                                                        cleanupOnFail:
                                                            default: false
                                                            description: CleanupOnFail will, if true, cause the upgrade to delete newly-created resources on a failed update.
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on upgrade
                                                                Default to false
                                                            type: boolean
                                                        force:
                                                            default: false
                                                            description: |-
                                                                Force will, if set to `true`, ignore certain warnings and perform the upgrade anyway.
                                                                This should be used with caution.
                                                            type: boolean
                                                        maxHistory:
                                                            default: 2
                                                            description: |-
                                                                MaxHistory limits the maximum number of revisions saved per release
                                                                Default to 2
                                                            type: integer
                                                        recreate:
                                                            default: false
                                                            description: Recreate will (if true) recreate pods after a rollback.
                                                            type: boolean
                                                        resetThenReuseValues:
                                                            default: false
                                                            description: ResetThenReuseValues will reset the values to the chart's built-ins then merge with user's last supplied values.
                                                            type: boolean
                                                        resetValues:
                                                            default: false
                                                            description: ResetValues will reset the values to the chart's built-ins rather than merging with existing.
                                                            type: boolean
                                                        reuseValues:
                                                            default: false
                                                            description: |-
                                                                ReuseValues copies values from the current release to a new release if the
                                                                new release does not have any values. If the request already has values,
                                                                or if there are no values in the current release, this does nothing.
                                                                This is skipped if the ResetValues flag is set, in which case the
                                                                request values are not altered.
                                                            type: boolean
                                                        subNotes:
                                                            default: false
                                                            description: SubNotes determines whether sub-notes are rendered in the chart.
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, upgrade will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                        upgradeCRDs:
                                                            default: false
                                                            description: |-
                                                                UpgradeCRDs upgrade CRDs from the Helm Chart's crds directory
                                                                By default, CRDs are not applied during Helm upgrade action by Helm
                                                                https://helm.sh/docs/chart_best_practices/custom_resource_definitions/
                                                            type: boolean
                                                    type: object
                                                wait:
                                                    default: false
                                                    description: |-
                                                        if set, will wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment, StatefulSet, or ReplicaSet
                                                        are in a ready state before marking the release as successful. It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                                waitForJobs:
                                                    default: false
                                                    description: |-
                                                        if set and --wait enabled, will wait until all Jobs have been completed before marking the release as successful.
                                                        It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                            type: object
                                        registryCredentialsConfig:
                                            description: |-
                                                RegistryCredentialsConfig is an optional configuration for credentials,
                                                including information to connect to private registries.
                                            properties:
                                                ca:
                                                    description: |-
                                                        CASecretRef references a secret containing the TLS CA certificate
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        key: ca.crt
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                credentials:
                                                    description: |-
                                                        CredentialsSecretRef references a secret containing credentials
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                insecureSkipTLSVerify:
                                                    description: InsecureSkipTLSVerify controls server certificate verification.
                                                    type: boolean
                                                key:
                                                    description: |-
                                                        Key specifies the key within the CredentialsSecretRef containing the data
                                                        If not specified, it defaults to the only key in the secret if there's just one.
                                                    type: string
                                                plainHTTP:
                                                    description: PlainHTTP indicates to use insecure HTTP connections for the chart download
                                                    type: boolean
                                            type: object
                                        releaseName:
                                            description: ReleaseName is the chart release
                                            minLength: 1
                                            type: string
                                        releaseNamespace:
                                            description: ReleaseNamespace is the namespace release will be installed
                                            minLength: 1
                                            type: string
                                        repositoryName:
                                            description: |-
                                                RepositoryName is the name helm chart repository
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        repositoryURL:
                                            description: |-
                                                RepositoryURL is the URL helm chart repository
                                                It can point to a traditional HTTP-based repository or an OCI registry.
                                                Examples:
                                                  - HTTP Repository: https://charts.example.com/stable
                                                  - OCI Registry: oci://registry.example.com/namespace/charts
                                                  - GitHub Pages: https://<username>.github.io/<repository>/
                                                  - Any other valid URL where Helm charts are hosted.

                                                Alternatively, it can be a Flux source reference:
                                                  <flux source kind>://<flux source namespace>/<flux source name>/<path>

                                                Where:
                                                  - <flux source kind> is the type of Flux source (gitrepository, ocirepository, bucket).
                                                  - <flux source namespace> and <flux source name> are the namespace and name of the Flux Source in the management cluster.
                                                  - <path> is the path within the source repository where the Helm charts are located.

                                                For instance:
                                                  gitrepository://flux-system/flux-system/charts/projectsveltos

                                                Assuming there is a Flux GitRepository named 'flux-system' in the 'flux-system' namespace
                                                syncing 'https://github.com/projectsveltos/helm-charts.git/', and the Helm charts are
                                                located in the 'charts/projectsveltos' directory of that repository.
                                            minLength: 1
                                            type: string
                                        values:
                                            description: |-
                                                Values field allows to define configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to store configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - releaseName
                                        - releaseNamespace
                                        - repositoryURL
                                    type: object
                                    x-kubernetes-validations:
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartVersion) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartVersion) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.repositoryName) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.repositoryName) >= 1 : true'
                                type: array
                                x-kubernetes-list-type: atomic
                            kustomizationRefs:
                                description: |-
                                    Kustomization refs is a list of kustomization paths. Kustomization will
                                    be run on those paths and the outcome will be deployed.
                                items:
                                    properties:
                                        components:
                                            description: |-
                                                Components is a list of paths to Kustomize components. These paths are relative to the
                                                `Path` field and are included in the Kustomize build to provide reusable configuration logic.
                                                The paths can be static or leverage Go templates for dynamic customization.
                                            items:
                                                type: string
                                            type: array
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                                NOTE: DeploymentType Local cannot be used when the matching cluster is the management cluster itself.
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - flux GitRepository;OCIRepository;Bucket
                                                - ConfigMap/Secret
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the kustomization.yaml file, or the
                                                set of plain YAMLs a kustomization.yaml should be generated for.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster)
                                            type: string
                                        targetNamespace:
                                            description: |-
                                                TargetNamespace sets or overrides the namespace in the
                                                kustomization.yaml file.
                                            maxLength: 63
                                            minLength: 1
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different KustomizationRef
                                                within the same ClusterProfile or Profile.
                                                When two KustomizationRef attempt to deploy the same resource, the KustomizationRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                        values:
                                            additionalProperties:
                                                type: string
                                            description: |-
                                                Values is a map[string]string type that allows to define a set of key-value pairs.
                                                These key-value pairs can optionally leverage Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            type: object
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to define key-value pairs. These key-value pairs can optionally leverage
                                                Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - kind
                                        - name
                                        - namespace
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            maxConsecutiveFailures:
                                description: |-
                                    The maximum number of consecutive deployment failures that Sveltos will permit.
                                    After this many consecutive failures, the deployment will be considered failed, and Sveltos will stop retrying.
                                    This setting applies only to feature deployments, not resource removal.
                                    This field is optional. If not set, Sveltos default behavior is to keep retrying.
                                type: integer
                            maxUpdate:
                                anyOf:
                                    - type: integer
                                    - type: string
                                description: |-
                                    The maximum number of clusters that can be updated concurrently.
                                    Value can be an absolute number (ex: 5) or a percentage of desired cluster (ex: 10%).
                                    Defaults to 100%.
                                    Example: when this is set to 30%, when list of add-ons/applications in ClusterProfile
                                    changes, only 30% of matching clusters will be updated in parallel. Only when updates
                                    in those cluster succeed, other matching clusters are updated.
                                pattern: ^((100|[0-9]{1,2})%|[0-9]+)$
                                x-kubernetes-int-or-string: true
                            patches:
                                description: |-
                                    Define additional Kustomize inline Patches applied for all resources on this profile
                                    Within the Patch Spec you can use templating
                                items:
                                    description: |-
                                        Patch contains an inline StrategicMerge or JSON6902 patch, and the target the patch should
                                        be applied to.
                                    properties:
                                        patch:
                                            description: |-
                                                Patch contains an inline StrategicMerge patch or an inline JSON6902 patch with
                                                an array of operation objects.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        target:
                                            description: Target points to the resources that the patch document should be applied to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - patch
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            patchesFrom:
                                description: |-
                                    PatchesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                    it is possible to store additional Kustomize inline Patches applied for all resources on this profile
                                    These values can be static or leverage Go templates for dynamic customization.
                                    When expressed as templates, the values are filled in using information from
                                    resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                items:
                                    properties:
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                            enum:
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            policyRefs:
                                description: |-
                                    PolicyRefs references all the ConfigMaps/Secrets/Flux Sources containing kubernetes resources
                                    that need to be deployed in the matching managed clusters.
                                    The values contained in those resources can be static or leverage Go templates for dynamic customization.
                                    When expressed as templates, the values are filled in using information from
                                    resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                items:
                                    properties:
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                                - flux GitRepository;OCIRepository;Bucket
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other PolicyRefs.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the YAML files.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                Used only for GitRepository;OCIRepository;Bucket
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different PolicyRefs
                                                within the same ClusterProfile or Profile.
                                                When two PolicyRefs attempt to deploy the same resource, the PolicyRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            postDeleteChecks:
                                description: |-
                                    PostDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *after* Sveltos has deleted all resources.
                                    This ensures that the environment has reached the desired clean state.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            preDeleteChecks:
                                description: |-
                                    PreDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *before* Sveltos starts deleting resources.
                                    If any of these fail, the deletion process is halted.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            reloader:
                                default: false
                                description: |-
                                    Reloader indicates whether Deployment/StatefulSet/DaemonSet instances deployed
                                    by Sveltos and part of this ClusterProfile need to be restarted via rolling upgrade
                                    when a ConfigMap/Secret instance mounted as volume is modified.
                                    When set to true, when any mounted ConfigMap/Secret is modified, Sveltos automatically
                                    starts a rolling upgrade for Deployment/StatefulSet/DaemonSet instances mounting it.
                                type: boolean
                            setRefs:
                                description: |-
                                    SetRefs identifies referenced (cluster)Sets.
                                    - ClusterProfile can reference ClusterSet;
                                    - Profile can reference Set;
                                items:
                                    type: string
                                type: array
                            stopMatchingBehavior:
                                default: WithdrawPolicies
                                description: |-
                                    StopMatchingBehavior indicates what behavior should be when a Cluster stop matching
                                    the ClusterProfile. By default all deployed Helm charts and Kubernetes resources will
                                    be withdrawn from Cluster. Setting StopMatchingBehavior to LeavePolicies will instead
                                    leave ClusterProfile deployed policies in the Cluster.
                                enum:
                                    - WithdrawPolicies
                                    - LeavePolicies
                                type: string
                            syncMode:
                                default: Continuous
                                description: |-
                                    SyncMode specifies how features are synced in a matching workload cluster.
                                    - OneTime means, first time a workload cluster matches the ClusterProfile,
                                    features will be deployed in such cluster. Any subsequent feature configuration
                                    change won't be applied into the matching workload clusters;
                                    - Continuous mode ensures that the first time a workload cluster matches a ClusterProfile,
                                    the specified features are deployed. Subsequent changes to the feature configuration are also
                                    automatically applied to all matching workload clusters.
                                    _ SyncModeContinuousWithDriftDetection operates similarly to Continuous mode, but also monitors
                                    matching managed clusters for configuration drift. If drift is detected, a reconciliation is
                                    triggered to ensure the managed cluster's configuration aligns with the ClusterProfile.
                                    - DryRun means no change will be propagated to any matching cluster. A report
                                    instead will be generated summarizing what would happen in any matching cluster
                                    because of the changes made to ClusterProfile while in DryRun mode.
                                enum:
                                    - OneTime
                                    - Continuous
                                    - ContinuousWithDriftDetection
                                    - DryRun
                                type: string
                            templateResourceRefs:
                                description: |-
                                    TemplateResourceRefs is a list of resource to collect from the management cluster.
                                    Those resources' values will be used to instantiate templates
                                items:
                                    properties:
                                        identifier:
                                            description: |-
                                                Identifier is how the resource will be referred to in the
                                                template
                                            type: string
                                        ignoreStatusChanges:
                                            default: false
                                            description: |-
                                                IgnoreStatusChanges indicates whether changes to the status of the referenced
                                                resource should be ignored. If set to true, only changes to the spec or
                                                metadata (generation change) will trigger a reconciliation.
                                            type: boolean
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other TemplateResourceRefs.
                                            type: boolean
                                        resource:
                                            description: |-
                                                Resource references a Kubernetes instance in the management
                                                cluster to fetch and use during template instantiation.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                Name and namespace can be expressed as a template and instantiate using any cluster field.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                    required:
                                        - identifier
                                        - resource
                                    type: object
                                type: array
                                x-kubernetes-list-map-keys:
                                    - identifier
                                x-kubernetes-list-type: map
                            tier:
                                default: 100
                                description: |-
                                    Tier controls the order of deployment for ClusterProfile or Profile resources targeting
                                    the same cluster resources.
                                    Imagine two configurations (ClusterProfiles or Profiles) trying to deploy the same resource (a Kubernetes
                                    resource or an helm chart). By default, the first one to reach the cluster "wins" and deploys it.
                                    Tier allows you to override this. When conflicts arise, the ClusterProfile or Profile with the **lowest**
                                    Tier value takes priority and deploys the resource.
                                    Higher Tier values represent lower priority. The default Tier value is 100.
                                    Using Tiers provides finer control over resource deployment within your cluster, particularly useful
                                    when multiple configurations manage the same resources.
                                format: int32
                                minimum: 1
                                type: integer
                            validateHealths:
                                description: |-
                                    ValidateHealths is a slice of Lua functions to run against
                                    the managed cluster to validate the state of those add-ons/applications
                                    is healthy
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                        type: object
                    status:
                        description: Status defines the observed state of ClusterProfile/Profile
                        properties:
                            dependenciesHash:
                                description: |-
                                    DependenciesHash is a hash representing the set of clusters where this ClusterProfile
                                    must be deployed, based on the combined configuration of its dependencies.
                                format: byte
                                type: string
                            matchingClusters:
                                description: |-
                                    MatchingClusterRefs reference all the clusters currently matching
                                    ClusterProfile ClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            reconciliationSuspended:
                                description: |-
                                    ReconciliationSuspended indicates whether the reconciliation loop for this
                                    ClusterSummary is currently paused due to an external action (e.g., a user annotation).
                                    When true, the status will not be updated unless the pause is lifted.
                                type: boolean
                            suspensionReason:
                                description: SuspensionReason provides a brief explanation of why the reconciliation is suspended.
                                type: string
                            updatedClusters:
                                description: |-
                                    UpdatedClusters contains information all the cluster currently matching
                                    ClusterProfile ClusterSelector and already updated to latest ClusterProfile
                                    Spec
                                properties:
                                    clusters:
                                        description: |-
                                            Clusters reference all the clusters currently matching
                                            ClusterProfile ClusterSelector and already updated/being updated
                                            to ClusterProfile Spec
                                        items:
                                            description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: array
                                    hash:
                                        description: |-
                                            Hash represents of a unique value for ClusterProfile Spec at
                                            a fixed point in time
                                        format: byte
                                        type: string
                                type: object
                            updatingClusters:
                                description: |-
                                    UpdatingClusters reference all the cluster currently matching
                                    ClusterProfile ClusterSelector and being updated
                                properties:
                                    clusters:
                                        description: |-
                                            Clusters reference all the clusters currently matching
                                            ClusterProfile ClusterSelector and already updated/being updated
                                            to ClusterProfile Spec
                                        items:
                                            description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        type: array
                                    hash:
                                        description: |-
                                            Hash represents of a unique value for ClusterProfile Spec at
                                            a fixed point in time
                                        format: byte
                                        type: string
                                type: object
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: addon-controller
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
    name: addon-controller-role-extra
    namespace: projectsveltos
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
      verbs:
        - get
        - list
        - create
        - update
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clusterconfiguration-editor-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterconfigurations
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterconfigurations/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clusterconfiguration-viewer-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterconfigurations
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterconfigurations/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clusterprofile-editor-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clusterprofile-viewer-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clusterreport-editor-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterreports
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterreports/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clusterreport-viewer-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterreports
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterreports/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clustersummary-editor-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clustersummaries
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clustersummaries/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-clustersummary-viewer-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clustersummaries
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clustersummaries/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-controller-role
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
        - secrets
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - get
        - impersonate
        - list
        - watch
    - apiGroups:
        - apiextensions.k8s.io
      resources:
        - customresourcedefinitions
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
        - clusters/status
        - machines
        - machines/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterconfigurations
        - clusterreports
      verbs:
        - create
        - delete
        - get
        - list
        - update
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterconfigurations/status
        - clusterreports/status
      verbs:
        - get
        - list
        - update
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles
        - clusterpromotions
        - clustersummaries
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles/finalizers
        - clustersummaries/finalizers
        - profiles/finalizers
      verbs:
        - patch
        - update
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles/status
        - clusterpromotions/status
        - clustersummaries/status
        - profiles/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterpromotions/finalizers
      verbs:
        - update
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - profiles
      verbs:
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - controlplane.cluster.x-k8s.io
      resources:
        - kubeadmcontrolplanes
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - events.k8s.io
      resources:
        - events
      verbs:
        - create
        - patch
        - update
    - apiGroups:
        - extension.projectsveltos.io
      resources:
        - jsonnetsources
        - yttsources
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - infrastructure.cluster.x-k8s.io
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clusterhealthchecks
        - configurationgroups/status
        - debuggingconfigurations
        - eventtriggers
        - sveltosclusters
        - sveltosclusters/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clustersets
        - configurationbundles
        - configurationgroups
        - reloaders
        - resourcesummaries
        - sets
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clustersets/finalizers
        - sets/finalizers
      verbs:
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clustersets/status
        - sets/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationbundles/status
      verbs:
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - resourcesummaries/status
      verbs:
        - get
        - list
        - update
    - apiGroups:
        - source.toolkit.fluxcd.io
      resources:
        - buckets
        - buckets/status
        - gitrepositories
        - gitrepositories/status
        - ocirepositories
        - ocirepositories/status
      verbs:
        - get
        - list
        - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: addon-controller-role-extra
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    labels:
        app.kubernetes.io/component: rbac
        app.kubernetes.io/created-by: addon-controller
        app.kubernetes.io/instance: profile-editor-role
        app.kubernetes.io/managed-by: kustomize
        app.kubernetes.io/name: clusterrole
        app.kubernetes.io/part-of: addon-controller
    name: addon-profile-editor-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - profiles
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - profiles/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    labels:
        app.kubernetes.io/component: rbac
        app.kubernetes.io/created-by: addon-controller
        app.kubernetes.io/instance: profile-viewer-role
        app.kubernetes.io/managed-by: kustomize
        app.kubernetes.io/name: clusterrole
        app.kubernetes.io/part-of: addon-controller
    name: addon-profile-viewer-role
rules:
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - profiles
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - profiles/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
    name: addon-controller-rolebinding-extra
    namespace: projectsveltos
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: addon-controller-role-extra
subjects:
    - kind: ServiceAccount
      name: addon-controller
      namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: addon-controller-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: addon-controller-role
subjects:
    - kind: ServiceAccount
      name: addon-controller
      namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: addon-controller-rolebinding-extra
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: addon-controller-role-extra
subjects:
    - kind: ServiceAccount
      name: addon-controller
      namespace: projectsveltos
---
apiVersion: v1
kind: Service
metadata:
    labels:
        control-plane: addon-controller
    name: addon-controller
    namespace: projectsveltos
spec:
    ports:
        - name: metrics
          port: 80
          protocol: TCP
          targetPort: 8443
    selector:
        control-plane: addon-controller
    type: ClusterIP
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: addon-controller
    name: addon-controller
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: addon-controller
    strategy:
        type: Recreate
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: controller
            labels:
                control-plane: addon-controller
        spec:
            containers:
                - args:
                    - --diagnostics-address=:8443
                    - --report-mode=0
                    - --shard-key=
                    - --capi-onboard-annotation=
                    - --v=5
                    - --version=v1.5.1
                    - --agent-in-mgmt-cluster=true
                  command:
                    - /manager
                  env:
                    - name: GOMEMLIMIT
                      valueFrom:
                        resourceFieldRef:
                            resource: limits.memory
                    - name: GOMAXPROCS
                      valueFrom:
                        resourceFieldRef:
                            resource: limits.cpu
                  image: docker.io/projectsveltos/addon-controller:v1.5.1
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: controller
                  ports:
                    - containerPort: 8443
                      name: metrics
                      protocol: TCP
                    - containerPort: 9440
                      name: healthz
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    requests:
                        memory: 256Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
                    seccompProfile:
                        type: RuntimeDefault
                  volumeMounts:
                    - mountPath: /tmp
                      name: tmp
            initContainers:
                - args:
                    - --report-mode=0
                    - --shard-key=
                    - --agent-in-mgmt-cluster=true
                  env:
                    - name: IS_INITIALIZATION
                      value: "true"
                  image: docker.io/projectsveltos/addon-controller:v1.5.1
                  name: initialization
            securityContext:
                runAsNonRoot: true
            serviceAccountName: addon-controller
            terminationGracePeriodSeconds: 10
            volumes:
                - emptyDir: {}
                  name: tmp
---
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
    labels:
        control-plane: addon-controller
    name: addon-controller
    namespace: projectsveltos
spec:
    endpoints:
        - bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token
          path: /metrics
          port: metrics
          scheme: https
          tlsConfig:
            insecureSkipVerify: true
    namespaceSelector:
        matchNames:
            - projectsveltos
    selector:
        matchLabels:
            control-plane: addon-controller
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: access-manager
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: access-manager-role
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - ""
      resources:
        - secrets
        - serviceaccounts
        - serviceaccounts/token
      verbs:
        - create
        - delete
        - get
        - list
        - update
        - watch
    - apiGroups:
        - apiextensions.k8s.io
      resources:
        - customresourcedefinitions
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
        - clusters/status
        - machines
        - machines/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - accessrequests
      verbs:
        - get
        - list
        - patch
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - accessrequests/finalizers
        - rolerequests/finalizers
      verbs:
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - accessrequests/status
        - rolerequests/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - classifierreports
        - eventreports
        - healthcheckreports
      verbs:
        - create
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationbundles
        - configurationgroups
        - rolerequests
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationbundles/status
      verbs:
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationgroups/status
        - debuggingconfigurations
        - sveltosclusters
        - sveltosclusters/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - rbac.authorization.k8s.io
      resources:
        - rolebindings
        - roles
      verbs:
        - create
        - delete
        - get
        - list
        - update
        - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: access-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: access-manager-role
subjects:
    - kind: ServiceAccount
      name: access-manager
      namespace: projectsveltos
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: access-manager
    name: access-manager
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: access-manager
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: manager
            labels:
                control-plane: access-manager
        spec:
            containers:
                - args:
                    - --diagnostics-address=:8443
                    - --v=5
                  command:
                    - /manager
                  image: docker.io/projectsveltos/access-manager:v1.5.1
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: manager
                  ports:
                    - containerPort: 8443
                      name: metrics
                      protocol: TCP
                    - containerPort: 9440
                      name: healthz
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    limits:
                        cpu: 500m
                        memory: 512Mi
                    requests:
                        cpu: 10m
                        memory: 128Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            securityContext:
                runAsNonRoot: true
            serviceAccountName: access-manager
            terminationGracePeriodSeconds: 10
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: sc-manager
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: sc-manager-role
rules:
    - apiGroups:
        - ""
      resources:
        - secrets
      verbs:
        - get
        - list
        - update
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - debuggingconfigurations
        - sveltoslicenses
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - sveltosclusters
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - sveltosclusters/status
        - sveltoslicenses/status
      verbs:
        - get
        - patch
        - update
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: sc-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: sc-manager-role
subjects:
    - kind: ServiceAccount
      name: sc-manager
      namespace: projectsveltos
---
apiVersion: v1
kind: Service
metadata:
    labels:
        control-plane: sc-manager
    name: sc-manager
    namespace: projectsveltos
spec:
    ports:
        - name: metrics
          port: 80
          protocol: TCP
          targetPort: 8443
    selector:
        control-plane: sc-manager
    type: ClusterIP
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: sc-manager
    name: sc-manager
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: sc-manager
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: manager
            labels:
                control-plane: sc-manager
        spec:
            containers:
                - args:
                    - --diagnostics-address=:8443
                    - --shard-key=
                    - --v=5
                  command:
                    - /manager
                  image: docker.io/projectsveltos/sveltoscluster-manager:v1.5.1
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: manager
                  ports:
                    - containerPort: 8443
                      name: metrics
                      protocol: TCP
                    - containerPort: 9440
                      name: healthz
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    limits:
                        cpu: 500m
                        memory: 512Mi
                    requests:
                        cpu: 10m
                        memory: 128Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            securityContext:
                runAsNonRoot: true
            serviceAccountName: sc-manager
            terminationGracePeriodSeconds: 10
---
apiVersion: monitoring.coreos.com/v1
kind: ServiceMonitor
metadata:
    labels:
        release: prometheus-operator
    name: sc-manager
    namespace: projectsveltos
spec:
    endpoints:
        - bearerTokenFile: /var/run/secrets/kubernetes.io/serviceaccount/token
          path: /metrics
          port: metrics
          scheme: https
          tlsConfig:
            insecureSkipVerify: true
    namespaceSelector:
        matchNames:
            - projectsveltos
    selector:
        matchLabels:
            control-plane: sc-manager
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: hc-manager
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: hc-manager-role
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
      verbs:
        - create
        - delete
        - get
        - list
        - update
        - watch
    - apiGroups:
        - ""
      resources:
        - events
      verbs:
        - create
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - ""
      resources:
        - secrets
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - apiextensions.k8s.io
      resources:
        - customresourcedefinitions
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
        - clusters/status
        - machines
        - machines/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clustersummaries
        - clustersummaries/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clusterhealthchecks
        - configurationbundles
        - configurationgroups
        - reloaderreports
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clusterhealthchecks/finalizers
      verbs:
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clusterhealthchecks/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationbundles/status
        - sveltosclusters
      verbs:
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationgroups/status
        - debuggingconfigurations
        - healthchecks
        - sveltosclusters/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - healthcheckreports
      verbs:
        - create
        - delete
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - healthcheckreports/status
      verbs:
        - get
        - list
        - update
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: hc-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: hc-manager-role
subjects:
    - kind: ServiceAccount
      name: hc-manager
      namespace: projectsveltos
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: hc-manager
    name: hc-manager
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: hc-manager
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: manager
            labels:
                control-plane: hc-manager
        spec:
            containers:
                - args:
                    - --diagnostics-address=:8443
                    - --shard-key=
                    - --capi-onboard-annotation=
                    - --v=5
                    - --version=v1.5.1
                    - --agent-in-mgmt-cluster=true
                  command:
                    - /manager
                  image: docker.io/projectsveltos/healthcheck-manager:v1.5.1
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: manager
                  ports:
                    - containerPort: 8443
                      name: metrics
                      protocol: TCP
                    - containerPort: 9440
                      name: healthz
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    limits:
                        cpu: 500m
                        memory: 512Mi
                    requests:
                        cpu: 10m
                        memory: 128Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            securityContext:
                runAsNonRoot: true
                seccompProfile:
                    type: RuntimeDefault
            serviceAccountName: hc-manager
            terminationGracePeriodSeconds: 10
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: eventtriggers.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: EventTrigger
        listKind: EventTriggerList
        plural: eventtriggers
        singular: eventtrigger
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: EventTrigger is the Schema for the eventtriggers API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: EventTriggerSpec defines the desired state of EventTrigger
                        properties:
                            cloudEventAction:
                                default: Create
                                description: |-
                                    CloudEventAction determines the action to take based on the received CloudEvent.
                                    CloudEvents with the same source and subject are considered related and represent
                                    different states of the same entity. This field specifies whether to create or
                                    delete the associated Kubernetes resources.
                                    This can be expressed as a template and instantiated at run time using CloudEvent
                                type: string
                            clusterSetRefs:
                                description: SetRefs identifies referenced ClusterSets. Name of the referenced ClusterSets.
                                items:
                                    type: string
                                type: array
                            configMapGenerator:
                                description: |-
                                    The ConfigMapGenerator field references ConfigMaps containing templates.
                                    These referenced ConfigMaps will be dynamically instantiated in the management cluster
                                    based on event data.
                                items:
                                    properties:
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                            minLength: 1
                                            type: string
                                        nameFormat:
                                            description: |-
                                                InstantiatedResourceNameFormat defines a template used to generate the name
                                                of the resource created in the management cluster. The template can reference:
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                                - event data
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                Namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other generators.
                                            type: boolean
                                    required:
                                        - name
                                        - nameFormat
                                    type: object
                                type: array
                            continueOnConflict:
                                default: false
                                description: |-
                                    By default (when ContinueOnConflict is unset or set to false), Sveltos stops deployment after
                                    encountering the first conflict (e.g., another ClusterProfile already deployed the resource).
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if conflicts are detected for previous resources.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                type: boolean
                            dependsOn:
                                description: |-
                                    DependsOn specifies a list of other ClusterProfiles that this instance depends on.
                                    In any managed cluster that matches this ClusterProfile, the add-ons and applications
                                    defined in this instance will not be deployed until all add-ons and applications in the
                                    ClusterProfiles listed as dependencies are deployed.
                                    This field will be directly transferred to the ClusterProfile Spec
                                items:
                                    type: string
                                type: array
                            destinationCluster:
                                description: |-
                                    DestinationCluster identifies a specific cluster (by name) to deploy add-ons to.
                                    This field is templatable, allowing dynamic values based on the event context.
                                    Cannot be set if DestinationClusterSelector is set.
                                properties:
                                    apiVersion:
                                        description: API version of the referent.
                                        type: string
                                    fieldPath:
                                        description: |-
                                            If referring to a piece of an object instead of an entire object, this string
                                            should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                            For example, if the object reference is to a container within a pod, this would take on a value like:
                                            "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                            the event) or if no container name is specified "spec.containers[2]" (container with
                                            index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                            referencing a part of an object.
                                        type: string
                                    kind:
                                        description: |-
                                            Kind of the referent.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                        type: string
                                    name:
                                        description: |-
                                            Name of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        type: string
                                    namespace:
                                        description: |-
                                            Namespace of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                        type: string
                                    resourceVersion:
                                        description: |-
                                            Specific resourceVersion to which this reference is made, if any.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                        type: string
                                    uid:
                                        description: |-
                                            UID of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                        type: string
                                type: object
                                x-kubernetes-map-type: atomic
                            destinationClusterSelector:
                                description: |-
                                    DestinationClusterSelector identifies the cluster where add-ons will be deployed.
                                    By default, this is nil and add-ons will be deployed in the very same cluster the
                                    event happened.
                                    If DestinationClusterSelector is set though, when an event happens in any of the
                                    cluster identified by SourceClusterSelector, add-ons will be deployed in each of
                                    the cluster indentified by DestinationClusterSelector.
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            driftExclusions:
                                description: |-
                                    DriftExclusions is a list of configuration drift exclusions to be applied when syncMode is
                                    set to ContinuousWithDriftDetection. Each exclusion specifies JSON6902 paths to ignore
                                    when evaluating drift, optionally targeting specific resources and features.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        paths:
                                            description: Paths is a slice of JSON6902 paths to exclude from configuration drift evaluation.
                                            items:
                                                type: string
                                            type: array
                                        target:
                                            description: Target points to the resources that the paths refers to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - paths
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            eventSourceName:
                                description: |-
                                    EventSourceName is the name of the referenced EventSource.
                                    Resources contained in the referenced ConfigMaps/Secrets and HelmCharts
                                    will be customized using information from resources matching the EventSource
                                    in the managed cluster.
                                    Name can be expressed as a template and instantiate using:
                                    - cluster namespace: .Cluster.metadata.namespace
                                    - cluster name: .Cluster.metadata.name
                                    - cluster type: .Cluster.kind
                                minLength: 1
                                type: string
                            extraAnnotations:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraAnnotations: These annotations will be added by Sveltos to all Kubernetes resources
                                    deployed in a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a annotation with a key present in
                                    `ExtraAnnotations`, the value from `ExtraAnnotations` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            extraLabels:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraLabels: These labels will be added by Sveltos to all Kubernetes resources deployed in
                                    a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a label with a key present in
                                    `ExtraLabels`, the value from `ExtraLabels` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            helmCharts:
                                description: |-
                                    Helm charts to be deployed in the matching clusters based on EventSource.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        chartName:
                                            description: |-
                                                ChartName is the chart name
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                Must be defined otherwise.
                                            type: string
                                        chartVersion:
                                            description: |-
                                                ChartVersion is the chart version
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        helmChartAction:
                                            default: Install
                                            description: HelmChartAction is the action that will be taken on the helm chart
                                            enum:
                                                - Install
                                                - Uninstall
                                            type: string
                                        options:
                                            description: Options allows to set flags which are used during installation.
                                            properties:
                                                atomic:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process deletes the installation/upgrades on failure.
                                                        The --wait flag will be set automatically if --atomic is used
                                                        Default to false
                                                    type: boolean
                                                dependencyUpdate:
                                                    default: false
                                                    description: |-
                                                        update dependencies if they are missing before installing the chart
                                                        Default to false
                                                    type: boolean
                                                description:
                                                    description: Description is the description of an helm operation
                                                    type: string
                                                disableHooks:
                                                    default: false
                                                    description: |-
                                                        prevent hooks from running during install/upgrade/uninstall
                                                        Default to false
                                                    type: boolean
                                                disableOpenAPIValidation:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process will not validate rendered templates against the Kubernetes OpenAPI Schema
                                                        Default to false
                                                    type: boolean
                                                enableClientCache:
                                                    default: false
                                                    description: EnableClientCache is a flag to enable Helm client cache. If it is not specified, it will be set to false.
                                                    type: boolean
                                                installOptions:
                                                    description: HelmInstallOptions are options specific to helm install
                                                    properties:
                                                        createNamespace:
                                                            default: true
                                                            description: Create the release namespace if not present. Defaults to true
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on install
                                                                Default to false
                                                            type: boolean
                                                        replace:
                                                            default: true
                                                            description: Replaces if set indicates to replace an older release with this one
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, install will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                    type: object
                                                labels:
                                                    additionalProperties:
                                                        type: string
                                                    description: Labels that would be added to release metadata.
                                                    type: object
                                                passCredentialsAll:
                                                    description: PassCredentialsAll is the flag to pass credentials to all domains
                                                    type: boolean
                                                skipCRDs:
                                                    default: false
                                                    description: |-
                                                        SkipCRDs controls whether CRDs should be installed during install/upgrade operation.
                                                        By default, CRDs are installed if not already present.
                                                    type: boolean
                                                skipSchemaValidation:
                                                    default: false
                                                    description: SkipSchemaValidation determines if JSON schema validation is disabled.
                                                    type: boolean
                                                timeout:
                                                    description: time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
                                                    type: string
                                                uninstallOptions:
                                                    description: HelmUninstallOptions are options specific to helm uninstall
                                                    properties:
                                                        deletionPropagation:
                                                            description: DeletionPropagation
                                                            enum:
                                                                - orphan
                                                                - foreground
                                                                - background
                                                            type: string
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on uninstall
                                                                Default to false
                                                            type: boolean
                                                        keepHistory:
                                                            description: |-
                                                                When uninstall a chart with this flag, Helm removes the resources associated with the chart,
                                                                but it keeps the release information. This allows to see details about the uninstalled release
                                                                using the helm history command.
                                                            type: boolean
                                                    type: object
                                                upgradeOptions:
                                                    description: HelmUpgradeOptions are options specific to helm upgrade
                                                    properties:
                                                        cleanupOnFail:
                                                            default: false
                                                            description: CleanupOnFail will, if true, cause the upgrade to delete newly-created resources on a failed update.
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on upgrade
                                                                Default to false
                                                            type: boolean
                                                        force:
                                                            default: false
                                                            description: |-
                                                                Force will, if set to `true`, ignore certain warnings and perform the upgrade anyway.
                                                                This should be used with caution.
                                                            type: boolean
                                                        maxHistory:
                                                            default: 2
                                                            description: |-
                                                                MaxHistory limits the maximum number of revisions saved per release
                                                                Default to 2
                                                            type: integer
                                                        recreate:
                                                            default: false
                                                            description: Recreate will (if true) recreate pods after a rollback.
                                                            type: boolean
                                                        resetThenReuseValues:
                                                            default: false
                                                            description: ResetThenReuseValues will reset the values to the chart's built-ins then merge with user's last supplied values.
                                                            type: boolean
                                                        resetValues:
                                                            default: false
                                                            description: ResetValues will reset the values to the chart's built-ins rather than merging with existing.
                                                            type: boolean
                                                        reuseValues:
                                                            default: false
                                                            description: |-
                                                                ReuseValues copies values from the current release to a new release if the
                                                                new release does not have any values. If the request already has values,
                                                                or if there are no values in the current release, this does nothing.
                                                                This is skipped if the ResetValues flag is set, in which case the
                                                                request values are not altered.
                                                            type: boolean
                                                        subNotes:
                                                            default: false
                                                            description: SubNotes determines whether sub-notes are rendered in the chart.
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, upgrade will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                        upgradeCRDs:
                                                            default: false
                                                            description: |-
                                                                UpgradeCRDs upgrade CRDs from the Helm Chart's crds directory
                                                                By default, CRDs are not applied during Helm upgrade action by Helm
                                                                https://helm.sh/docs/chart_best_practices/custom_resource_definitions/
                                                            type: boolean
                                                    type: object
                                                wait:
                                                    default: false
                                                    description: |-
                                                        if set, will wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment, StatefulSet, or ReplicaSet
                                                        are in a ready state before marking the release as successful. It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                                waitForJobs:
                                                    default: false
                                                    description: |-
                                                        if set and --wait enabled, will wait until all Jobs have been completed before marking the release as successful.
                                                        It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                            type: object
                                        registryCredentialsConfig:
                                            description: |-
                                                RegistryCredentialsConfig is an optional configuration for credentials,
                                                including information to connect to private registries.
                                            properties:
                                                ca:
                                                    description: |-
                                                        CASecretRef references a secret containing the TLS CA certificate
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        key: ca.crt
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                credentials:
                                                    description: |-
                                                        CredentialsSecretRef references a secret containing credentials
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                insecureSkipTLSVerify:
                                                    description: InsecureSkipTLSVerify controls server certificate verification.
                                                    type: boolean
                                                key:
                                                    description: |-
                                                        Key specifies the key within the CredentialsSecretRef containing the data
                                                        If not specified, it defaults to the only key in the secret if there's just one.
                                                    type: string
                                                plainHTTP:
                                                    description: PlainHTTP indicates to use insecure HTTP connections for the chart download
                                                    type: boolean
                                            type: object
                                        releaseName:
                                            description: ReleaseName is the chart release
                                            minLength: 1
                                            type: string
                                        releaseNamespace:
                                            description: ReleaseNamespace is the namespace release will be installed
                                            minLength: 1
                                            type: string
                                        repositoryName:
                                            description: |-
                                                RepositoryName is the name helm chart repository
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        repositoryURL:
                                            description: |-
                                                RepositoryURL is the URL helm chart repository
                                                It can point to a traditional HTTP-based repository or an OCI registry.
                                                Examples:
                                                  - HTTP Repository: https://charts.example.com/stable
                                                  - OCI Registry: oci://registry.example.com/namespace/charts
                                                  - GitHub Pages: https://<username>.github.io/<repository>/
                                                  - Any other valid URL where Helm charts are hosted.

                                                Alternatively, it can be a Flux source reference:
                                                  <flux source kind>://<flux source namespace>/<flux source name>/<path>

                                                Where:
                                                  - <flux source kind> is the type of Flux source (gitrepository, ocirepository, bucket).
                                                  - <flux source namespace> and <flux source name> are the namespace and name of the Flux Source in the management cluster.
                                                  - <path> is the path within the source repository where the Helm charts are located.

                                                For instance:
                                                  gitrepository://flux-system/flux-system/charts/projectsveltos

                                                Assuming there is a Flux GitRepository named 'flux-system' in the 'flux-system' namespace
                                                syncing 'https://github.com/projectsveltos/helm-charts.git/', and the Helm charts are
                                                located in the 'charts/projectsveltos' directory of that repository.
                                            minLength: 1
                                            type: string
                                        values:
                                            description: |-
                                                Values field allows to define configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to store configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - releaseName
                                        - releaseNamespace
                                        - repositoryURL
                                    type: object
                                    x-kubernetes-validations:
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartVersion) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartVersion) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.repositoryName) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.repositoryName) >= 1 : true'
                                type: array
                                x-kubernetes-list-type: atomic
                            kustomizationRefs:
                                description: |-
                                    Kustomization refs
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        components:
                                            description: |-
                                                Components is a list of paths to Kustomize components. These paths are relative to the
                                                `Path` field and are included in the Kustomize build to provide reusable configuration logic.
                                                The paths can be static or leverage Go templates for dynamic customization.
                                            items:
                                                type: string
                                            type: array
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                                NOTE: DeploymentType Local cannot be used when the matching cluster is the management cluster itself.
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - flux GitRepository;OCIRepository;Bucket
                                                - ConfigMap/Secret
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the kustomization.yaml file, or the
                                                set of plain YAMLs a kustomization.yaml should be generated for.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster)
                                            type: string
                                        targetNamespace:
                                            description: |-
                                                TargetNamespace sets or overrides the namespace in the
                                                kustomization.yaml file.
                                            maxLength: 63
                                            minLength: 1
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different KustomizationRef
                                                within the same ClusterProfile or Profile.
                                                When two KustomizationRef attempt to deploy the same resource, the KustomizationRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                        values:
                                            additionalProperties:
                                                type: string
                                            description: |-
                                                Values is a map[string]string type that allows to define a set of key-value pairs.
                                                These key-value pairs can optionally leverage Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            type: object
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to define key-value pairs. These key-value pairs can optionally leverage
                                                Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - kind
                                        - name
                                        - namespace
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            maxUpdate:
                                anyOf:
                                    - type: integer
                                    - type: string
                                description: |-
                                    The maximum number of clusters that can be updated concurrently.
                                    Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%).
                                    Defaults to 100%.
                                    Example: when this is set to 30%, when list of add-ons/applications in ClusterProfile
                                    changes, only 30% of matching clusters will be updated in parallel. Only when updates
                                    in those cluster succeed, other matching clusters are updated.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                pattern: ^((100|[0-9]{1,2})%|[0-9]+)$
                                x-kubernetes-int-or-string: true
                            oneForEvent:
                                description: |-
                                    Multiple resources in a managed cluster can be a match for referenced
                                    EventSource. OneForEvent indicates whether a ClusterProfile for all
                                    resource (OneForEvent = false) or one per resource (OneForEvent = true)
                                    needs to be creted.
                                type: boolean
                                x-kubernetes-validations:
                                    - message: Value is immutable
                                      rule: self == oldSelf
                            patches:
                                description: |-
                                    Define additional Kustomize inline Patches applied for all resources on this profile
                                    Within the Patch Spec you can use templating
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    description: |-
                                        Patch contains an inline StrategicMerge or JSON6902 patch, and the target the patch should
                                        be applied to.
                                    properties:
                                        patch:
                                            description: |-
                                                Patch contains an inline StrategicMerge patch or an inline JSON6902 patch with
                                                an array of operation objects.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        target:
                                            description: Target points to the resources that the patch document should be applied to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - patch
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            patchesFrom:
                                description: |-
                                    PatchesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                    it is possible to store additional Kustomize inline Patches applied for all resources on this profile
                                    These values can be static or leverage Go templates for dynamic customization.
                                    When expressed as templates, the values are filled in using information from
                                    resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                items:
                                    properties:
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                            enum:
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            policyRefs:
                                description: |-
                                    PolicyRefs references all the ConfigMaps/Secrets containing kubernetes resources
                                    that need to be deployed in the matching clusters based on EventSource.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                                - flux GitRepository;OCIRepository;Bucket
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other PolicyRefs.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the YAML files.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                Used only for GitRepository;OCIRepository;Bucket
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different PolicyRefs
                                                within the same ClusterProfile or Profile.
                                                When two PolicyRefs attempt to deploy the same resource, the PolicyRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            postDeleteChecks:
                                description: |-
                                    PostDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *after* Sveltos has deleted all resources.
                                    This ensures that the environment has reached the desired clean state.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            preDeleteChecks:
                                description: |-
                                    PreDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *before* Sveltos starts deleting resources.
                                    If any of these fail, the deletion process is halted.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            profileNameFormat:
                                description: |-
                                    InstantiatedProfileNameFormat defines a template used to generate the name
                                    of the ClusterProfile created in the management cluster. The template can reference:
                                    - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                    - `.Cluster.metadata.name`: name of the managed cluster
                                    - `.Cluster.kind`: kind of the managed cluster object
                                    - event data
                                type: string
                            reloader:
                                default: false
                                description: |-
                                    Reloader indicates whether Deployment/StatefulSet/DaemonSet instances deployed
                                    by Sveltos and part of this ClusterProfile need to be restarted via rolling upgrade
                                    when a ConfigMap/Secret instance mounted as volume is modified.
                                    When set to true, when any mounted ConfigMap/Secret is modified, Sveltos automatically
                                    starts a rolling upgrade for Deployment/StatefulSet/DaemonSet instances mounting it.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                type: boolean
                            secretGenerator:
                                description: |-
                                    The SecretGenerator field references Secrets containing templates.
                                    These referenced Secret will be dynamically instantiated in the management cluster
                                    based on event data.
                                items:
                                    properties:
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                            minLength: 1
                                            type: string
                                        nameFormat:
                                            description: |-
                                                InstantiatedResourceNameFormat defines a template used to generate the name
                                                of the resource created in the management cluster. The template can reference:
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                                - event data
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                Namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other generators.
                                            type: boolean
                                    required:
                                        - name
                                        - nameFormat
                                    type: object
                                type: array
                            sourceClusterSelector:
                                description: |-
                                    SourceClusterSelector identifies clusters to associate to.
                                    This represents the set of clusters where Sveltos will watch for
                                    events defined by referenced EventSource
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            stopMatchingBehavior:
                                default: WithdrawPolicies
                                description: |-
                                    StopMatchingBehavior indicates what behavior should be when a Cluster stop matching
                                    the ClusterProfile. By default all deployed Helm charts and Kubernetes resources will
                                    be withdrawn from Cluster. Setting StopMatchingBehavior to LeavePolicies will instead
                                    leave ClusterProfile deployed policies in the Cluster.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                enum:
                                    - WithdrawPolicies
                                    - LeavePolicies
                                type: string
                            syncMode:
                                default: Continuous
                                description: |-
                                    SyncMode specifies how features are synced in a matching workload cluster.
                                    - OneTime means, first time a workload cluster matches the ClusterProfile,
                                    features will be deployed in such cluster. Any subsequent feature configuration
                                    change won't be applied into the matching workload clusters;
                                    - Continuous mode ensures that the first time a workload cluster matches a ClusterProfile,
                                    the specified features are deployed. Subsequent changes to the feature configuration are also
                                    automatically applied to all matching workload clusters.
                                    _ SyncModeContinuousWithDriftDetection operates similarly to Continuous mode, but also monitors
                                    matching managed clusters for configuration drift. If drift is detected, a reconciliation is
                                    triggered to ensure the managed cluster's configuration aligns with the ClusterProfile.
                                    - DryRun means no change will be propagated to any matching cluster. A report
                                    instead will be generated summarizing what would happen in any matching cluster
                                    because of the changes made to ClusterProfile while in DryRun mode.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                enum:
                                    - OneTime
                                    - Continuous
                                    - ContinuousWithDriftDetection
                                    - DryRun
                                type: string
                            templateResourceRefs:
                                description: |-
                                    TemplateResourceRefs is a list of resource to collect from the management cluster.
                                    Those resources' values will be used to instantiate templates contained in referenced
                                    PolicyRefs and Helm charts
                                    This field will be directly transferred to the ClusterProfile Spec
                                items:
                                    properties:
                                        identifier:
                                            description: |-
                                                Identifier is how the resource will be referred to in the
                                                template
                                            type: string
                                        ignoreStatusChanges:
                                            default: false
                                            description: |-
                                                IgnoreStatusChanges indicates whether changes to the status of the referenced
                                                resource should be ignored. If set to true, only changes to the spec or
                                                metadata (generation change) will trigger a reconciliation.
                                            type: boolean
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other TemplateResourceRefs.
                                            type: boolean
                                        resource:
                                            description: |-
                                                Resource references a Kubernetes instance in the management
                                                cluster to fetch and use during template instantiation.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                Name and namespace can be expressed as a template and instantiate using any cluster field.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                    required:
                                        - identifier
                                        - resource
                                    type: object
                                type: array
                            tier:
                                default: 100
                                description: |-
                                    Tier controls the order of deployment for ClusterProfile or Profile resources targeting
                                    the same cluster resources.
                                    Imagine two configurations (ClusterProfiles or Profiles) trying to deploy the same resource (a Kubernetes
                                    resource or an helm chart). By default, the first one to reach the cluster "wins" and deploys it.
                                    Tier allows you to override this. When conflicts arise, the ClusterProfile or Profile with the **lowest**
                                    Tier value takes priority and deploys the resource.
                                    Higher Tier values represent lower priority. The default Tier value is 100.
                                    Using Tiers provides finer control over resource deployment within your cluster, particularly useful
                                    when multiple configurations manage the same resources.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                format: int32
                                minimum: 1
                                type: integer
                            validateHealths:
                                description: |-
                                    ValidateHealths is a slice of Lua functions to run against
                                    the managed cluster to validate the state of those add-ons/applications
                                    is healthy
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                        required:
                            - eventSourceName
                            - sourceClusterSelector
                        type: object
                    status:
                        description: EventTriggerStatus defines the observed state of EventTrigger
                        properties:
                            clusterInfo:
                                description: |-
                                    ClusterInfo represent the deployment status in each managed
                                    cluster.
                                items:
                                    properties:
                                        cluster:
                                            description: Cluster references the Cluster
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        failureMessage:
                                            description: FailureMessage provides more information about the error.
                                            type: string
                                        hash:
                                            description: |-
                                                Hash represents the hash of the Classifier currently deployed
                                                in the Cluster
                                            format: byte
                                            type: string
                                        status:
                                            description: Status represents the state of the feature in the workload cluster
                                            enum:
                                                - Provisioning
                                                - Provisioned
                                                - Failed
                                                - FailedNonRetriable
                                                - Removing
                                                - Removed
                                            type: string
                                    required:
                                        - cluster
                                        - hash
                                    type: object
                                type: array
                            destinationMatchingClusterRefs:
                                description: |-
                                    DestinationMatchingClusterRefs reference all the cluster-api Cluster currently matching
                                    ClusterProfile DestinationClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            matchingClusters:
                                description: |-
                                    MatchingClusterRefs reference all the cluster-api Cluster currently matching
                                    ClusterProfile SourceClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: event-manager
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: event-eventtrigger-editor-role
rules:
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventtriggers
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventtriggers/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: event-eventtrigger-viewer-role
rules:
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventtriggers
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventtriggers/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: event-manager-role
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
        - secrets
      verbs:
        - '*'
    - apiGroups:
        - apiextensions.k8s.io
      resources:
        - customresourcedefinitions
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
        - clusters/status
        - machines
        - machines/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - config.projectsveltos.io
      resources:
        - clusterprofiles
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - clustersets
        - clustersets/status
        - configurationgroups/status
        - debuggingconfigurations
        - eventsources
        - sveltosclusters/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationbundles
        - configurationgroups
        - eventtriggers
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationbundles/status
        - sveltosclusters
      verbs:
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventreports
      verbs:
        - create
        - delete
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventreports/status
      verbs:
        - get
        - list
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventtriggers/finalizers
      verbs:
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - eventtriggers/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - source.toolkit.fluxcd.io
      resources:
        - buckets
        - buckets/status
        - gitrepositories
        - gitrepositories/status
        - ocirepositories
        - ocirepositories/status
      verbs:
        - get
        - list
        - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: event-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: event-manager-role
subjects:
    - kind: ServiceAccount
      name: event-manager
      namespace: projectsveltos
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: event-manager
    name: event-manager
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: event-manager
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: manager
            labels:
                control-plane: event-manager
        spec:
            containers:
                - args:
                    - --diagnostics-address=:8443
                    - --shard-key=
                    - --capi-onboard-annotation=
                    - --v=5
                    - --version=v1.5.1
                    - --agent-in-mgmt-cluster=true
                  command:
                    - /manager
                  image: docker.io/projectsveltos/event-manager:v1.5.1
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: manager
                  ports:
                    - containerPort: 8443
                      name: metrics
                      protocol: TCP
                    - containerPort: 9440
                      name: healthz
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    limits:
                        cpu: 500m
                        memory: 512Mi
                    requests:
                        cpu: 10m
                        memory: 128Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            securityContext:
                runAsNonRoot: true
                seccompProfile:
                    type: RuntimeDefault
            serviceAccountName: event-manager
            terminationGracePeriodSeconds: 10
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: classifier-manager
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: classifier-manager-role
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
        - secrets
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - apiextensions.k8s.io
      resources:
        - customresourcedefinitions
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - apps
      resources:
        - deployments
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
      verbs:
        - get
        - list
        - update
        - watch
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - accessrequests
        - classifiers
        - configurationbundles
        - configurationgroups
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - classifierreports
      verbs:
        - create
        - delete
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - classifiers/finalizers
      verbs:
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - classifiers/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationbundles/status
        - sveltosclusters
      verbs:
        - get
        - list
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - configurationgroups/status
        - debuggingconfigurations
        - sveltosclusters/status
      verbs:
        - get
        - list
        - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: classifier-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: classifier-manager-role
subjects:
    - kind: ServiceAccount
      name: classifier-manager
      namespace: projectsveltos
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: classifier
    name: classifier-manager
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: classifier
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: manager
            labels:
                control-plane: classifier
        spec:
            containers:
                - args:
                    - --diagnostics-address=:8443
                    - --report-mode=0
                    - --shard-key=
                    - --capi-onboard-annotation=
                    - --v=5
                    - --version=v1.5.1
                    - --registry=
                    - --agent-in-mgmt-cluster=true
                  command:
                    - /manager
                  image: docker.io/projectsveltos/classifier:v1.5.1
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: manager
                  ports:
                    - containerPort: 8443
                      name: metrics
                      protocol: TCP
                    - containerPort: 9440
                      name: healthz
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    limits:
                        cpu: 500m
                        memory: 512Mi
                    requests:
                        cpu: 100m
                        memory: 128Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            securityContext:
                runAsNonRoot: true
            serviceAccountName: classifier-manager
            terminationGracePeriodSeconds: 10
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
    name: classifier-role-sveltos-agent-in-mgmt-cluster
    namespace: projectsveltos
rules:
    - apiGroups:
        - ""
      resources:
        - services
      verbs:
        - '*'
    - apiGroups:
        - apps
      resources:
        - deployments
      verbs:
        - '*'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
    name: classifier-rolebinding-sveltos-agent-in-mgmt-cluster
    namespace: projectsveltos
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: classifier-role-sveltos-agent-in-mgmt-cluster
subjects:
    - kind: ServiceAccount
      name: classifier-manager
      namespace: projectsveltos
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: sveltos-agent-manager
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: sveltos-agent-manager-role
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
        - secrets
      verbs:
        - create
        - get
        - list
        - update
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - classifierreports
        - eventreports
        - healthcheckreports
        - reloaderreports
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - classifierreports/status
        - eventreports/status
        - healthcheckreports/status
        - reloaderreports/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - classifiers
        - eventsources
        - healthchecks
        - reloaders
      verbs:
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - debuggingconfigurations
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - sveltosclusters
        - sveltosclusters/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
      verbs:
        - get
        - list
        - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: sveltos-agent-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: sveltos-agent-manager-role
subjects:
    - kind: ServiceAccount
      name: sveltos-agent-manager
      namespace: projectsveltos
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: drift-detection-manager
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: drift-detection-manager-role
rules:
    - apiGroups:
        - ""
      resources:
        - configmaps
        - secrets
      verbs:
        - create
        - get
        - list
        - update
        - watch
    - apiGroups:
        - ""
      resources:
        - events
      verbs:
        - create
        - patch
        - update
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - debuggingconfigurations
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - resourcesummaries
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - resourcesummaries/finalizers
      verbs:
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - resourcesummaries/status
      verbs:
        - get
        - patch
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - sveltosclusters
        - sveltosclusters/status
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
      verbs:
        - get
        - list
        - watch
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: drift-detection-metrics-reader
rules:
    - nonResourceURLs:
        - /metrics
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: drift-detection-proxy-role
rules:
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: drift-detection-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: drift-detection-manager-role
subjects:
    - kind: ServiceAccount
      name: drift-detection-manager
      namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: drift-detection-proxy-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: drift-detection-proxy-role
subjects:
    - kind: ServiceAccount
      name: drift-detection-manager
      namespace: projectsveltos
---
apiVersion: v1
kind: ServiceAccount
metadata:
    labels:
        app.kubernetes.io/component: rbac
        app.kubernetes.io/created-by: shard-controller
        app.kubernetes.io/instance: controller-manager-sa
        app.kubernetes.io/managed-by: kustomize
        app.kubernetes.io/name: serviceaccount
        app.kubernetes.io/part-of: shard-controller
    name: shard-controller
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: Role
metadata:
    name: shard-controller-role-extra
    namespace: projectsveltos
rules:
    - apiGroups:
        - apps
      resources:
        - deployments
      verbs:
        - '*'
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: shard-manager-role
rules:
    - apiGroups:
        - apiextensions.k8s.io
      resources:
        - customresourcedefinitions
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - authentication.k8s.io
      resources:
        - tokenreviews
      verbs:
        - create
    - apiGroups:
        - authorization.k8s.io
      resources:
        - subjectaccessreviews
      verbs:
        - create
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - cluster.x-k8s.io
      resources:
        - clusters/status
      verbs:
        - get
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - debuggingconfigurations
        - sveltosclusters
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - sveltosclusters/status
      verbs:
        - get
---
apiVersion: rbac.authorization.k8s.io/v1
kind: RoleBinding
metadata:
    name: shard-controller-rolebinding-extra
    namespace: projectsveltos
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: Role
    name: shard-controller-role-extra
subjects:
    - kind: ServiceAccount
      name: shard-controller
      namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    labels:
        app.kubernetes.io/component: rbac
        app.kubernetes.io/created-by: shard-controller
        app.kubernetes.io/instance: manager-rolebinding
        app.kubernetes.io/managed-by: kustomize
        app.kubernetes.io/name: clusterrolebinding
        app.kubernetes.io/part-of: shard-controller
    name: shard-manager-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: shard-manager-role
subjects:
    - kind: ServiceAccount
      name: shard-controller
      namespace: projectsveltos
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: shard-controller
    name: shard-controller
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: shard-controller
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: manager
            labels:
                control-plane: shard-controller
        spec:
            containers:
                - args:
                    - --diagnostics-address=:8443
                    - --v=5
                    - --report-mode=0
                    - --agent-in-mgmt-cluster=true
                  command:
                    - /manager
                  image: docker.io/projectsveltos/shard-controller:v1.5.1
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: manager
                  ports:
                    - containerPort: 8443
                      name: metrics
                      protocol: TCP
                    - containerPort: 9440
                      name: healthz
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: healthz
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    limits:
                        cpu: 500m
                        memory: 512Mi
                    requests:
                        cpu: 10m
                        memory: 128Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            securityContext:
                runAsNonRoot: true
            serviceAccountName: shard-controller
            terminationGracePeriodSeconds: 10
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: register-mgmt-cluster
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: register-mgmt-cluster-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: cluster-admin
subjects:
    - kind: ServiceAccount
      name: register-mgmt-cluster
      namespace: projectsveltos
---
apiVersion: batch/v1
kind: Job
metadata:
    name: register-mgmt-cluster-job
    namespace: projectsveltos
spec:
    backoffLimit: 4
    template:
        spec:
            containers:
                - args:
                    - --labels=
                    - --service-account-token=false
                  image: docker.io/projectsveltos/register-mgmt-cluster:v1.5.1
                  imagePullPolicy: IfNotPresent
                  name: register-mgmt-cluster
                  resources:
                    requests:
                        memory: 128Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            restartPolicy: Never
            serviceAccountName: register-mgmt-cluster
    ttlSecondsAfterFinished: 240
---
apiVersion: v1
kind: ServiceAccount
metadata:
    labels:
        control-plane: techsupport
    name: techsupport-controller
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: techsupport-role
rules:
    - apiGroups:
        - ""
      resources:
        - secrets
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - debuggingconfigurations
      verbs:
        - get
        - list
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - techsupports
      verbs:
        - create
        - delete
        - get
        - list
        - patch
        - update
        - watch
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - techsupports/finalizers
      verbs:
        - update
    - apiGroups:
        - lib.projectsveltos.io
      resources:
        - techsupports/status
      verbs:
        - get
        - patch
        - update
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: techsupport-rolebinding
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: techsupport-role
subjects:
    - kind: ServiceAccount
      name: techsupport-controller
      namespace: projectsveltos
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: techsupport
    name: techsupport-controller
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: techsupport
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: controller
            labels:
                control-plane: techsupport
        spec:
            containers:
                - args:
                    - --v=5
                  command:
                    - /manager
                  image: docker.io/projectsveltos/techsupport:v1.5.1
                  livenessProbe:
                    httpGet:
                        path: /healthz
                        port: 8081
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: controller
                  readinessProbe:
                    httpGet:
                        path: /readyz
                        port: 8081
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
            securityContext:
                runAsNonRoot: true
                seccompProfile:
                    type: RuntimeDefault
            serviceAccountName: techsupport-controller
            terminationGracePeriodSeconds: 10
---
apiVersion: v1
kind: ServiceAccount
metadata:
    name: mcp-server
    namespace: projectsveltos
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRole
metadata:
    name: sveltos-mcp-server
rules:
    - apiGroups:
        - '*'
      resources:
        - '*'
      verbs:
        - get
        - list
        - watch
---
apiVersion: v1
kind: Service
metadata:
    labels:
        control-plane: mcp-server
    name: mcp-server
    namespace: projectsveltos
spec:
    ports:
        - name: mcp
          port: 80
          protocol: TCP
          targetPort: 8080
    selector:
        control-plane: mcp-server
    type: ClusterIP
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
    name: sveltos-mcp-server
roleRef:
    apiGroup: rbac.authorization.k8s.io
    kind: ClusterRole
    name: sveltos-mcp-server
subjects:
    - kind: ServiceAccount
      name: mcp-server
      namespace: projectsveltos
---
apiVersion: apps/v1
kind: Deployment
metadata:
    labels:
        control-plane: mcp-server
    name: mcp-server
    namespace: projectsveltos
spec:
    replicas: 1
    selector:
        matchLabels:
            control-plane: mcp-server
    template:
        metadata:
            annotations:
                kubectl.kubernetes.io/default-container: controller
            labels:
                control-plane: mcp-server
        spec:
            containers:
                - args:
                    - --v=5
                  command:
                    - /manager
                  env:
                    - name: GOMEMLIMIT
                      valueFrom:
                        resourceFieldRef:
                            resource: limits.memory
                    - name: GOMAXPROCS
                      valueFrom:
                        resourceFieldRef:
                            resource: limits.cpu
                  image: docker.io/projectsveltos/mcp-server:v1.5.0
                  imagePullPolicy: IfNotPresent
                  livenessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /healthz
                        port: mcp
                        scheme: HTTP
                    initialDelaySeconds: 15
                    periodSeconds: 20
                  name: controller
                  ports:
                    - containerPort: 8080
                      name: mcp
                      protocol: TCP
                  readinessProbe:
                    failureThreshold: 3
                    httpGet:
                        path: /readyz
                        port: mcp
                        scheme: HTTP
                    initialDelaySeconds: 5
                    periodSeconds: 10
                  resources:
                    requests:
                        memory: 256Mi
                  securityContext:
                    allowPrivilegeEscalation: false
                    capabilities:
                        drop:
                            - ALL
                    seccompProfile:
                        type: RuntimeDefault
                  volumeMounts:
                    - mountPath: /tmp
                      name: tmp
            securityContext:
                runAsNonRoot: true
            serviceAccountName: mcp-server
            terminationGracePeriodSeconds: 10
            volumes:
                - emptyDir: {}
                  name: tmp
---
