apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
    annotations:
        controller-gen.kubebuilder.io/version: v0.20.0
    name: eventtriggers.lib.projectsveltos.io
spec:
    group: lib.projectsveltos.io
    names:
        kind: EventTrigger
        listKind: EventTriggerList
        plural: eventtriggers
        singular: eventtrigger
    scope: Cluster
    versions:
        - name: v1beta1
          schema:
            openAPIV3Schema:
                description: EventTrigger is the Schema for the eventtriggers API
                properties:
                    apiVersion:
                        description: |-
                            APIVersion defines the versioned schema of this representation of an object.
                            Servers should convert recognized schemas to the latest internal value, and
                            may reject unrecognized values.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
                        type: string
                    kind:
                        description: |-
                            Kind is a string value representing the REST resource this object represents.
                            Servers may infer this from the endpoint the client submits requests to.
                            Cannot be updated.
                            In CamelCase.
                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                        type: string
                    metadata:
                        type: object
                    spec:
                        description: EventTriggerSpec defines the desired state of EventTrigger
                        properties:
                            cloudEventAction:
                                default: Create
                                description: |-
                                    CloudEventAction determines the action to take based on the received CloudEvent.
                                    CloudEvents with the same source and subject are considered related and represent
                                    different states of the same entity. This field specifies whether to create or
                                    delete the associated Kubernetes resources.
                                    This can be expressed as a template and instantiated at run time using CloudEvent
                                type: string
                            clusterSetRefs:
                                description: SetRefs identifies referenced ClusterSets. Name of the referenced ClusterSets.
                                items:
                                    type: string
                                type: array
                            configMapGenerator:
                                description: |-
                                    The ConfigMapGenerator field references ConfigMaps containing templates.
                                    These referenced ConfigMaps will be dynamically instantiated in the management cluster
                                    based on event data.
                                items:
                                    properties:
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                            minLength: 1
                                            type: string
                                        nameFormat:
                                            description: |-
                                                InstantiatedResourceNameFormat defines a template used to generate the name
                                                of the resource created in the management cluster. The template can reference:
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                                - event data
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                Namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other generators.
                                            type: boolean
                                    required:
                                        - name
                                        - nameFormat
                                    type: object
                                type: array
                            continueOnConflict:
                                default: false
                                description: |-
                                    By default (when ContinueOnConflict is unset or set to false), Sveltos stops deployment after
                                    encountering the first conflict (e.g., another ClusterProfile already deployed the resource).
                                    If set to true, Sveltos will attempt to deploy remaining resources in the ClusterProfile even
                                    if conflicts are detected for previous resources.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                type: boolean
                            dependsOn:
                                description: |-
                                    DependsOn specifies a list of other ClusterProfiles that this instance depends on.
                                    In any managed cluster that matches this ClusterProfile, the add-ons and applications
                                    defined in this instance will not be deployed until all add-ons and applications in the
                                    ClusterProfiles listed as dependencies are deployed.
                                    This field will be directly transferred to the ClusterProfile Spec
                                items:
                                    type: string
                                type: array
                            destinationCluster:
                                description: |-
                                    DestinationCluster identifies a specific cluster (by name) to deploy add-ons to.
                                    This field is templatable, allowing dynamic values based on the event context.
                                    Cannot be set if DestinationClusterSelector is set.
                                properties:
                                    apiVersion:
                                        description: API version of the referent.
                                        type: string
                                    fieldPath:
                                        description: |-
                                            If referring to a piece of an object instead of an entire object, this string
                                            should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                            For example, if the object reference is to a container within a pod, this would take on a value like:
                                            "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                            the event) or if no container name is specified "spec.containers[2]" (container with
                                            index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                            referencing a part of an object.
                                        type: string
                                    kind:
                                        description: |-
                                            Kind of the referent.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                        type: string
                                    name:
                                        description: |-
                                            Name of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                        type: string
                                    namespace:
                                        description: |-
                                            Namespace of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                        type: string
                                    resourceVersion:
                                        description: |-
                                            Specific resourceVersion to which this reference is made, if any.
                                            More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                        type: string
                                    uid:
                                        description: |-
                                            UID of the referent.
                                            More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                        type: string
                                type: object
                                x-kubernetes-map-type: atomic
                            destinationClusterSelector:
                                description: |-
                                    DestinationClusterSelector identifies the cluster where add-ons will be deployed.
                                    By default, this is nil and add-ons will be deployed in the very same cluster the
                                    event happened.
                                    If DestinationClusterSelector is set though, when an event happens in any of the
                                    cluster identified by SourceClusterSelector, add-ons will be deployed in each of
                                    the cluster indentified by DestinationClusterSelector.
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            driftExclusions:
                                description: |-
                                    DriftExclusions is a list of configuration drift exclusions to be applied when syncMode is
                                    set to ContinuousWithDriftDetection. Each exclusion specifies JSON6902 paths to ignore
                                    when evaluating drift, optionally targeting specific resources and features.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        paths:
                                            description: Paths is a slice of JSON6902 paths to exclude from configuration drift evaluation.
                                            items:
                                                type: string
                                            type: array
                                        target:
                                            description: Target points to the resources that the paths refers to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - paths
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            eventSourceName:
                                description: |-
                                    EventSourceName is the name of the referenced EventSource.
                                    Resources contained in the referenced ConfigMaps/Secrets and HelmCharts
                                    will be customized using information from resources matching the EventSource
                                    in the managed cluster.
                                    Name can be expressed as a template and instantiate using:
                                    - cluster namespace: .Cluster.metadata.namespace
                                    - cluster name: .Cluster.metadata.name
                                    - cluster type: .Cluster.kind
                                minLength: 1
                                type: string
                            extraAnnotations:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraAnnotations: These annotations will be added by Sveltos to all Kubernetes resources
                                    deployed in a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a annotation with a key present in
                                    `ExtraAnnotations`, the value from `ExtraAnnotations` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            extraLabels:
                                additionalProperties:
                                    type: string
                                description: |-
                                    ExtraLabels: These labels will be added by Sveltos to all Kubernetes resources deployed in
                                    a managed cluster based on this ClusterProfile/Profile instance.
                                    **Important:** If a resource deployed by Sveltos already has a label with a key present in
                                    `ExtraLabels`, the value from `ExtraLabels` will override the existing value.
                                    (Deprecated use Patches instead)
                                type: object
                            helmCharts:
                                description: |-
                                    Helm charts to be deployed in the matching clusters based on EventSource.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        chartName:
                                            description: |-
                                                ChartName is the chart name
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                Must be defined otherwise.
                                            type: string
                                        chartVersion:
                                            description: |-
                                                ChartVersion is the chart version
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        helmChartAction:
                                            default: Install
                                            description: HelmChartAction is the action that will be taken on the helm chart
                                            enum:
                                                - Install
                                                - Uninstall
                                            type: string
                                        options:
                                            description: Options allows to set flags which are used during installation.
                                            properties:
                                                atomic:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process deletes the installation/upgrades on failure.
                                                        The --wait flag will be set automatically if --atomic is used
                                                        Default to false
                                                    type: boolean
                                                dependencyUpdate:
                                                    default: false
                                                    description: |-
                                                        update dependencies if they are missing before installing the chart
                                                        Default to false
                                                    type: boolean
                                                description:
                                                    description: Description is the description of an helm operation
                                                    type: string
                                                disableHooks:
                                                    default: false
                                                    description: |-
                                                        prevent hooks from running during install/upgrade/uninstall
                                                        Default to false
                                                    type: boolean
                                                disableOpenAPIValidation:
                                                    default: false
                                                    description: |-
                                                        if set, the installation process will not validate rendered templates against the Kubernetes OpenAPI Schema
                                                        Default to false
                                                    type: boolean
                                                enableClientCache:
                                                    default: false
                                                    description: EnableClientCache is a flag to enable Helm client cache. If it is not specified, it will be set to false.
                                                    type: boolean
                                                installOptions:
                                                    description: HelmInstallOptions are options specific to helm install
                                                    properties:
                                                        createNamespace:
                                                            default: true
                                                            description: Create the release namespace if not present. Defaults to true
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on install
                                                                Default to false
                                                            type: boolean
                                                        replace:
                                                            default: true
                                                            description: Replaces if set indicates to replace an older release with this one
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, install will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                    type: object
                                                labels:
                                                    additionalProperties:
                                                        type: string
                                                    description: Labels that would be added to release metadata.
                                                    type: object
                                                passCredentialsAll:
                                                    description: PassCredentialsAll is the flag to pass credentials to all domains
                                                    type: boolean
                                                skipCRDs:
                                                    default: false
                                                    description: |-
                                                        SkipCRDs controls whether CRDs should be installed during install/upgrade operation.
                                                        By default, CRDs are installed if not already present.
                                                    type: boolean
                                                skipSchemaValidation:
                                                    default: false
                                                    description: SkipSchemaValidation determines if JSON schema validation is disabled.
                                                    type: boolean
                                                timeout:
                                                    description: time to wait for any individual Kubernetes operation (like Jobs for hooks) (default 5m0s)
                                                    type: string
                                                uninstallOptions:
                                                    description: HelmUninstallOptions are options specific to helm uninstall
                                                    properties:
                                                        deletionPropagation:
                                                            description: DeletionPropagation
                                                            enum:
                                                                - orphan
                                                                - foreground
                                                                - background
                                                            type: string
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on uninstall
                                                                Default to false
                                                            type: boolean
                                                        keepHistory:
                                                            description: |-
                                                                When uninstall a chart with this flag, Helm removes the resources associated with the chart,
                                                                but it keeps the release information. This allows to see details about the uninstalled release
                                                                using the helm history command.
                                                            type: boolean
                                                    type: object
                                                upgradeOptions:
                                                    description: HelmUpgradeOptions are options specific to helm upgrade
                                                    properties:
                                                        cleanupOnFail:
                                                            default: false
                                                            description: CleanupOnFail will, if true, cause the upgrade to delete newly-created resources on a failed update.
                                                            type: boolean
                                                        disableHooks:
                                                            default: false
                                                            description: |-
                                                                prevent hooks from running during install. If set to true, overrides
                                                                DisableHooks in HelmOptions. Use this one when you want to selective
                                                                disable hooks on upgrade
                                                                Default to false
                                                            type: boolean
                                                        force:
                                                            default: false
                                                            description: |-
                                                                Force will, if set to `true`, ignore certain warnings and perform the upgrade anyway.
                                                                This should be used with caution.
                                                            type: boolean
                                                        maxHistory:
                                                            default: 2
                                                            description: |-
                                                                MaxHistory limits the maximum number of revisions saved per release
                                                                Default to 2
                                                            type: integer
                                                        recreate:
                                                            default: false
                                                            description: Recreate will (if true) recreate pods after a rollback.
                                                            type: boolean
                                                        resetThenReuseValues:
                                                            default: false
                                                            description: ResetThenReuseValues will reset the values to the chart's built-ins then merge with user's last supplied values.
                                                            type: boolean
                                                        resetValues:
                                                            default: false
                                                            description: ResetValues will reset the values to the chart's built-ins rather than merging with existing.
                                                            type: boolean
                                                        reuseValues:
                                                            default: false
                                                            description: |-
                                                                ReuseValues copies values from the current release to a new release if the
                                                                new release does not have any values. If the request already has values,
                                                                or if there are no values in the current release, this does nothing.
                                                                This is skipped if the ResetValues flag is set, in which case the
                                                                request values are not altered.
                                                            type: boolean
                                                        subNotes:
                                                            default: false
                                                            description: SubNotes determines whether sub-notes are rendered in the chart.
                                                            type: boolean
                                                        takeOwnership:
                                                            default: false
                                                            description: |-
                                                                if set, upgrade will ignore the check for helm annotations
                                                                and take ownership of the existing resources
                                                            type: boolean
                                                        upgradeCRDs:
                                                            default: false
                                                            description: |-
                                                                UpgradeCRDs upgrade CRDs from the Helm Chart's crds directory
                                                                By default, CRDs are not applied during Helm upgrade action by Helm
                                                                https://helm.sh/docs/chart_best_practices/custom_resource_definitions/
                                                            type: boolean
                                                    type: object
                                                wait:
                                                    default: false
                                                    description: |-
                                                        if set, will wait until all Pods, PVCs, Services, and minimum number of Pods of a Deployment, StatefulSet, or ReplicaSet
                                                        are in a ready state before marking the release as successful. It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                                waitForJobs:
                                                    default: false
                                                    description: |-
                                                        if set and --wait enabled, will wait until all Jobs have been completed before marking the release as successful.
                                                        It will wait for as long as --timeout
                                                        Default to false
                                                    type: boolean
                                            type: object
                                        registryCredentialsConfig:
                                            description: |-
                                                RegistryCredentialsConfig is an optional configuration for credentials,
                                                including information to connect to private registries.
                                            properties:
                                                ca:
                                                    description: |-
                                                        CASecretRef references a secret containing the TLS CA certificate
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                        key: ca.crt
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                credentials:
                                                    description: |-
                                                        CredentialsSecretRef references a secret containing credentials
                                                        For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                        be implicit set to cluster's namespace.
                                                    properties:
                                                        name:
                                                            description: name is unique within a namespace to reference a secret resource.
                                                            type: string
                                                        namespace:
                                                            description: namespace defines the space within which the secret name must be unique.
                                                            type: string
                                                    type: object
                                                    x-kubernetes-map-type: atomic
                                                insecureSkipTLSVerify:
                                                    description: InsecureSkipTLSVerify controls server certificate verification.
                                                    type: boolean
                                                key:
                                                    description: |-
                                                        Key specifies the key within the CredentialsSecretRef containing the data
                                                        If not specified, it defaults to the only key in the secret if there's just one.
                                                    type: string
                                                plainHTTP:
                                                    description: PlainHTTP indicates to use insecure HTTP connections for the chart download
                                                    type: boolean
                                            type: object
                                        releaseName:
                                            description: ReleaseName is the chart release
                                            minLength: 1
                                            type: string
                                        releaseNamespace:
                                            description: ReleaseNamespace is the namespace release will be installed
                                            minLength: 1
                                            type: string
                                        repositoryName:
                                            description: |-
                                                RepositoryName is the name helm chart repository
                                                This field is used only when RepositoryURL points to a traditional HTTP or OCI repository.
                                                It is ignored if RepositoryURL references a Flux Source.
                                                Must be defined otherwise.
                                            type: string
                                        repositoryURL:
                                            description: |-
                                                RepositoryURL is the URL helm chart repository
                                                It can point to a traditional HTTP-based repository or an OCI registry.
                                                Examples:
                                                  - HTTP Repository: https://charts.example.com/stable
                                                  - OCI Registry: oci://registry.example.com/namespace/charts
                                                  - GitHub Pages: https://<username>.github.io/<repository>/
                                                  - Any other valid URL where Helm charts are hosted.

                                                Alternatively, it can be a Flux source reference:
                                                  <flux source kind>://<flux source namespace>/<flux source name>/<path>

                                                Where:
                                                  - <flux source kind> is the type of Flux source (gitrepository, ocirepository, bucket).
                                                  - <flux source namespace> and <flux source name> are the namespace and name of the Flux Source in the management cluster.
                                                  - <path> is the path within the source repository where the Helm charts are located.

                                                For instance:
                                                  gitrepository://flux-system/flux-system/charts/projectsveltos

                                                Assuming there is a Flux GitRepository named 'flux-system' in the 'flux-system' namespace
                                                syncing 'https://github.com/projectsveltos/helm-charts.git/', and the Helm charts are
                                                located in the 'charts/projectsveltos' directory of that repository.
                                            minLength: 1
                                            type: string
                                        values:
                                            description: |-
                                                Values field allows to define configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to store configuration for the Helm release.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - releaseName
                                        - releaseNamespace
                                        - repositoryURL
                                    type: object
                                    x-kubernetes-validations:
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartName) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.chartVersion) >= 1 : true'
                                        - message: ChartVersion must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.chartVersion) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''http'') ? size(self.repositoryName) >= 1 : true'
                                        - message: RepositoryName must be defined
                                          rule: 'self.repositoryURL.startsWith(''oci'') ? size(self.repositoryName) >= 1 : true'
                                type: array
                                x-kubernetes-list-type: atomic
                            kustomizationRefs:
                                description: |-
                                    Kustomization refs
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        components:
                                            description: |-
                                                Components is a list of paths to Kustomize components. These paths are relative to the
                                                `Path` field and are included in the Kustomize build to provide reusable configuration logic.
                                                The paths can be static or leverage Go templates for dynamic customization.
                                            items:
                                                type: string
                                            type: array
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                                NOTE: DeploymentType Local cannot be used when the matching cluster is the management cluster itself.
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - flux GitRepository;OCIRepository;Bucket
                                                - ConfigMap/Secret
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the kustomization.yaml file, or the
                                                set of plain YAMLs a kustomization.yaml should be generated for.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster)
                                            type: string
                                        targetNamespace:
                                            description: |-
                                                TargetNamespace sets or overrides the namespace in the
                                                kustomization.yaml file.
                                            maxLength: 63
                                            minLength: 1
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different KustomizationRef
                                                within the same ClusterProfile or Profile.
                                                When two KustomizationRef attempt to deploy the same resource, the KustomizationRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                        values:
                                            additionalProperties:
                                                type: string
                                            description: |-
                                                Values is a map[string]string type that allows to define a set of key-value pairs.
                                                These key-value pairs can optionally leverage Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            type: object
                                        valuesFrom:
                                            description: |-
                                                ValuesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                                it is possible to define key-value pairs. These key-value pairs can optionally leverage
                                                Go templates for further processing.
                                                With Sveltos, you can define key-value pairs where the values can be Go templates.
                                                These templates have access to management cluster information during deployment. This allows
                                                to do more than just replace placeholders. Variables can be used to dynamically
                                                construct values based on other resources or variables within the Kustomize output.
                                                For example, imagine you have a Region key with a template value like:
                                                '{{ index .Cluster.metadata.labels "region" }}'.
                                                This template retrieves the region label from the cluster instance metadata.
                                                Finally, Sveltos uses these processed values to fill placeholders in the Kustomize output.
                                                The output itself can also contain templates, like:
                                                region: '{{ default "west" .Region }}'.
                                                This way, the final output from Kustomize will have the region set dynamically based on
                                                the actual region retrieved earlier.
                                            items:
                                                properties:
                                                    kind:
                                                        description: |-
                                                            Kind of the resource. Supported kinds are:
                                                            - ConfigMap/Secret
                                                        enum:
                                                            - ConfigMap
                                                            - Secret
                                                        type: string
                                                    name:
                                                        description: |-
                                                            Name of the referenced resource.
                                                            Name can be expressed as a template and instantiate using any cluster field.
                                                        minLength: 1
                                                        type: string
                                                    namespace:
                                                        description: |-
                                                            Namespace of the referenced resource.
                                                            For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                            be implicit set to cluster's namespace.
                                                            For Profile namespace must be left empty. The Profile namespace will be used.
                                                            Namespace can be expressed as a template and instantiate using any cluster field.
                                                        type: string
                                                    optional:
                                                        default: false
                                                        description: |-
                                                            Optional indicates that the referenced resource is not mandatory.
                                                            If set to true and the resource is not found, the error will be ignored,
                                                            and Sveltos will continue processing other ValueFroms.
                                                        type: boolean
                                                required:
                                                    - kind
                                                    - name
                                                type: object
                                            type: array
                                    required:
                                        - kind
                                        - name
                                        - namespace
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            maxUpdate:
                                anyOf:
                                    - type: integer
                                    - type: string
                                description: |-
                                    The maximum number of clusters that can be updated concurrently.
                                    Value can be an absolute number (ex: 5) or a percentage of desired pods (ex: 10%).
                                    Defaults to 100%.
                                    Example: when this is set to 30%, when list of add-ons/applications in ClusterProfile
                                    changes, only 30% of matching clusters will be updated in parallel. Only when updates
                                    in those cluster succeed, other matching clusters are updated.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                pattern: ^((100|[0-9]{1,2})%|[0-9]+)$
                                x-kubernetes-int-or-string: true
                            oneForEvent:
                                description: |-
                                    Multiple resources in a managed cluster can be a match for referenced
                                    EventSource. OneForEvent indicates whether a ClusterProfile for all
                                    resource (OneForEvent = false) or one per resource (OneForEvent = true)
                                    needs to be creted.
                                type: boolean
                                x-kubernetes-validations:
                                    - message: Value is immutable
                                      rule: self == oldSelf
                            patches:
                                description: |-
                                    Define additional Kustomize inline Patches applied for all resources on this profile
                                    Within the Patch Spec you can use templating
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    description: |-
                                        Patch contains an inline StrategicMerge or JSON6902 patch, and the target the patch should
                                        be applied to.
                                    properties:
                                        patch:
                                            description: |-
                                                Patch contains an inline StrategicMerge patch or an inline JSON6902 patch with
                                                an array of operation objects.
                                                These values can be static or leverage Go templates for dynamic customization.
                                                When expressed as templates, the values are filled in using information from
                                                resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                            type: string
                                        target:
                                            description: Target points to the resources that the patch document should be applied to.
                                            properties:
                                                annotationSelector:
                                                    description: |-
                                                        AnnotationSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource annotations.
                                                    type: string
                                                group:
                                                    description: |-
                                                        Group is the API group to select resources from.
                                                        Together with Version and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the API Group to select resources from.
                                                        Together with Group and Version it is capable of unambiguously
                                                        identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                                labelSelector:
                                                    description: |-
                                                        LabelSelector is a string that follows the label selection expression
                                                        https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#api
                                                        It matches with the resource labels.
                                                    type: string
                                                name:
                                                    description: Name to match resources with.
                                                    type: string
                                                namespace:
                                                    description: Namespace to select resources from.
                                                    type: string
                                                version:
                                                    description: |-
                                                        Version of the API Group to select resources from.
                                                        Together with Group and Kind it is capable of unambiguously identifying and/or selecting resources.
                                                        https://github.com/kubernetes/community/blob/master/contributors/design-proposals/api-machinery/api-group.md
                                                    type: string
                                            type: object
                                    required:
                                        - patch
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            patchesFrom:
                                description: |-
                                    PatchesFrom can reference ConfigMap/Secret instances. Within the ConfigMap or Secret data,
                                    it is possible to store additional Kustomize inline Patches applied for all resources on this profile
                                    These values can be static or leverage Go templates for dynamic customization.
                                    When expressed as templates, the values are filled in using information from
                                    resources within the management cluster before deployment (Cluster and TemplateResourceRefs)
                                items:
                                    properties:
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                            enum:
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. The Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other ValueFroms.
                                            type: boolean
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            policyRefs:
                                description: |-
                                    PolicyRefs references all the ConfigMaps/Secrets containing kubernetes resources
                                    that need to be deployed in the matching clusters based on EventSource.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        deploymentType:
                                            default: Remote
                                            description: |-
                                                DeploymentType indicates whether resources need to be deployed
                                                into the management cluster (local) or the managed cluster (remote)
                                            enum:
                                                - Local
                                                - Remote
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the resource. Supported kinds are:
                                                - ConfigMap/Secret
                                                - flux GitRepository;OCIRepository;Bucket
                                            enum:
                                                - GitRepository
                                                - OCIRepository
                                                - Bucket
                                                - ConfigMap
                                                - Secret
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using any cluster field.
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                For Profile namespace must be left empty. Profile namespace will be used.
                                                Namespace can be expressed as a template and instantiate using any cluster field.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other PolicyRefs.
                                            type: boolean
                                        path:
                                            description: |-
                                                Path to the directory containing the YAML files.
                                                Defaults to 'None', which translates to the root path of the SourceRef.
                                                Used only for GitRepository;OCIRepository;Bucket
                                            type: string
                                        tier:
                                            default: 100
                                            description: |-
                                                Tier controls the order of deployment for resources coming from different PolicyRefs
                                                within the same ClusterProfile or Profile.
                                                When two PolicyRefs attempt to deploy the same resource, the PolicyRef with the lowest
                                                Tier value takes priority and deploys/updates the resource.
                                                This priority mechanism is only checked after the parent ClusterProfile has won
                                                the primary conflict resolution against other ClusterProfiles.
                                                Higher Tier values represent lower priority. The default Tier value is 100.
                                            format: int32
                                            minimum: 1
                                            type: integer
                                    required:
                                        - kind
                                        - name
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            postDeleteChecks:
                                description: |-
                                    PostDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *after* Sveltos has deleted all resources.
                                    This ensures that the environment has reached the desired clean state.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            preDeleteChecks:
                                description: |-
                                    PreDeleteChecks is a slice of Lua functions to run against
                                    the managed cluster *before* Sveltos starts deleting resources.
                                    If any of these fail, the deletion process is halted.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                            profileNameFormat:
                                description: |-
                                    InstantiatedProfileNameFormat defines a template used to generate the name
                                    of the ClusterProfile created in the management cluster. The template can reference:
                                    - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                    - `.Cluster.metadata.name`: name of the managed cluster
                                    - `.Cluster.kind`: kind of the managed cluster object
                                    - event data
                                type: string
                            reloader:
                                default: false
                                description: |-
                                    Reloader indicates whether Deployment/StatefulSet/DaemonSet instances deployed
                                    by Sveltos and part of this ClusterProfile need to be restarted via rolling upgrade
                                    when a ConfigMap/Secret instance mounted as volume is modified.
                                    When set to true, when any mounted ConfigMap/Secret is modified, Sveltos automatically
                                    starts a rolling upgrade for Deployment/StatefulSet/DaemonSet instances mounting it.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                type: boolean
                            secretGenerator:
                                description: |-
                                    The SecretGenerator field references Secrets containing templates.
                                    These referenced Secret will be dynamically instantiated in the management cluster
                                    based on event data.
                                items:
                                    properties:
                                        name:
                                            description: |-
                                                Name of the referenced resource.
                                                Name can be expressed as a template and instantiate using
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                            minLength: 1
                                            type: string
                                        nameFormat:
                                            description: |-
                                                InstantiatedResourceNameFormat defines a template used to generate the name
                                                of the resource created in the management cluster. The template can reference:
                                                - `.Cluster.metadata.namespace`: namespace of the managed cluster
                                                - `.Cluster.metadata.name`: name of the managed cluster
                                                - `.Cluster.kind`: kind of the managed cluster object
                                                - event data
                                            minLength: 1
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referenced resource.
                                                Namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                            type: string
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other generators.
                                            type: boolean
                                    required:
                                        - name
                                        - nameFormat
                                    type: object
                                type: array
                            sourceClusterSelector:
                                description: |-
                                    SourceClusterSelector identifies clusters to associate to.
                                    This represents the set of clusters where Sveltos will watch for
                                    events defined by referenced EventSource
                                properties:
                                    matchExpressions:
                                        description: matchExpressions is a list of label selector requirements. The requirements are ANDed.
                                        items:
                                            description: |-
                                                A label selector requirement is a selector that contains values, a key, and an operator that
                                                relates the key and values.
                                            properties:
                                                key:
                                                    description: key is the label key that the selector applies to.
                                                    type: string
                                                operator:
                                                    description: |-
                                                        operator represents a key's relationship to a set of values.
                                                        Valid operators are In, NotIn, Exists and DoesNotExist.
                                                    type: string
                                                values:
                                                    description: |-
                                                        values is an array of string values. If the operator is In or NotIn,
                                                        the values array must be non-empty. If the operator is Exists or DoesNotExist,
                                                        the values array must be empty. This array is replaced during a strategic
                                                        merge patch.
                                                    items:
                                                        type: string
                                                    type: array
                                                    x-kubernetes-list-type: atomic
                                            required:
                                                - key
                                                - operator
                                            type: object
                                        type: array
                                        x-kubernetes-list-type: atomic
                                    matchLabels:
                                        additionalProperties:
                                            type: string
                                        description: |-
                                            matchLabels is a map of {key,value} pairs. A single {key,value} in the matchLabels
                                            map is equivalent to an element of matchExpressions, whose key field is "key", the
                                            operator is "In", and the values array contains only "value". The requirements are ANDed.
                                        type: object
                                type: object
                                x-kubernetes-map-type: atomic
                            stopMatchingBehavior:
                                default: WithdrawPolicies
                                description: |-
                                    StopMatchingBehavior indicates what behavior should be when a Cluster stop matching
                                    the ClusterProfile. By default all deployed Helm charts and Kubernetes resources will
                                    be withdrawn from Cluster. Setting StopMatchingBehavior to LeavePolicies will instead
                                    leave ClusterProfile deployed policies in the Cluster.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                enum:
                                    - WithdrawPolicies
                                    - LeavePolicies
                                type: string
                            syncMode:
                                default: Continuous
                                description: |-
                                    SyncMode specifies how features are synced in a matching workload cluster.
                                    - OneTime means, first time a workload cluster matches the ClusterProfile,
                                    features will be deployed in such cluster. Any subsequent feature configuration
                                    change won't be applied into the matching workload clusters;
                                    - Continuous mode ensures that the first time a workload cluster matches a ClusterProfile,
                                    the specified features are deployed. Subsequent changes to the feature configuration are also
                                    automatically applied to all matching workload clusters.
                                    _ SyncModeContinuousWithDriftDetection operates similarly to Continuous mode, but also monitors
                                    matching managed clusters for configuration drift. If drift is detected, a reconciliation is
                                    triggered to ensure the managed cluster's configuration aligns with the ClusterProfile.
                                    - DryRun means no change will be propagated to any matching cluster. A report
                                    instead will be generated summarizing what would happen in any matching cluster
                                    because of the changes made to ClusterProfile while in DryRun mode.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                enum:
                                    - OneTime
                                    - Continuous
                                    - ContinuousWithDriftDetection
                                    - DryRun
                                type: string
                            templateResourceRefs:
                                description: |-
                                    TemplateResourceRefs is a list of resource to collect from the management cluster.
                                    Those resources' values will be used to instantiate templates contained in referenced
                                    PolicyRefs and Helm charts
                                    This field will be directly transferred to the ClusterProfile Spec
                                items:
                                    properties:
                                        identifier:
                                            description: |-
                                                Identifier is how the resource will be referred to in the
                                                template
                                            type: string
                                        ignoreStatusChanges:
                                            default: false
                                            description: |-
                                                IgnoreStatusChanges indicates whether changes to the status of the referenced
                                                resource should be ignored. If set to true, only changes to the spec or
                                                metadata (generation change) will trigger a reconciliation.
                                            type: boolean
                                        optional:
                                            default: false
                                            description: |-
                                                Optional indicates that the referenced resource is not mandatory.
                                                If set to true and the resource is not found, the error will be ignored,
                                                and Sveltos will continue processing other TemplateResourceRefs.
                                            type: boolean
                                        resource:
                                            description: |-
                                                Resource references a Kubernetes instance in the management
                                                cluster to fetch and use during template instantiation.
                                                For ClusterProfile namespace can be left empty. In such a case, namespace will
                                                be implicit set to cluster's namespace.
                                                Name and namespace can be expressed as a template and instantiate using any cluster field.
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                    required:
                                        - identifier
                                        - resource
                                    type: object
                                type: array
                            tier:
                                default: 100
                                description: |-
                                    Tier controls the order of deployment for ClusterProfile or Profile resources targeting
                                    the same cluster resources.
                                    Imagine two configurations (ClusterProfiles or Profiles) trying to deploy the same resource (a Kubernetes
                                    resource or an helm chart). By default, the first one to reach the cluster "wins" and deploys it.
                                    Tier allows you to override this. When conflicts arise, the ClusterProfile or Profile with the **lowest**
                                    Tier value takes priority and deploys the resource.
                                    Higher Tier values represent lower priority. The default Tier value is 100.
                                    Using Tiers provides finer control over resource deployment within your cluster, particularly useful
                                    when multiple configurations manage the same resources.
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                format: int32
                                minimum: 1
                                type: integer
                            validateHealths:
                                description: |-
                                    ValidateHealths is a slice of Lua functions to run against
                                    the managed cluster to validate the state of those add-ons/applications
                                    is healthy
                                    This field will be directly transferred to the ClusterProfile Spec
                                    generated in response to events.
                                items:
                                    properties:
                                        evaluateCEL:
                                            description: |-
                                                EvaluateCEL contains a list of named CEL (Common Expression Language) rules.
                                                Each rule will be evaluated in order against each object selected based on
                                                the criteria defined above. Each rule's expression must return a boolean value
                                                indicating whether the object is a match.

                                                Evaluation stops at the first rule that returns true; subsequent
                                                rules will not be evaluated.
                                            items:
                                                description: CELRule defines a named CEL rule used in EvaluateCEL.
                                                properties:
                                                    name:
                                                        description: Name is a human-readable identifier for the rule.
                                                        type: string
                                                    rule:
                                                        description: |-
                                                            Rule is the CEL (Common Expression Language) expression to evaluate.
                                                            It must return a bool
                                                        type: string
                                                required:
                                                    - name
                                                    - rule
                                                type: object
                                            type: array
                                        featureID:
                                            description: |-
                                                FeatureID is an indentifier of the feature (Helm/Kustomize/Resources)
                                                This field indicates when to run this check.
                                                For instance:
                                                - if set to Helm this check will be run after all helm
                                                charts specified in the ClusterProfile are deployed.
                                                - if set to Resources this check will be run after the content
                                                of all the ConfigMaps/Secrets referenced by ClusterProfile in the
                                                PolicyRef sections is deployed
                                            enum:
                                                - Resources
                                                - Helm
                                                - Kustomize
                                            type: string
                                        group:
                                            description: Group of the resource to fetch in the managed Cluster.
                                            type: string
                                        kind:
                                            description: Kind of the resource to fetch in the managed Cluster.
                                            minLength: 1
                                            type: string
                                        labelFilters:
                                            description: LabelFilters allows to filter resources based on current labels.
                                            items:
                                                properties:
                                                    key:
                                                        description: Key is the label key
                                                        type: string
                                                    operation:
                                                        description: Operation is the comparison operation
                                                        enum:
                                                            - Equal
                                                            - Different
                                                            - Has
                                                            - DoesNotHave
                                                        type: string
                                                    value:
                                                        description: Value is the label value
                                                        type: string
                                                required:
                                                    - key
                                                    - operation
                                                type: object
                                            type: array
                                        name:
                                            description: Name is the name of this check
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the resource to fetch in the managed Cluster.
                                                Empty for resources scoped at cluster level.
                                            type: string
                                        script:
                                            description: |-
                                                Script is a text containing a lua script.
                                                Must return struct with field "health"
                                                representing whether object is a match (true or false)
                                            type: string
                                        version:
                                            description: Version of the resource to fetch in the managed Cluster.
                                            type: string
                                    required:
                                        - featureID
                                        - group
                                        - kind
                                        - name
                                        - version
                                    type: object
                                type: array
                                x-kubernetes-list-type: atomic
                        required:
                            - eventSourceName
                            - sourceClusterSelector
                        type: object
                    status:
                        description: EventTriggerStatus defines the observed state of EventTrigger
                        properties:
                            clusterInfo:
                                description: |-
                                    ClusterInfo represent the deployment status in each managed
                                    cluster.
                                items:
                                    properties:
                                        cluster:
                                            description: Cluster references the Cluster
                                            properties:
                                                apiVersion:
                                                    description: API version of the referent.
                                                    type: string
                                                fieldPath:
                                                    description: |-
                                                        If referring to a piece of an object instead of an entire object, this string
                                                        should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                        For example, if the object reference is to a container within a pod, this would take on a value like:
                                                        "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                        the event) or if no container name is specified "spec.containers[2]" (container with
                                                        index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                        referencing a part of an object.
                                                    type: string
                                                kind:
                                                    description: |-
                                                        Kind of the referent.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                                    type: string
                                                name:
                                                    description: |-
                                                        Name of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                                    type: string
                                                namespace:
                                                    description: |-
                                                        Namespace of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                                    type: string
                                                resourceVersion:
                                                    description: |-
                                                        Specific resourceVersion to which this reference is made, if any.
                                                        More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                                    type: string
                                                uid:
                                                    description: |-
                                                        UID of the referent.
                                                        More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                                    type: string
                                            type: object
                                            x-kubernetes-map-type: atomic
                                        failureMessage:
                                            description: FailureMessage provides more information about the error.
                                            type: string
                                        hash:
                                            description: |-
                                                Hash represents the hash of the Classifier currently deployed
                                                in the Cluster
                                            format: byte
                                            type: string
                                        status:
                                            description: Status represents the state of the feature in the workload cluster
                                            enum:
                                                - Provisioning
                                                - Provisioned
                                                - Failed
                                                - FailedNonRetriable
                                                - Removing
                                                - Removed
                                            type: string
                                    required:
                                        - cluster
                                        - hash
                                    type: object
                                type: array
                            destinationMatchingClusterRefs:
                                description: |-
                                    DestinationMatchingClusterRefs reference all the cluster-api Cluster currently matching
                                    ClusterProfile DestinationClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                            matchingClusters:
                                description: |-
                                    MatchingClusterRefs reference all the cluster-api Cluster currently matching
                                    ClusterProfile SourceClusterSelector
                                items:
                                    description: ObjectReference contains enough information to let you inspect or modify the referred object.
                                    properties:
                                        apiVersion:
                                            description: API version of the referent.
                                            type: string
                                        fieldPath:
                                            description: |-
                                                If referring to a piece of an object instead of an entire object, this string
                                                should contain a valid JSON/Go field access statement, such as desiredState.manifest.containers[2].
                                                For example, if the object reference is to a container within a pod, this would take on a value like:
                                                "spec.containers{name}" (where "name" refers to the name of the container that triggered
                                                the event) or if no container name is specified "spec.containers[2]" (container with
                                                index 2 in this pod). This syntax is chosen only to have some well-defined way of
                                                referencing a part of an object.
                                            type: string
                                        kind:
                                            description: |-
                                                Kind of the referent.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
                                            type: string
                                        name:
                                            description: |-
                                                Name of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#names
                                            type: string
                                        namespace:
                                            description: |-
                                                Namespace of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/namespaces/
                                            type: string
                                        resourceVersion:
                                            description: |-
                                                Specific resourceVersion to which this reference is made, if any.
                                                More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#concurrency-control-and-consistency
                                            type: string
                                        uid:
                                            description: |-
                                                UID of the referent.
                                                More info: https://kubernetes.io/docs/concepts/overview/working-with-objects/names/#uids
                                            type: string
                                    type: object
                                    x-kubernetes-map-type: atomic
                                type: array
                        type: object
                type: object
          served: true
          storage: true
          subresources:
            status: {}
