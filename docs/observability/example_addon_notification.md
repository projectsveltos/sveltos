---
title: Notifications - Projectsveltos
description: Sveltos is an application designed to manage hundreds of clusters by providing declarative APIs to deploy Kubernetes add-ons across multiple clusters.
tags:
    - Kubernetes
    - add-ons
    - helm
    - clusterapi
    - multi-tenancy
    - Sveltos
    - Slack
authors:
    - Gianluca Mardente
---

## Example: Kubernetes Addons and Notifications

In this example, we will configure Sveltos to perform the below actions whenever all the add-ons and applications listed in the `ClusterProfile` are deployed to the clusters matching the cluster label selector set to **env=fv:**.

1. Send a Slack message
2. Send a Webex message
3. Send a Slack message 
4. Generate a Kubernetes event

```yaml
apiVersion: lib.projectsveltos.io/v1alpha1
kind: ClusterHealthCheck
metadata:
  name: production
spec:
  clusterSelector: env=fv
  livenessChecks:
  - name: addons
    type: Addons
  notifications:
  - name: event
    type: KubernetesEvent
  - name: slack
    type: Slack
    notificationRef:
      apiVersion: v1
      kind: Secret
      name: slack
      namespace: default
  - name: webex
    type: Webex
    notificationRef:
      apiVersion: v1
      kind: Secret
      name: webex
      namespace: default
  - name: discord
    type: Discord
    notificationRef:
      apiVersion: v1
      kind: Secret
      name: discord
      namespace: default     
```

- The `slack` secret contains the Slack channel and the token.

  ```bash
  $ kubectl create secret generic slack --from-literal=SLACK_TOKEN=<your token> --from-literal=SLACK_CHANNEL_ID=<your channel id> --type=addons.projectsveltos.io/cluster-profile 
  ```

- The `Webex` secret contains the Webex room id and the token.

  ```bash
  $ kubectl create secret generic slack --from-literal=WEBEX_TOKEN=<your token> --from-literal=WEBEX_ROOM_ID=<your channel id> --type=addons.projectsveltos.io/cluster-profile 
  ```

- The `discord` secret contains the Discord channel id and the token.

  ```bash
  $ kubectl create secret generic slack --from-literal=DISCORD_TOKEN=<your token> --from-literal=DISCORD_CHANNEL_ID=<your channel id> --type=addons.projectsveltos.io/cluster-profile 
  ```

To list the events generated by Sveltos, use the below command.

```bash
$ kubectl get events -n default --field-selector reason=ClusterHealthCheck                                                                                                                                            
LAST SEEN   TYPE      REASON               OBJECT                  MESSAGE
31s         Normal    ClusterHealthCheck   clusterhealthcheck/hc   cluster Capi:default/sveltos-management-workload...
16s         Warning   ClusterHealthCheck   clusterhealthcheck/hc   cluster Capi:default/sveltos-management-workload...
```

**Note:** The Event type will be set to: `type: Normal` when the add-ons are deployed.

The Event message contains the below information on the cluster:
1. Cluster `type: Capi or Sveltos`
2. Cluster `namespace`
3. Cluster `name`

Once the defined conditions are met, a notification will be generated and visible in the space mentioned above. The below notification is a Webex notification.

![Sveltos Slack notification](../assets/slack_notitifcation.png) 
